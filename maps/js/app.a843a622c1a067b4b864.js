webpackJsonp([6],{"+t0W":function(t,e){},"+x+S":function(t,e){},"0EtW":function(t,e){t.exports=mapboxgl},"1h+6":function(t,e){},"3cF7":function(t,e){},"73kl":function(t,e){},"8J25":function(t,e,s){t.exports=s.p+"img/mapThumb.a7a75b4.png"},AcXm:function(t,e){},DEaG:function(t,e){},DfX9:function(t,e){},DyN7:function(t,e){},EMik:function(t,e){},Eqwh:function(t,e){},EwwC:function(t,e){},FV9A:function(t,e){},GOW9:function(t,e,s){t.exports=s.p+"img/pedro.0f89db7.png"},GTui:function(t,e){},"H/o7":function(t,e){},"HUk+":function(t,e){},I1no:function(t,e){},JljH:function(t,e){},M4CA:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i,r,n,o,l,c,u,d,p,v,h,m,_,f,g,C,y,b,E,w=s("7+uW"),S=s("mtWM"),T=s.n(S),k=s("NYxO"),A=s("DWaH"),L={stripe:{publicKey:"pk_live_7VcifpgfjXcn6bALkmD6s2dF"},host:{app:"https://scoutred.com",api:"https://scoutred.com"},mapStyles:{satellite:"https://styles.scoutred.com/v1/scoutred-satellite.json",vector:"https://styles.scoutred.com/v1/scoutred.json"},routerBase:"/maps/",googleAnalytics:{trackingId:"UA-51537973-1"}},I=L,R=T.a.create({baseURL:I.host.api,timeout:1e4}),x=s("Dd8w"),M=s.n(x),$=s("//Fk"),N=s.n($),P=s("Xxa5"),O=s.n(P),D=s("exGp"),F=s.n(D),U=function(t,e){return e.response.status?"4"===String(e.response.status).substr(0,1)?t+" not found":(String(e.response.status).substr(0,1),"oops, there was a problem with "+t):"oops, there was a problem with "+t},z=this,G={state:{rec:null,token:null,customer:null},getters:{},actions:{AGENT_INIT:function(){var t=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=Object(A.a)("scout")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.dispatch("AGENT_GET",{});case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:e.commit("AGENT_TOKEN_SET",{token:s});case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),AGENT_GET:(a=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/api/agent",{});case 2:if((s=t.sent)&&s.data){t.next=5;break}return t.abrupt("return",null);case 5:return e.commit("AGENT_REC_SET",{rec:s.data}),t.abrupt("return",s.data);case 7:case"end":return t.stop()}},t,z)})),function(t){return a.apply(this,arguments)}),AGENT_LOGIN:function(t,e){var s=e.email,a=e.password;return new N.a(function(e,i){R.post("/api/login",{email:s,password:a}).then(function(s){t.commit("AGENT_TOKEN_SET",{token:s.data.token}),t.dispatch("PLAN_CURRENT").then(function(){e()})}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:"error logging in, check your email and password"}),i(e)})})},AGENT_SIGNUP:function(t,e){var s=e.email,a=e.password;return new N.a(function(e,i){R.post("/api/signup",{email:s,password:a}).then(function(s){t.commit("AGENT_TOKEN_SET",{token:s.data.token}),t.dispatch("PLAN_CURRENT").then(function(){t.commit("PLAN_LOADED_SET",!0),e()})}).catch(function(e){"email already signed up"===e.response.data.error?t.commit("ERROR_MESSAGE_SET",{message:"email already signed up"}):t.commit("ERROR_MESSAGE_SET",{message:"error signing up, check your email and password"}),i(e)})})},AGENT_LOGOUT:function(t){return new N.a(function(e,s){t.commit("AGENT_TOKEN_REMOVE",{token:null}),t.commit("STRIPE_CUSTOMER_SET",{customer:null}),t.dispatch("STRIPE_CARD_CLEAR"),t.dispatch("PLAN_CLEAR"),e()})},AGENT_CUSTOMER_GET:function(t){return new N.a(function(e,s){R.get("/api/agent/customer",{}).then(function(s){t.commit("STRIPE_CUSTOMER_SET",{customer:s.data.stripeCustomer}),e(s)}).catch(function(a){switch(a.response.status){case 401:case 406:return e()}t.commit("ERROR_MESSAGE_SET",{message:U("customer",a)}),s(a)})})},AGENT_EMAIL_CHANGE:function(t,e){var s=e.userId,a=e.email;return new N.a(function(e,i){R.patch("/api/users/"+s+"/email",{email:a}).then(function(s){t.commit("AGENT_EMAIL_SET",{email:a}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("email change",e)}),i(e)})})},AGENT_RESET_PASSWORD:function(t,e){var s=e.email;return new N.a(function(e,a){R.post("/api/users/forgot-password/send",{email:s}).then(function(t){e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("email reset send",e)}),a(e)})})}},mutations:{AGENT_EMAIL_SET:function(t,e){var s=e.email;t.rec=M()({},rec,{email:s})},AGENT_REC_SET:function(t,e){var s=e.rec;t.rec=s},AGENT_TOKEN_SET:function(t,e){var s=e.token;Object(A.c)("scout",s,{expires:"1Y"}),T.a.defaults.headers.common.Authorization="BEARER "+s,t.token=s},AGENT_TOKEN_REMOVE:function(t,e){e.token;Object(A.b)("scout"),T.a.defaults.headers.common.Authorization="",t.token=null}}},B=this,V={state:{recs:null,parcelFeatures:null,parcels:null,rec:null,unlocked:null,unlockedFeatures:null},getters:{},actions:{COLLECTION_ADD:(m=F()(O.a.mark(function t(e,s){var a,i=s.name;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.post("/api/collections",{name:i});case 2:return a=t.sent,t.next=5,e.dispatch("COLLECTIONS_GET");case 5:return t.abrupt("return",a.data);case 6:case"end":return t.stop()}},t,B)})),function(t,e){return m.apply(this,arguments)}),COLLECTION_GET:(h=F()(O.a.mark(function t(e,s){var a,i=s.collectionId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/api/collections/"+i);case 2:a=t.sent,e.commit("COLLECTION_REC_SET",{rec:a.data});case 4:case"end":return t.stop()}},t,B)})),function(t,e){return h.apply(this,arguments)}),COLLECTION_PARCEL_ADD:(v=F()(O.a.mark(function t(e,s){var a=s.addressId,i=s.collectionId,r=s.parcelId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.patch("/api/collections/"+i+"/parcels",{add:[{addressId:a,parcelId:r}]});case 2:return t.sent,t.next=5,e.dispatch("PARCEL_GET",{id:r,addressId:a});case 5:case"end":return t.stop()}},t,B)})),function(t,e){return v.apply(this,arguments)}),COLLECTIONS_PARCEL_FEATURES_GET:(p=F()(O.a.mark(function t(e,s){var a,i=s.collectionId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/api/collections/"+i+"/parcels/centroids");case 2:a=t.sent,e.commit("COLLECTION_PARCEL_FEATURES_SET",{features:a.data});case 4:case"end":return t.stop()}},t,B)})),function(t,e){return p.apply(this,arguments)}),COLLECTION_PARCEL_REMOVE:(d=F()(O.a.mark(function t(e,s){var a=s.addressId,i=s.collectionId,r=s.parcelId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.patch("/api/collections/"+i+"/parcels",{remove:[{parcelId:r}]});case 2:return t.sent,t.next=5,e.dispatch("PARCEL_GET",{id:r,addressId:a});case 5:case"end":return t.stop()}},t,B)})),function(t,e){return d.apply(this,arguments)}),COLLECTION_PARCELS_REMOVE:(u=F()(O.a.mark(function t(e,s){var a,i=s.collectionId,r=s.parcelIds;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.map(function(t){return{parcelId:t}}),t.next=3,R.patch("/api/collections/"+i+"/parcels",{remove:a});case 3:t.sent,e.dispatch("COLLECTION_PARCELS_GET",{collectionId:i});case 5:case"end":return t.stop()}},t,B)})),function(t,e){return u.apply(this,arguments)}),COLLECTION_PARCELS_GET:(c=F()(O.a.mark(function t(e,s){var a,i=s.collectionId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/api/collections/"+i+"/parcels");case 2:return a=t.sent,t.next=5,e.commit("COLLECTION_PARCELS_SET",{recs:a.data});case 5:case"end":return t.stop()}},t,B)})),function(t,e){return c.apply(this,arguments)}),COLLECTION_REMOVE:(l=F()(O.a.mark(function t(e,s){var a=s.collectionId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.delete("/api/collections/"+a);case 2:t.sent;case 3:case"end":return t.stop()}},t,B)})),function(t,e){return l.apply(this,arguments)}),COLLECTION_SAVE:(o=F()(O.a.mark(function t(e,s){var a,i=s.collectionId,r=s.name;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/collections/"+i,{name:r});case 2:a=t.sent,e.commit("COLLECTION_REC_SET",{rec:a.data});case 4:case"end":return t.stop()}},t,B)})),function(t,e){return o.apply(this,arguments)}),COLLECTIONS_GET:(n=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/api/collections");case 2:s=t.sent,e.commit("COLLECTIONS_SET",{recs:s.data});case 4:case"end":return t.stop()}},t,B)})),function(t){return n.apply(this,arguments)}),COLLECTIONS_UNLOCKED_GET:(r=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/api/parcels/unlocked");case 2:s=t.sent,e.commit("COLLECTIONS_UNLOCKED_SET",{recs:s.data});case 4:case"end":return t.stop()}},t,B)})),function(t){return r.apply(this,arguments)}),COLLECTIONS_UNLOCKED_FEATURES_GET:(i=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/api/parcels/unlocked/features");case 2:s=t.sent,e.commit("COLLECTIONS_UNLOCKED_FEATURES_SET",{features:s.data});case 4:case"end":return t.stop()}},t,B)})),function(t){return i.apply(this,arguments)})},mutations:{COLLECTION_PARCELS_SET:function(t,e){var s=e.recs;t.parcels=s},COLLECTION_PARCEL_FEATURES_SET:function(t,e){var s=e.features;t.parcelFeatures=s},COLLECTION_REC_SET:function(t,e){var s=e.rec;t.rec=s},COLLECTIONS_SET:function(t,e){var s=e.recs;t.recs=s},COLLECTIONS_UNLOCKED_SET:function(t,e){var s=e.recs;t.unlocked=s},COLLECTIONS_UNLOCKED_FEATURES_SET:function(t,e){var s=e.features;t.unlockedFeatures=s}}},H=s("2aIq"),j=s.n(H),Y=this,Z={rec:null},W={COMMUNITY_PLAN_GET:function(t,e){var s=e.id;return new N.a(function(e,a){R.get("/api/community-plans/"+s).then(function(s){t.commit("COMMUNITY_PLAN_SET",{rec:s.data}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("community plan",e)}),a(U("community plan",e))})})},COMMUNITY_PLAN_HIGHLIGHT:function(t,e){j()(e);var s={styleLayer:"community-plans",sourceLayer:"community_plans",featureId:Z.rec.id,properties:{geohash:Z.rec.geohash}};t.commit("MAP_FEATURE_ACTIVE_SET",s)},COMMUNITY_PLAN_HIGHLIGHT_CLEAR:function(t,e){j()(e),t.commit("MAP_FEATURE_ACTIVE_SET",null)},COMMUNITY_PLAN_REFERENCE_ADD:(C=F()(O.a.mark(function t(e,s){var a,i=s.id,r=s.reference;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=M()({},r),t.next=3,R.post("/api/community-plans/"+i+"/references",a);case 3:t.sent,e.dispatch("COMMUNITY_PLAN_GET",{id:i});case 5:case"end":return t.stop()}},t,Y)})),function(t,e){return C.apply(this,arguments)}),COMMUNITY_PLAN_REFERENCE_DELETE:(g=F()(O.a.mark(function t(e,s){var a=s.id,i=s.referenceId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.delete("/api/community-plans/"+a+"/references/"+i);case 2:t.sent,e.dispatch("COMMUNITY_PLAN_GET",{id:a});case 4:case"end":return t.stop()}},t,Y)})),function(t,e){return g.apply(this,arguments)}),COMMUNITY_PLAN_REFERENCE_SAVE:(f=F()(O.a.mark(function t(e,s){var a=s.id,i=s.reference,r=s.referenceId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/community-plans/"+a+"/references/"+r,i);case 2:t.sent,e.dispatch("COMMUNITY_PLAN_GET",{id:a});case 4:case"end":return t.stop()}},t,Y)})),function(t,e){return f.apply(this,arguments)}),COMMUNITY_PLAN_SAVE:(_=F()(O.a.mark(function t(e,s){var a=s.id,i=s.rec;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/community-plans/"+a,i);case 2:t.sent,e.commit("COMMUNITY_PLAN_SET",{rec:i});case 4:case"end":return t.stop()}},t,Y)})),function(t,e){return _.apply(this,arguments)}),COMMUNITY_PLAN_ZOOM_TO:function(t,e){j()(e),t.commit("MAP_FIT_BOUNDS",{bounds:Z.rec.bounds,maxZoom:11})}},Q={state:Z,getters:{},actions:W,mutations:{COMMUNITY_PLAN_SET:function(t,e){var s=e.rec;t.rec=s}}},q={state:{type:null},getters:{},actions:{DEVICE_TYPE_SET:function(t,e){return new N.a(function(s,a){t.commit("DEVICE_TYPE_SET",e),s()})}},mutations:{DEVICE_TYPE_SET:function(t,e){t.type=e}}},K={state:{message:null},getters:{},actions:{ERROR_MESSAGE_SET:function(t,e){var s=e.message;return new N.a(function(e,a){t.commit("ERROR_MESSAGE_SET",{message:s}),e()})},ERROR_MESSAGE_CLEAR:function(t){t.commit("ERROR_MESSAGE_SET",{message:null})}},mutations:{ERROR_MESSAGE_SET:function(t,e){var s=e.message;t.message=s}}},J={state:{recs:null,loaded:null},getters:{},actions:{FEATURES_SET:function(t,e){var s=e.features;return new N.a(function(e,a){if(!s)return e();t.commit("FEATURES_RECS_SET",{recs:s}),t.commit("FEATURES_LOADED",{loaded:!0}),e()})}},mutations:{FEATURES_RECS_SET:function(t,e){var s=e.recs;t.recs=s},FEATURES_LOADED:function(t,e){var s=e.loaded;t.loaded=s}}},X=s("Gu7T"),tt=s.n(X),et={state:{loaded:!1,params:{loaded:!1,lat:null,lng:null,zoom:null,pitch:null,bearing:null,style:"vector"},clickPoint:null,poi:null,poiHover:null,poiActive:{featureId:null,styleLayer:null,sourceLayer:null,properties:null,geometry:null},labelHover:null,labelActive:{featureId:null,styleLayer:null,sourceLayer:null,properties:null,geometry:null},featureHighlight:null,featureHover:null,featureActive:{featureId:null,styleLayer:null,sourceLayer:null,properties:null,geometry:null},featureVisibleOn:null,featureVisibleOff:null,featureVisibleClear:null,featureQuery:null,featureQueryFound:null,controlLayers:[],layerGroupsVisible:["zoning"],bounds:null,leftMargin:null,fitBounds:{bounds:null,maxZoom:null,minZoom:null,padding:null},fitBoundsDone:null,flyTo:{center:null,zoom:null},flyToDone:null,zoomTo:null},getters:{mapZoomGet:function(t){return function(){return t.params.zoom}}},actions:{MAP_POI_SET:function(t,e){t.commit("MAP_POI_SET",e)},MAP_POI_HOVER_SET:function(t,e){t.commit("MAP_POI_HOVER_SET",e)},MAP_POI_ACTIVE_SET:function(t,e){t.commit("MAP_POI_ACTIVE_SET",e)},MAP_LABEL_HOVER_SET:function(t,e){t.commit("MAP_LABEL_HOVER_SET",e)},MAP_LABEL_ACTIVE_SET:function(t,e){t.commit("MAP_LABEL_ACTIVE_SET",e)},MAP_FEATURE_HIGHLIGHT_SET:function(t,e){t.commit("MAP_FEATURE_HIGHLIGHT_SET",e)},MAP_FEATURE_HOVER_SET:function(t,e){t.commit("MAP_FEATURE_HOVER_SET",e)},MAP_FEATURE_ACTIVE_SET:function(t,e){t.commit("MAP_FEATURE_ACTIVE_SET",e)},MAP_FEATURE_VISIBLE_ON:function(t,e){t.commit("MAP_FEATURE_VISIBLE_ON",e)},MAP_FEATURE_VISIBLE_OFF:function(t,e){t.commit("MAP_FEATURE_VISIBLE_OFF",e)},MAP_FEATURE_VISIBLE_CLEAR:function(t,e){t.commit("MAP_FEATURE_VISIBLE_CLEAR",e)},MAP_FEATURE_QUERY:function(t,e){t.commit("MAP_FEATURE_QUERY",e)},MAP_FEATURE_QUERY_FOUND:function(t,e){t.commit("MAP_FEATURE_QUERY_FOUND",e)},MAP_CLICK_POINT:function(t,e){t.commit("MAP_CLICK_POINT_SET",e)},MAP_CLICK_POINT_CLEAR:function(t,e){t.commit("MAP_CLICK_POINT_CLEAR",e)},MAP_PARAMS_SET:function(t,e){t.commit("MAP_PARAMS_SET",e)},MAP_BOUNDS_SET:function(t,e){t.commit("MAP_BOUNDS_SET",e)},MAP_LEFT_MARGIN_SET:function(t,e){t.commit("MAP_LEFT_MARGIN_SET",e)},MAP_FIT_BOUNDS:function(t,e){t.commit("MAP_FIT_BOUNDS",e)},MAP_FIT_BOUNDS_DONE:function(t,e){t.commit("MAP_FIT_BOUNDS_DONE",e)},MAP_FLY_TO:function(t,e){t.commit("MAP_FLY_TO",e)},MAP_FLY_TO_DONE:function(t,e){t.commit("MAP_FLY_TO_DONE",!0)},MAP_LAYER_GROUP_VISIBLE_OFF:function(t,e){t.commit("MAP_LAYER_GROUP_VISIBLE_OFF",e)},MAP_LAYER_GROUP_VISIBLE_ON:function(t,e){t.commit("MAP_LAYER_GROUP_VISIBLE_ON",e)},MAP_LOADED:function(t,e){t.commit("MAP_LOADED",e)},MAP_STYLE_SET:function(t,e){t.commit("MAP_STYLE_SET",e)},MAP_ZOOM:function(t,e){t.commit("MAP_ZOOM",e)}},mutations:{MAP_POI_SET:function(t,e){t.poi=e},MAP_POI_HOVER_SET:function(t,e){t.poiHover=e},MAP_POI_ACTIVE_SET:function(t,e){t.poiActive=e},MAP_LABEL_HOVER_SET:function(t,e){t.labelHover=e},MAP_LABEL_ACTIVE_SET:function(t,e){t.labelActive=e},MAP_FEATURE_HIGHLIGHT_SET:function(t,e){t.featureHighlight=e},MAP_FEATURE_HOVER_SET:function(t,e){t.featureHover=e},MAP_FEATURE_ACTIVE_SET:function(t,e){t.featureActive=e},MAP_FEATURE_VISIBLE_ON:function(t,e){t.featureVisibleOn=e},MAP_FEATURE_VISIBLE_OFF:function(t,e){t.featureVisibleOff=e},MAP_FEATURE_VISIBLE_CLEAR:function(t,e){t.featureVisibleClear=e},MAP_FEATURE_QUERY:function(t,e){t.featureQuery=e},MAP_FEATURE_QUERY_FOUND:function(t,e){t.featureQueryFound=e},MAP_CLICK_POINT_SET:function(t,e){var s=e.point;t.clickPoint=s},MAP_CLICK_POINT_CLEAR:function(t,e){j()(e),t.clickPoint=null},MAP_PARAMS_SET:function(t,e){t.params=M()({},t.params,e)},MAP_BOUNDS_SET:function(t,e){var s=e.bounds;t.bounds=s},MAP_LEFT_MARGIN_SET:function(t,e){var s=e.leftMargin;t.leftMargin=s},MAP_FIT_BOUNDS:function(t,e){var s=e.bounds,a=e.maxZoom,i=e.minZoom,r=e.padding;t.fitBoundsDone=!1,t.fitBounds={bounds:s,maxZoom:a,minZoom:i,padding:r}},MAP_FIT_BOUNDS_DONE:function(t,e){t.fitBoundsDone=!0},MAP_FLY_TO:function(t,e){var s=e.center,a=e.zoom;t.flyToDone=!1,t.flyTo={center:s,zoom:a}},MAP_FLY_TO_DONE:function(t,e){t.flyToDone=!0},MAP_LAYER_GROUP_VISIBLE_ON:function(t,e){t.layerGroupsVisible.includes(e)||(t.layerGroupsVisible=[].concat(tt()(t.layerGroupsVisible),[e]))},MAP_LAYER_GROUP_VISIBLE_OFF:function(t,e){var s=t.layerGroupsVisible.indexOf(e);-1!==s&&(t.layerGroupsVisible=[].concat(tt()(t.layerGroupsVisible.slice(0,s)),tt()(t.layerGroupsVisible.slice(s+1))))},MAP_LOADED:function(t,e){j()(e),t.loaded=!0},MAP_STYLE_SET:function(t,e){var s=e.style;t.style=s},MAP_ZOOM:function(t,e){var s=e.zoom;t.zoomTo=s}}},st=this,at={rec:null},it={OVERLAY_GET:function(t,e){var s=e.id;return new N.a(function(e,a){R.get("/api/overlays/"+s).then(function(s){t.commit("OVERLAY_SET",{rec:s.data}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("overlay",e)}),a(e)})})},OVERLAY_HIGHLIGHT:function(t,e){j()(e);var s={styleLayer:"overlays",sourceLayer:"overlays",properties:{resource_id:at.rec.id}};t.commit("MAP_FEATURE_ACTIVE_SET",s)},OVERLAY_HIGHLIGHT_CLEAR:function(t,e){j()(e),t.commit("MAP_FEATURE_ACTIVE_SET",null)},OVERLAY_REFERENCE_ADD:function(){var t=F()(O.a.mark(function t(e,s){var a,i=s.id,r=s.reference,n=s.sourceId,o=s.layerId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=M()({},r,{layerId:Number(o),sourceId:Number(n)}),t.next=3,R.post("/api/layer-references",a);case 3:t.sent,e.dispatch("OVERLAY_GET",{id:i});case 5:case"end":return t.stop()}},t,st)}));return function(e,s){return t.apply(this,arguments)}}(),OVERLAY_REFERENCE_DELETE:function(){var t=F()(O.a.mark(function t(e,s){var a=s.id,i=s.referenceId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.delete("/api/layer-references/"+i);case 2:t.sent,e.dispatch("OVERLAY_GET",{id:a});case 4:case"end":return t.stop()}},t,st)}));return function(e,s){return t.apply(this,arguments)}}(),OVERLAY_REFERENCE_SAVE:function(){var t=F()(O.a.mark(function t(e,s){var a=s.id,i=s.reference,r=s.referenceId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/layer-references/"+r,i);case 2:t.sent,e.dispatch("OVERLAY_GET",{id:a});case 4:case"end":return t.stop()}},t,st)}));return function(e,s){return t.apply(this,arguments)}}(),OVERLAY_SAVE:function(){var t=F()(O.a.mark(function t(e,s){var a=s.id,i=s.rec;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/overlays/"+a,i);case 2:t.sent,e.commit("OVERLAY_SET",{rec:i});case 4:case"end":return t.stop()}},t,st)}));return function(e,s){return t.apply(this,arguments)}}(),OVERLAY_VISIBLE:function(t,e){e=e||at.rec;var s=[];s.push({sourceLayer:"overlays",properties:{layer_id:e.layerId,source_id:e.sourceId}}),s.push({sourceLayer:"overlay_labels",properties:{resource_id:e.id}}),t.commit("MAP_FEATURE_VISIBLE_ON",s)},OVERLAY_VISIBLE_CLEAR:function(t,e){t.commit("MAP_FEATURE_VISIBLE_CLEAR","all")},OVERLAY_ZOOM_TO:function(t,e){var s=e.coords,a=void 0,i=void 0;if(s)a=s.lng,i=s.lat;else{if(!at.rec||!at.rec.bounds||!at.rec.bounds.bbox)return;var r=at.rec.bounds.bbox;a=r[0]+(r[2]-r[0])/2,i=r[1]+(r[3]-r[1])/2}t.commit("MAP_FLY_TO",{center:[a,i],zoom:13})}},rt={state:at,getters:{},actions:it,mutations:{OVERLAY_SET:function(t,e){var s=e.rec;t.rec=s}}},nt={state:{plans:{parcelUnlock:{key:"parcelUnlock",price:9,period:null,type:"charge",ga:{eventCategory:"purchase",eventAction:"unlock",eventLabel:"parcel",eventValue:9}},dayPass:{key:"dayPass",price:24,period:null,type:"subscription",ga:{eventCategory:"purchase",eventAction:"subscribe",eventLabel:"day-pass",eventValue:24}},studio:{key:"studio",price:99,period:"month",type:"subscription",ga:{eventCategory:"purchase",eventAction:"subscribe",eventLabel:"studio",eventValue:99}}},current:null,active:!1,loaded:!1},getters:{},actions:{PLAN_CLEAR:function(t){t.commit("PLAN_CLEAR")},PLAN_CURRENT:function(t){return new N.a(function(e,s){R.get("/api/subscriptions?status=active").then(function(s){if(!s||!s.data||s.data.length<1)return t.commit("PLAN_LOADED_SET",!0),e();for(var a=void 0,i=void 0,r=0,n=s.data.length;r<n;r++){var o=s.data[r];if(o.recurring)return t.commit("PLAN_CURRENT_SET",o),t.commit("PLAN_LOADED_SET",!0),e();var l=new Date(o.created).getTime();(!a||l>a)&&(a=l,i=o)}t.commit("PLAN_CURRENT_SET",i),t.commit("PLAN_LOADED_SET",!0),e()}).catch(function(a){switch(a.response.status){case 401:return t.commit("PLAN_LOADED_SET",!0),e()}t.commit("ERROR_MESSAGE_SET",{message:U("subscription plan",a)}),s(a)})})},PLAN_ACTIVE_CHECK:function(t){t.commit("PLAN_ACTIVE_CHECK")}},mutations:{PLAN_CLEAR:function(t,e){t.current=null,t.active=!1},PLAN_CURRENT_SET:function(t,e){t.current=e},PLAN_LOADED_SET:function(t,e){t.loaded=e},PLAN_ACTIVE_CHECK:function(t,e){if(t.current){var s=t.current;if(s.plan.recurring)t.active=!0;else{var a=(new Date).getTime(),i=new Date(s.created).getTime();t.active=a<=i+864e5}}else t.active=!1}}},ot=s("mvHQ"),lt=s.n(ot),ct=function(t){return JSON.parse(window.localStorage.getItem(t))},ut=function(t,e){window.localStorage.setItem(t,lt()(e))},dt={rec:null},pt={state:dt,getters:{getLastParcelPath:function(t){return function(){return ct("lastParcelPath")}}},actions:{PARCEL_COLLECT:function(t,e){var s=e.id;return new N.a(function(e,a){R.get("/api/parcels/"+s).then(function(s){t.commit("PARCEL_SET",{rec:s.data}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("parcel",e)}),a(e)})})},PARCEL_ZOOM_TO:function(t,e){j()(e),t.commit("MAP_FIT_BOUNDS",{bounds:dt.rec.bounds,maxZoom:17,minZoom:16})},PARCEL_HIGHLIGHT:function(t){var e={styleLayer:"parcels",sourceLayer:"parcels",properties:{geohash:dt.rec.geohash}};t.commit("MAP_FEATURE_ACTIVE_SET",e)},PARCEL_MARKER:function(t){if(dt.rec.address){var e={styleLayer:"parcels",sourceLayer:"parcels",geometry:dt.rec.address.geom,properties:{geohash:dt.rec.geohash}};t.commit("MAP_POI_ACTIVE_SET",e)}},PARCEL_MARKER_CLEAR:function(t){t.commit("MAP_POI_ACTIVE_SET",null)},PARCEL_HIGHLIGHT_CLEAR:function(t,e){j()(e),t.commit("MAP_FEATURE_ACTIVE_SET",null)},PARCEL_GET:function(t,e){var s=e.id,a=e.addressId;return new N.a(function(e,i){var r="/api/parcels/"+s;a&&(r+="?address_id="+a),R.get(r).then(function(s){var a=s.data,i={};a.overlays&&a.overlays.length>0&&a.overlays.map(function(t){var e=t.sourceId+"_"+t.layerId;i[e]||(i[e]={name:t.name,category:t.category,description:t.description,sourceId:t.sourceId,layerId:t.layerId,features:[]}),i[e].features.push(t)});var n=[];for(var o in i)n.push(i[o]);a.overlaySources=n,t.commit("PARCEL_SET",{rec:a}),ut("lastParcelPath",r.replace("/api","")),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("parcel",e)}),i(U("parcel",e))})})}},mutations:{PARCEL_SET:function(t,e){var s=e.rec;t.rec=s}}},vt={rec:null},ht={state:vt,getters:{},actions:{PERMIT_ZOOM_TO:function(t,e){var s=e.permit;t.commit("MAP_FLY_TO",{center:s.geom.coordinates,zoom:15.5})},PERMIT_HIGHLIGHT:function(t,e){j()(e),t.commit("MAP_HIGHLIGHT",{sourceLayer:"parcels",featureVal:vt.rec.id})},PERMIT_GET:function(t,e){var s=e.id;return new N.a(function(e,a){R.get("/api/permits/"+s).then(function(s){t.commit("PERMIT_SET",{rec:s.data}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("permit",e)}),a(U("permit",e))})})}},mutations:{PERMIT_SET:function(t,e){var s=e.rec;t.rec=s}}},mt={state:{top:-1,marginTop:0},getters:{},actions:{SCROLL_WINDOW_TOP:function(t){t.commit("SCROLL_TOP_SET",0)},SCROLL_CONTENT_TOP:function(t){t.commit("SCROLL_TOP_MARGIN_SET")},SCROLL_TOP_RESET:function(t){t.commit("SCROLL_TOP_SET",-1)},SCROLL_MARGIN_TOP_SET:function(t,e){var s=e.device;e.viewWindow;return"mobile"===s?t.commit("MARGIN_TOP_SET",window.innerHeight-140):t.commit("MARGIN_TOP_SET",0)}},mutations:{SCROLL_TOP_SET:function(t,e){t.top=e},SCROLL_TOP_MARGIN_SET:function(t){t.top=t.marginTop},MARGIN_TOP_SET:function(t,e){t.marginTop=e}}},_t={state:{results:null,isLoading:!1,term:null,type:null,shown:!1},getters:{getSearchResultsSelected:function(t){return function(){return ct("resultsSelected")||[]}}},actions:{SEARCH:function(t,e){return new N.a(function(s,a){if(!e.doEmptySearch&&!e.query)return t.commit("SEARCH_LOADING_SET",!1),t.commit("SEARCH_RESULTS_SET",[]),void s();t.commit("SEARCH_LOADING_SET",!0),t.commit("SEARCH_TYPE_SET",e.type);var i=void 0,r={q:e.query};"permit"===e.type?(i="/api/search/permits",r.bbox=e.bbox,r.count=50):i="/api/search/addresses",R.get(i,{params:r}).then(function(e){e.data=e.data||[],t.commit("SEARCH_LOADING_SET",!1),s(e.data)}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("search",e)}),t.commit("SEARCH_LOADING_SET",!1),a(e)})})},SEARCH_TERM_SET:function(t,e){return new N.a(function(s,a){t.commit("SEARCH_TERM_SET",e.term),s()})},SEARCH_RESULT_SELECT:function(t,e){return new N.a(function(t,s){var a=ct("resultsSelected")||[],i=!1;if(a.map(function(t){t.id===e.id&&(i=!0)}),i)return t();a.unshift(e),a=a.slice(0,3),ut("resultsSelected",a),t()})},SEARCH_RESULTS_SET:function(t,e){return new N.a(function(s,a){t.commit("SEARCH_RESULTS_SET",e),s()})},SEARCH_SHOWN_SET:function(t,e){t.commit("SEARCH_SHOWN_SET",e)}},mutations:{SEARCH_TERM_SET:function(t,e){t.term=e},SEARCH_TYPE_SET:function(t,e){t.type=e},SEARCH_LOADING_SET:function(t,e){t.isLoading=e},SEARCH_RESULTS_SET:function(t,e){t.results=e.results},SEARCH_SHOWN_SET:function(t,e){t.shown=e}}},ft={rec:null},gt={state:ft,getters:{},actions:{SEWER_MAIN_ZOOM_TO:function(t,e){e.sewer;t.commit("MAP_FIT_BOUNDS",{bounds:ft.rec.bounds,maxZoom:17})},SEWER_MAIN_HIGHLIGHT:function(t,e){j()(e);var s={styleLayer:"sewer-mains",sourceLayer:"sewer_mains",featureId:ft.rec.id,properties:{geohash:ft.rec.geohash}};t.commit("MAP_FEATURE_ACTIVE_SET",s)},SEWER_MAIN_HIGHLIGHT_CLEAR:function(t,e){j()(e),t.commit("MAP_FEATURE_ACTIVE_SET",null)},SEWER_MAIN_GET:function(t,e){var s=e.id;return new N.a(function(e,a){R.get("/api/sewer-mains/"+s).then(function(s){t.commit("SEWER_SET",{rec:s.data}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("sewer main",e)}),a(U("sewer main",e))})})}},mutations:{SEWER_SET:function(t,e){var s=e.rec;t.rec=s}}},Ct={cardToken:null,customer:null},yt={parcel:1},bt={studio:{id:"plan_1"},dayPass:{id:"plan_2"}},Et={parcel:{id:"product_1"}},wt={state:Ct,getters:{},actions:{STRIPE_CARD_TOKEN_GET:function(t,e){var s=e.stripeToken;return new N.a(function(e,a){R.post("/api/stripe/cards",{stripeToken:s}).then(function(s){t.commit("STRIPE_CARD_TOKEN_SET",s.data.stripeCardId),e(s)}).catch(function(e,s){e.response&&e.response.data.error?t.commit("ERROR_MESSAGE_SET",{message:e.response.data.error}):t.commit("ERROR_MESSAGE_SET",{message:U("card token",e)}),a(e)})})},STRIPE_CHARGE:function(t,e){var s=e.cardToken,a=e.product,i=e.resourceType,r=e.resourceId;return s=s||Ct.cardToken,new N.a(function(e,n){R.post("/api/charges",{product:Et[a],stripeCardId:s,resourceType:yt[i],resourceId:r}).then(function(t){e(t)}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("card charge",e)}),n(e)})})},STRIPE_CARD_REMOVE:function(t,e){var s=e.cardId,a=e.cardToken;return new N.a(function(e,i){R.delete("/api/stripe/cards/"+s,{stripeToken:a}).then(function(a){t.commit("STRIPE_CARD_REMOVE",{id:s}),e(a)}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("card remove",e)}),i(e)})})},STRIPE_CARD_ADD:function(t,e){var s=e.stripeToken;return new N.a(function(e,a){R.post("/api/stripe/cards",{stripeToken:s}).then(function(t){console.log("stripe card add:",t),e(t)}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("card add",e)}),a(e)})})},STRIPE_CARD_CLEAR:function(t){t.commit("STRIPE_CARD_TOKEN_CLEAR")},STRIPE_SUBSCRIBE:function(t,e){var s=e.plan,a=e.cardToken;return a=a||Ct.cardToken,new N.a(function(e,i){R.post("/api/subscriptions",{plan:bt[s],stripeCardId:a}).then(function(t){e(t)}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("subscription",e)}),i(e)})})}},mutations:{STRIPE_CARD_TOKEN_SET:function(t,e){var s=e.cardToken;t.cardToken=s},STRIPE_CARD_TOKEN_CLEAR:function(t){t.cardToken&&(t.cardToken=null)},STRIPE_CARD_REMOVE:function(t,e){for(var s=e.id,a=void 0,i=0,r=t.customer.sources.data;i<r;i++)if(t.customer.sources.data[i].id===s){a=i;break}t.customer.sources.data.splice(a,1)},STRIPE_CUSTOMER_SET:function(t,e){var s=e.customer;t.customer=s}}},St={rec:null},Tt={state:St,getters:{},actions:{WATER_MAIN_ZOOM_TO:function(t,e){e.water;t.commit("MAP_FIT_BOUNDS",{bounds:St.rec.bounds,maxZoom:17})},WATER_MAIN_HIGHLIGHT:function(t,e){j()(e);var s={styleLayer:"water-mains",sourceLayer:"water_mains",featureId:St.rec.id,properties:{geohash:St.rec.geohash}};t.commit("MAP_FEATURE_ACTIVE_SET",s)},WATER_MAIN_HIGHLIGHT_CLEAR:function(t,e){j()(e),t.commit("MAP_FEATURE_ACTIVE_SET",null)},WATER_MAIN_GET:function(t,e){var s=e.id;return new N.a(function(e,a){R.get("/api/water-mains/"+s).then(function(s){t.commit("WATER_SET",{rec:s.data}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("water main",e)}),a(U("water main",e))})})}},mutations:{WATER_SET:function(t,e){var s=e.rec;t.rec=s}}},kt=this,At={rec:null},Lt={ZONING_HIGHLIGHT:function(t,e){j()(e);var s={styleLayer:"zoning",sourceLayer:"zoning",properties:{geohash:At.rec.geohash}};t.commit("MAP_FEATURE_ACTIVE_SET",s)},ZONING_HIGHLIGHT_CLEAR:function(t,e){j()(e),t.commit("MAP_FEATURE_ACTIVE_SET",null)},ZONING_GET:function(t,e){var s=e.id;return new N.a(function(e,a){R.get("/api/zoning/"+s).then(function(s){t.commit("ZONING_SET",{rec:s.data}),e()}).catch(function(e){t.commit("ERROR_MESSAGE_SET",{message:U("zoning",e)}),a(U("zoning",e))})})},ZONING_REFERENCE_ADD:function(){var t=F()(O.a.mark(function t(e,s){var a,i=s.id,r=s.reference;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=M()({},r,{zoningId:Number(i)}),t.next=3,R.post("/api/zoning/"+i+"/references",a);case 3:t.sent,e.dispatch("ZONING_GET",{id:i});case 5:case"end":return t.stop()}},t,kt)}));return function(e,s){return t.apply(this,arguments)}}(),ZONING_REFERENCE_DELETE:function(){var t=F()(O.a.mark(function t(e,s){var a=s.id,i=s.referenceId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.delete("/api/zoning/"+a+"/references/"+i);case 2:t.sent,e.dispatch("ZONING_GET",{id:a});case 4:case"end":return t.stop()}},t,kt)}));return function(e,s){return t.apply(this,arguments)}}(),ZONING_REFERENCE_SAVE:function(){var t=F()(O.a.mark(function t(e,s){var a=s.id,i=s.reference,r=s.referenceId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/zoning/"+a+"/references/"+r,i);case 2:t.sent,e.dispatch("ZONING_GET",{id:a});case 4:case"end":return t.stop()}},t,kt)}));return function(e,s){return t.apply(this,arguments)}}(),ZONING_REGULATION_ADD:function(){var t=F()(O.a.mark(function t(e,s){var a,i=s.id,r=s.regulation;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=M()({},r,{zoningId:Number(i)}),t.next=3,R.post("/api/zoning/"+i+"/regulations",a);case 3:t.sent,e.dispatch("ZONING_GET",{id:i});case 5:case"end":return t.stop()}},t,kt)}));return function(e,s){return t.apply(this,arguments)}}(),ZONING_REGULATION_DELETE:(E=F()(O.a.mark(function t(e,s){var a=s.id,i=s.regulationId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.delete("/api/zoning/"+a+"/regulations/"+i);case 2:t.sent,e.dispatch("ZONING_GET",{id:a});case 4:case"end":return t.stop()}},t,kt)})),function(t,e){return E.apply(this,arguments)}),ZONING_REGULATION_SAVE:(b=F()(O.a.mark(function t(e,s){var a=s.id,i=s.regulation,r=s.regulationId;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/zoning/"+a+"/regulations/"+r,i);case 2:t.sent,e.dispatch("ZONING_GET",{id:a});case 4:case"end":return t.stop()}},t,kt)})),function(t,e){return b.apply(this,arguments)}),ZONING_SAVE:(y=F()(O.a.mark(function t(e,s){var a=s.id,i=s.rec;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.put("/api/zoning/"+a,i);case 2:t.sent,e.commit("ZONING_SET",{rec:i});case 4:case"end":return t.stop()}},t,kt)})),function(t,e){return y.apply(this,arguments)}),ZONING_ZOOM_TO:function(t,e){var s=void 0,a=void 0;if(e)s=e.lng,a=e.lat;else{if(!At.rec||!At.rec.bounds||!At.rec.bounds.bbox)return;var i=At.rec.bounds.bbox;s=i[0]+(i[2]-i[0])/2,a=i[1]+(i[3]-i[1])/2}t.commit("MAP_FLY_TO",{center:[s,a],zoom:13})}},It={state:At,getters:{},actions:Lt,mutations:{ZONING_SET:function(t,e){var s=e.rec;t.rec=s}}};s("j1ja"),w.a.use(k.a);var Rt=new k.a.Store({strict:!0,modules:{agent:G,collections:V,communityPlan:Q,device:q,error:K,feature:J,map:et,search:_t,overlay:rt,plan:nt,parcel:pt,permit:ht,scroll:mt,sewerMain:gt,stripe:wt,waterMain:Tt,zoning:It}}),xt=s("/ocq"),Mt={created:function(){this.alertSet=this.alert},data:function(){return{alertSet:null}},props:{alert:{type:String},handleClose:{type:Function},variant:{type:String}},methods:{close:function(){this.alertSet=null,this.handleClose&&this.handleClose()}},watch:{alert:function(t){this.alertSet=t}}},$t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.alertSet?s("div",{staticClass:"alert alert-dismissible show",class:t.variant?"alert-"+t.variant:"alert-primary",attrs:{id:"alert",role:"alert"}},[t._v("\n\t"+t._s(t.alert)+"\n\t"),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:t.close}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]):t._e()},staticRenderFns:[]};var Nt=s("VU/8")(Mt,$t,!1,function(t){s("3cF7")},null,null).exports,Pt={props:{loading:{type:Boolean}}},Ot={render:function(){var t=this.$createElement,e=this._self._c||t;return this.loading?e("div",{staticClass:"loading d-flex"},[this._m(0)]):this._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-dots justify-content-center align-self-center"},[e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"})])}]};var Dt=s("VU/8")(Pt,Ot,!1,function(t){s("hs8G")},null,null).exports,Ft=Stripe(I.stripe.publicKey),Ut={components:{contentAlert:Nt,contentLoading:Dt},computed:{cards:function(){return this.$store.state.stripe&&this.$store.state.stripe.customer&&this.$store.state.stripe.customer.sources?this.$store.state.stripe.customer.sources.data:null}},data:function(){return{alert:null,card:null,error:null,mode:"view",loading:!0,cardFormBound:!1,cardRemove:null,stripeToken:null}},mounted:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,this.$store.dispatch("AGENT_CUSTOMER_GET",{});case 4:this.bindCardForm(),this.loading=!1,console.log("cards:",this.cards),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.loading=!1;case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),props:{agent:{type:Object}},methods:{bindCardForm:function(){if(!this.cardFormBound){var t=Ft.elements();this.card=t.create("card",{style:{base:{fontSize:"16px",color:"#495057",lineHeight:"26px"}}}),this.card.mount(".card-mount"),this.cardFormBound=!0}},routeBack:function(){this.$router.push({name:"agent"})},deleteShow:function(){},addCancel:function(){this.mode="view",this.cardFormBound=!1},addShow:function(){var t=this;this.mode="add",setTimeout(function(){t.bindCardForm()},1)},cardRemoveToggle:function(t){this.cardRemove===t?this.cardRemove=null:this.cardRemove=t},cardRemoveConfirmed:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,this.$store.dispatch("STRIPE_CARD_REMOVE",{cardId:e});case 4:return t.next=6,this.$store.dispatch("AGENT_CUSTOMER_GET",{});case 6:this.alert="card removed",this.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),this.loading=!1;case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e){return t.apply(this,arguments)}}(),cardAdd:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,Ft.createToken(this.card);case 4:if(!(e=t.sent).error){t.next=9;break}throw new Error(e.error.message);case 9:return this.stripeToken=e.token,console.log("stripeToken:",this.stripeToken),t.next=13,this.$store.dispatch("STRIPE_CARD_ADD",{stripeToken:e.token});case 13:return t.next=15,this.$store.dispatch("AGENT_CUSTOMER_GET",{});case 15:this.alert="card added",this.addCancel(),this.loading=!1;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),this.loading=!1;case 23:case"end":return t.stop()}},t,this,[[1,20]])}));return function(){return t.apply(this,arguments)}}(),handleAlertClose:function(){this.alert=null}},watch:{}},zt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"agent-billing"}},[s("ul",{staticClass:"title-nav"},[s("li",[s("div",{staticClass:"back-btn",on:{click:function(e){t.routeBack()}}},[s("i",{staticClass:"material-icons md-18"},[t._v("keyboard_arrow_left")])]),t._v(" "),t._m(0)])]),t._v(" "),t.cards&&t.cards.length>0?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("CREDIT CARDS")]),t._v(" "),t._l(t.cards,function(e,a){return s("div",{staticClass:"property-row position-relative overflow-visible"},[t._v("\n\t\t\t*"+t._s(e.last4)+" "),s("small",{staticClass:"text-muted"},[t._v("EXP "+t._s(e.exp_month)+"/"+t._s(t._f("yearShort")(e.exp_year)))]),t._v(" "),s("i",{staticClass:"material-icons md-18 icon-gray close-icon float-right",on:{click:function(s){t.cardRemoveToggle(e.id)}}},[t._v("close")]),t._v(" "),t.cardRemove===e.id?s("a",{staticClass:"btn btn-danger btn-sm remove-btn float-right",attrs:{href:"javascript:"},on:{click:function(s){t.cardRemoveConfirmed(e.id)}}},[t._v("REMOVE")]):t._e()])}),t._v(" "),"view"==t.mode?s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light btn-sm float-right",on:{click:t.addShow}},[t._v("Add Card")])]):t._e()],2):t._e(),t._v(" "),"add"===t.mode||!t.cards||t.cards.length<1?s("form",{staticClass:"mt-2",on:{submit:function(e){return e.preventDefault(),t.cardAdd(e)}}},[s("div",{staticClass:"form-group mb-0"},[s("div",{staticClass:"form-control",class:{"is-invalid":t.error&&t.error.card}},[s("div",{staticClass:"card-mount"})]),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t"+t._s(t.error&&t.error.card)+"\n\t      ")])]),t._v(" "),s("div",{staticClass:"property-row"},[t.cards&&t.cards.length>0?s("button",{staticClass:"btn btn-light",on:{click:t.addCancel}},[t._v("Cancel")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-dark float-right",attrs:{type:"submit"}},[t._v("Add Card")])])]):t._e(),t._v(" "),s("contentLoading",{attrs:{loading:t.loading}}),t._v(" "),s("contentAlert",{attrs:{alert:t.alert,handleClose:t.handleAlertClose}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-label"},[e("i",{staticClass:"material-icons md-18"},[this._v("credit_card")]),this._v(" BILLING")])}]};var Gt=s("VU/8")(Ut,zt,!1,function(t){s("DEaG")},null,null).exports,Bt={computed:{deviceType:function(){return this.$store.state.device.type},marginTop:function(){return this.$store.state.scroll.marginTop}},methods:{getMainClass:function(){return"mobile"!==this.deviceType?"d-flex flex-column col-md-6 col-lg-5 col-xl-4 left-col-full h-100 position-relative p-0":"content-mobile col left-col-full position-relative p-0"},getMainId:function(){return this.mainId||""},getMainStyle:function(){return"mobile"!==this.deviceType||this.noMt?"":"margin-top:"+this.marginTop+"px;"}},props:{loading:{type:Boolean},mainId:{type:String},noMt:{type:Boolean},noScrollFix:{type:Boolean}}},Vt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.getMainClass(),style:t.getMainStyle(),attrs:{id:t.getMainId()}},[t.loading?s("div",{staticClass:"loading d-flex"},[t._m(0)]):t._e(),t._v(" "),t._t("default"),t._v(" "),t.noScrollFix?t._e():s("div",{staticClass:"overflow-fix-container"},[s("div",{staticClass:"overflow-fix"})])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-dots justify-content-center align-self-center"},[e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"})])}]};var Ht=s("VU/8")(Bt,Vt,!1,function(t){s("uJ5Q")},null,null).exports,jt={props:{variant:{type:String}}},Yt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:"content-actions "+("blue"===this.variant?"content-actions-blue":"")},[this._t("default")],2)},staticRenderFns:[]};var Zt=s("VU/8")(jt,Yt,!1,function(t){s("R87p")},null,null).exports,Wt={computed:{deviceType:function(){return this.$store.state.device.type},scrollTop:function(){return this.$store.state.scroll.top}},created:function(){this.viewWindow&&this.$store.dispatch("SCROLL_MARGIN_TOP_SET",{device:this.deviceType,viewWindow:this.viewWindow})},data:function(){return{scrolling:!1}},methods:{getMainClass:function(){var t="content-body flex-2";return"mobile"!==this.deviceType?(this.scrolling=!0,t+=" scroll-y"):this.scrolling=!1,this.locked&&(t+=" locked"),t},getMainStyle:function(){var t="";return this.bg&&(t+="background-color:"+this.bg+";"),t}},props:{locked:{type:Boolean},bg:{type:String},viewWindow:{type:Number}},watch:{scrollTop:function(t){-1!==t&&this.scrolling&&(this.$refs.main.scrollTo(0,t),this.$store.dispatch("SCROLL_TOP_RESET",-1))}}},Qt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"main",class:this.getMainClass(),style:this.getMainStyle()},[this._t("default")],2)},staticRenderFns:[]};var qt=s("VU/8")(Wt,Qt,!1,function(t){s("VkT2")},null,null).exports,Kt={computed:{deviceType:function(){return this.$store.state.device.type},searchShown:function(){return this.$store.state.search.shown}},created:function(){window.addEventListener("scroll",this.handleScroll)},data:function(){return{isScrolled:!1}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{getLabelClass:function(){return this.labelClass?this.labelClass:"text-muted"},getMainClass:function(){var t="content-title";return"mobile"!==this.deviceType||this.noSticky||(t+=" sticky-top"),"mobile"===this.deviceType&&this.searchShown&&(t+=" search-pt"),"blue"===this.variant&&(t+=" content-title-blue"),t},handleScroll:function(t){window.pageYOffset>50?this.isScrolled||(this.$data.isScrolled=!0):this.isScrolled&&(this.$data.isScrolled=!1)},routeClose:function(){"back"===this.close?this.$router.go(-1):"[object Function]"==={}.toString.call(this.close)?this.close():this.$router.push({name:"home",params:{}})},scrollUp:function(){this.$store.dispatch("SCROLL_CONTENT_TOP"),this.$data.isScrolled=!0},scrollDown:function(){this.$store.dispatch("SCROLL_WINDOW_TOP"),this.$data.isScrolled=!1}},props:{close:{},label:{type:String},noScroll:{type:Boolean},noSticky:{type:Boolean},labelClass:{type:String},variant:{type:String}}},Jt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.getMainClass()},[s("div",{staticClass:" content-title-body bg-blue-dk"},[s("div",{staticClass:"controls"},[s("div",{staticClass:"control-label"},[s("small",{class:t.getLabelClass()},[t._v(t._s(t.label))])]),t._v(" "),"mobile"!==t.deviceType||t.noScroll?t._e():s("div",{staticClass:"scroll-handle"},[t.isScrolled?s("div",{staticClass:"control",on:{click:t.scrollDown}},[s("i",{staticClass:"material-icons md-24"},[t._v("keyboard_arrow_down")])]):s("div",{staticClass:"control",on:{click:t.scrollUp}},[s("i",{staticClass:"material-icons md-24"},[t._v("keyboard_arrow_up")])])]),t._v(" "),s("div",{staticClass:"control right",on:{click:t.routeClose}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])])]),t._v(" "),t._t("default")],2)])},staticRenderFns:[]};var Xt=s("VU/8")(Kt,Jt,!1,function(t){s("ST7k")},null,null).exports,te={components:{contentAlert:Nt,contentLoading:Dt},data:function(){return{error:null,loading:!1,mode:"view",newEmail:"",alert:null}},props:{agent:{type:Object}},methods:{routeBack:function(){this.$router.push({name:"agent"})},editCancel:function(){this.mode="view"},editShow:function(){this.mode="edit"},submitChange:function(){var t=this;this.loading=!0,this.$store.dispatch("AGENT_EMAIL_CHANGE",{email:this.newEmail,userId:this.agent.id}).then(function(e){t.loading=!1,t.alert="email changed successfully",t.mode="view"}).catch(function(e){t.loading=!1})}},watch:{}},ee={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"title-nav"},[s("li",[s("div",{staticClass:"back-btn",on:{click:function(e){t.routeBack()}}},[s("i",{staticClass:"material-icons md-18"},[t._v("keyboard_arrow_left")])]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("ACTIVE EMAIL")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-break property-locked"},[t._v("\n\t\t\t\t"+t._s(t.agent.email)+"\n\t\t\t")])]),t._v(" "),"view"==t.mode?s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light btn-sm float-right",on:{click:t.editShow}},[t._v("Change Email")])]):t._e()]),t._v(" "),"edit"==t.mode?s("form",{staticClass:"category form-group",on:{submit:function(e){return e.preventDefault(),t.submitChange(e)}}},[s("div",{staticClass:"category-title",attrs:{for:"signUpEmail"}},[t._v("NEW EMAIL")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEmail,expression:"newEmail"}],staticClass:"form-control",class:{"is-invalid":t.error},attrs:{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter new email"},domProps:{value:t.newEmail},on:{input:function(e){e.target.composing||(t.newEmail=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t"+t._s(t.error)+"\n\t\t   ")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light",on:{click:function(e){return e.preventDefault(),t.editCancel(e)}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn btn-dark float-right",attrs:{type:"submit"}},[t._v("Update")])])]):t._e(),t._v(" "),s("contentLoading",{attrs:{loading:t.loading}}),t._v(" "),s("contentAlert",{attrs:{alert:t.alert}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-label"},[e("i",{staticClass:"material-icons md-18"},[this._v("email")]),this._v(" EMAIL")])}]},se=s("VU/8")(te,ee,!1,null,null,null).exports,ae={name:"agent-overview",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt},props:{agent:{type:Object},planCurrent:{type:Object}},computed:{cards:function(){return this.$store.state.stripe&&this.$store.state.stripe.customer&&this.$store.state.stripe.customer.sources?this.$store.state.stripe.customer.sources.data:null},billingCards:function(){return!this.cards||this.cards.length<1?"Add card":"Cards ("+this.cards.length+")"},planName:function(){return this.planCurrent?"plan_2"===this.planCurrent.plan.id?"Day Pass":"plan_1"===this.planCurrent.plan.id?"Studio Subscription":void 0:"No active subscription"}},methods:{logout:function(){this.$store.dispatch("AGENT_LOGOUT"),this.$router.push({name:"auth-tab",params:{tab:"login"}})},showTab:function(t){this.$router.push({name:"agent-tab",params:{tab:t}})}}},ie={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"sub-nav"},[s("li",{on:{click:function(e){t.showTab("email")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("email")]),t._v(" EMAIL\n\t\t\t"),s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\t"+t._s(t.agent.email)+"\n\t\t\t")]),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])]),t._v(" "),s("li",{on:{click:function(e){t.showTab("password")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("vpn_key")]),t._v(" PASSWORD\n\t\t\t"),s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\tChange\n\t\t\t")]),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])]),t._v(" "),t.planCurrent?s("li",{on:{click:function(e){t.showTab("plan")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("verified_user")]),t._v(" PLAN\n\t\t\t"),s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\t"+t._s(t.planName)+"\n\t\t\t")]),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])]):t._e(),t._v(" "),s("li",{on:{click:function(e){t.showTab("billing")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("credit_card")]),t._v(" BILLING\n\t\t\t"),s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\t"+t._s(this.billingCards)+"\n\t\t\t")]),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])])]),t._v(" "),s("div",{staticClass:"overflow-hidden"},[s("button",{staticClass:"btn btn-light btn-sm float-right",on:{click:t.logout}},[t._v("Logout")])])])},staticRenderFns:[]};var re,ne=s("VU/8")(ae,ie,!1,function(t){s("a9a/")},null,null).exports,oe={components:{contentAlert:Nt,contentLoading:Dt},data:function(){return{error:null,mode:"view",alert:null,loading:!1}},props:{agent:{type:Object}},methods:{routeBack:function(){this.$router.push({name:"agent"})},resetPassword:function(){var t=this;this.mode="sent",this.loading=!0,this.$store.dispatch("AGENT_RESET_PASSWORD",{email:this.agent.email}).then(function(e){t.loading=!1,t.alert="reset password email sent"}).catch(function(e){t.loading=!1})}}},le={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"title-nav"},[s("li",[s("div",{staticClass:"back-btn",on:{click:function(e){t.routeBack()}}},[s("i",{staticClass:"material-icons md-18"},[t._v("keyboard_arrow_left")])]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("ACTIVE PASSWORD")]),t._v(" "),t._m(1),t._v(" "),"view"==t.mode?s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light btn-sm float-right",on:{click:t.resetPassword}},[t._v("Reset Password")])]):t._e(),t._v(" "),"sent"==t.mode?s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light btn-sm float-right",attrs:{disabled:""},on:{click:t.resetPassword}},[t._v("Reset Password")])]):t._e()]),t._v(" "),s("contentLoading",{attrs:{loading:t.loading}}),t._v(" "),s("contentAlert",{attrs:{alert:t.alert}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-label"},[e("i",{staticClass:"material-icons md-18"},[this._v("vpn_key")]),this._v(" PASSWORD")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"property-row"},[e("div",{staticClass:"text-break property-locked"},[this._v("\n\t\t\t\tYour password is encypted and stored on our secure servers. If you'd like to change your password, click the button below and an email will be sent to you which will include a reset link.\n\t\t\t")])])}]},ce=s("VU/8")(oe,le,!1,null,null,null).exports,ue=s("bOdI"),de=s.n(ue),pe=(re={data:function(){return{error:null,mode:"view",newEmail:""}},computed:{status:function(){return"plan_1"===this.planCurrent.plan.id?"active":new Date(this.planCurrent.created).getTime()+864e5-this.$data.nowTs>0?"active":"expired"},planExpires:function(){var t=new Date(this.planCurrent.created).getTime();return new Date(t+864e5).toUTCString()},planName:function(){return"plan_2"===this.planCurrent.plan.id?"Day Pass":"plan_1"===this.planCurrent.plan.id?"Studio Subscription":void 0},isDayPass:function(){return"plan_2"===this.planCurrent.plan.id}},props:{agent:{type:Object},planCurrent:{type:Object}},methods:{routeBack:function(){this.$router.push({name:"agent"})},editCancel:function(){this.mode="view"},editShow:function(){this.mode="edit"},routeClose:function(){this.$router.push({name:"home"})},routeUnlock:function(){this.$router.push({name:"unlock"})}},mounted:function(){var t=this;this.$data.nowTs=(new Date).getTime(),this.interval=setInterval(function(){t.$data.nowTs=(new Date).getTime()},6e4)}},de()(re,"data",function(){return{nowTs:0}}),de()(re,"destroyed",function(){this.interval&&clearInterval(this.interval)}),re),ve={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"title-nav"},[s("li",[s("div",{staticClass:"back-btn",on:{click:function(e){t.routeBack()}}},[s("i",{staticClass:"material-icons md-18"},[t._v("keyboard_arrow_left")])]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"category-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("PLAN DETAILS")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Type")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t"+t._s(t.planName)+"\n\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Status")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t"+t._s(t.status)+"\n\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Purchased")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t"+t._s(t._f("longDate")(t.planCurrent.created))+" @"+t._s(t._f("time")(t.planCurrent.created))+"\n\t\t\t\t")])]),t._v(" "),t.isDayPass?s("div",["active"===t.status?s("div",{staticClass:"property-row"},[s("label",[t._v("Expires")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("longDate")(t.planExpires))+" @"+t._s(t._f("time")(t.planCurrent.created))+"\n\t\t\t\t\t")])]):t._e(),t._v(" "),"expired"===t.status?s("div",{staticClass:"property-row"},[s("label",[t._v("Expired")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("longDate")(t.planExpires))+" @"+t._s(t._f("time")(t.planCurrent.created))+"\n\t\t\t\t\t")])]):t._e(),t._v(" "),"expired"===t.status?s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-green btn-sm float-right",on:{click:t.routeUnlock}},[t._v("RENEW DAY PASS")])]):t._e()]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-label"},[e("i",{staticClass:"material-icons md-18"},[this._v("verified_user")]),this._v(" PLAN")])}]},he=s("VU/8")(pe,ve,!1,null,null,null).exports,me={data:function(){return{error:null,mode:"view",newMemberEmail:""}},props:{agent:{type:Object}},methods:{routeBack:function(){this.$router.push({name:"agent"})},deleteShow:function(){},editCancel:function(){this.mode="view"},editShow:function(){this.mode="edit"},submitChange:function(){}},watch:{}},_e={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"title-nav"},[s("li",[s("div",{staticClass:"back-btn",on:{click:function(e){t.routeBack()}}},[s("i",{staticClass:"material-icons md-18"},[t._v("keyboard_arrow_left")])]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("TEAM MEMBERS")]),t._v(" "),s("div",{staticClass:"property-row"},[t._v("\n\t\t\tteammember1@email.com\n\t\t\t"),s("a",{staticClass:"float-right text-secondary",attrs:{href:"javascript:"},on:{click:t.deleteShow}},[t._v("x")])]),t._v(" "),s("div",{staticClass:"property-row"},[t._v("\n\t\t\tteammember1@email.com\n\t\t\t"),s("span",{staticClass:"badge badge-dark"},[t._v("pending")]),t._v(" "),s("a",{staticClass:"float-right text-secondary",attrs:{href:"javascript:"},on:{click:t.deleteShow}},[t._v("x")])]),t._v(" "),"view"==t.mode?s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light btn-sm float-right",on:{click:t.editShow}},[t._v("Add Member")])]):t._e()]),t._v(" "),"edit"==t.mode?s("form",{staticClass:"category form-group",on:{submit:function(e){return e.preventDefault(),t.submitChange(e)}}},[s("div",{staticClass:"category-title",attrs:{for:"signUpEmail"}},[t._v("ADD TEAM MEMBER")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newMemberEmail,expression:"newMemberEmail"}],staticClass:"form-control",class:{"is-invalid":t.error},attrs:{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter team member email"},domProps:{value:t.newMemberEmail},on:{input:function(e){e.target.composing||(t.newMemberEmail=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t"+t._s(t.error)+"\n\t\t   ")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light",on:{click:t.editCancel}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn btn-dark float-right",attrs:{type:"submit"}},[t._v("Send Invite")])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-label"},[e("i",{staticClass:"material-icons md-18"},[this._v("group")]),this._v(" TEAM")])}]},fe={name:"agent",components:{billing:Gt,contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,email:se,overview:ne,password:ce,plan:he,team:s("VU/8")(me,_e,!1,null,null,null).exports},created:function(){this.$route.params.tab&&(this.$data.tabActive=this.$route.params.tab),this.getRec()},data:function(){return{loadError:null,recLoaded:!1,tabActive:"overview"}},computed:{agent:function(){return this.$store.state.agent.rec},planCurrent:function(){return this.$store.state.plan.current}},methods:{getRec:function(){var t=this;this.loadError=null,this.$store.dispatch("AGENT_GET",{}).catch(function(e){t.loadError=e})},logout:function(){this.$store.dispatch("AGENT_LOGOUT")},routeClose:function(){this.$router.push({name:"home",params:{}})},routeBack:function(){this.$router.go(-1)}},watch:{agent:function(t){t&&(this.recLoaded=!0)},$route:function(t,e){t.params.tab&&this.$data.tabActive!==t.params.tab&&(this.$data.tabActive=t.params.tab,t.params.tab&&this.$store.dispatch("SCROLL_CONTENT_TOP")),t.params.tab||this.$data.tabActive===t.params.tab||(this.$data.tabActive="overview",t.params.tab&&this.$store.dispatch("SCROLL_CONTENT_TOP"))}}},ge={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:!t.recLoaded}},[t.agent?s("contentTitle",{attrs:{label:"USER ACCOUNT",close:"home"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.agent.username))])]):t._e(),t._v(" "),t.agent?s("contentBody",[s("div",{staticClass:"p-3"},["billing"==t.tabActive?s("billing",{attrs:{agent:t.agent,planCurrent:t.planCurrent}}):t._e(),t._v(" "),"overview"==t.tabActive?s("overview",{attrs:{agent:t.agent,planCurrent:t.planCurrent}}):t._e(),t._v(" "),"email"==t.tabActive?s("email",{attrs:{agent:t.agent}}):t._e(),t._v(" "),"password"==t.tabActive?s("password",{attrs:{agent:t.agent}}):t._e(),t._v(" "),"plan"==t.tabActive?s("plan",{attrs:{agent:t.agent,planCurrent:t.planCurrent}}):t._e(),t._v(" "),"team"==t.tabActive?s("team",{attrs:{agent:t.agent,planCurrent:t.planCurrent}}):t._e()],1)]):t._e()],1)},staticRenderFns:[]};var Ce=s("VU/8")(fe,ge,!1,function(t){s("ceXX")},null,null).exports,ye=void 0,be={name:"auth",beforeRouteEnter:function(t,e,s){e&&"auth"!==e.name&&"auth-tab"!==e.name&&"agent-tab"!==e.name&&(ye=e),s()},components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt},created:function(){this.$route.params.tab&&(this.tabActive=this.$route.params.tab)},data:function(){return{email:null,password:null,tabActive:"signUp",loading:!1,error:null}},methods:{getLabel:function(){return"signUp"===this.tabActive?"JOIN SCOUTRED":"LOGIN TO SCOUTRED"},login:function(){var t=this;this.loading=!0,this.clearErrors(),(null===this.email||this.email.length<1)&&this.formError({email:"enter an email"}),(null===this.password||this.password.length<1)&&this.formError({password:"enter a password"}),null===this.error&&this.$store.dispatch("AGENT_LOGIN",{email:this.email,password:this.password}).then(function(){if(ye)return t.$router.push(ye.fullPath);t.$router.push({name:"home"})}).catch(function(e){t.formError({password:"error logging in"})})},signUp:function(){var t=this;this.loading=!0,this.clearErrors(),(null===this.email||this.email.length<1)&&this.formError({email:"enter an email"}),(null===this.password||this.password.length<1)&&this.formError({password:"enter a password"}),null===this.error&&this.$store.dispatch("AGENT_SIGNUP",{email:this.email,password:this.password}).then(function(){if(ye)return t.$router.push(ye.fullPath);t.$router.push({name:"home"})}).catch(function(e){t.formError({password:"error signing up"})})},clearErrors:function(t){this.error=null},formError:function(t){for(var e in this.loading=!1,this.error=this.error||{},t)this.error[e]=t[e]},showTab:function(t){this.$router.push({name:"auth-tab",params:{tab:t}})},routeBack:function(){if(ye)return this.$router.push(M()({},ye));this.$router.push({name:"home"})}},watch:{$route:function(t,e){this.clearErrors(),t.params.tab&&(this.tabActive=t.params.tab)}}},Ee={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("contentBox",{attrs:{mainId:"auth",loading:t.loading,noMt:!0}},[s("contentTitle",{attrs:{label:t.getLabel(),labelClass:"text-white",close:t.routeBack,noScroll:!0}}),t._v(" "),s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:"login"==t.tabActive},on:{click:function(e){t.showTab("login")}}},[t._v("\n\t\t\tLogin\n\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:"signUp"==t.tabActive},on:{click:function(e){t.showTab("signUp")}}},[t._v("\n\t\t\tSign Up\n\t\t")])]),t._v(" "),s("contentBody",["login"==t.tabActive?s("div",{staticClass:"p-3"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-1",attrs:{for:"loginEmail"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.error&&t.error.email},attrs:{type:"email",id:"loginEmail","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t"+t._s(t.error&&t.error.email)+"\n\t\t\t        ")])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-1",attrs:{for:"loginPassword"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.error&&t.error.password},attrs:{type:"password",id:"loginPassword",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t"+t._s(t.error&&t.error.password)+"\n\t\t\t        ")]),t._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[t._v("Forget your password? "),s("a",{attrs:{href:"/users/forgot-password"}},[t._v("Recover it")])])]),t._v(" "),s("button",{staticClass:"btn btn-lg btn-dark btn-block",attrs:{type:"submit"}},[t._v("Login")])])]):t._e(),t._v(" "),"signUp"==t.tabActive?s("div",{staticClass:"p-3"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-1",attrs:{for:"signUpEmail"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.error&&t.error.email},attrs:{type:"email",id:"signUpEmail","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t"+t._s(t.error&&t.error.email)+"\n\t\t\t        ")]),t._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"emailHelp"}},[t._v("We'll never share your email with anyone else.")])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-1",attrs:{for:"signUpPassword"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.error&&t.error.password},attrs:{type:"password",id:"signUpPassword",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t"+t._s(t.error&&t.error.password)+"\n\t\t\t        ")]),t._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"emailHelp"}},[t._v("Minimum 4 characters.")])]),t._v(" "),s("button",{staticClass:"btn btn-lg btn-dark btn-block",attrs:{type:"submit"}},[t._v("Sign Up")])])]):t._e()])],1)},staticRenderFns:[]};var we=s("VU/8")(be,Ee,!1,function(t){s("DfX9")},null,null).exports,Se={name:"search-input",computed:{value:{get:function(){return this.$store.state.search.term},set:function(t){this.$store.dispatch("SEARCH_TERM_SET",{term:t})}},isLoading:function(){return this.$store.state.search.isLoading},noResults:function(){return!!(this.value&&!this.isLoading&&this.value.length>0&&null!==this.results&&this.results<1)},noRoundBottom:function(){return!!(this.hasResults&&this.showResults&&(this.noResults||null!==this.results&&this.results.length>0))},deviceType:function(){return this.$store.state.device.type},searchShown:function(){return this.$store.state.search.shown},searchTerm:function(){return this.$store.state.search.term}},data:function(){return{selected:null,keyupTimeout:null,showResults:!1,resultsOver:!1,inputFocus:!1}},props:{results:{type:Array},hasResults:{type:Boolean},placeholder:{type:String}},methods:{enter:function(){},keyup:function(t){var e=this;if(40===t.keyCode){if(null===this.results||this.results.length<1)return;var s=null;return this.results.map(function(t,a){t.id==e.selected&&(s=a)}),void(null===s?this.selected=this.results[0].id:this.results[s+1]&&(this.selected=this.results[s+1].id))}if(38===t.keyCode){if(null===this.results||this.results.length<1)return;var a=null;return this.results.map(function(t,s){t.id==e.selected&&(a=s)}),void(null===a?this.selected=this.results[0].id:this.results[a-1]&&(this.selected=this.results[a-1].id))}if(13===t.keyCode){if(null===this.selected)return;var i=null;return this.results.map(function(t,s){t.id==e.selected&&(i=s)}),void(null!==i&&this.resultSelect(this.results[i]))}if(27===t.keyCode)return this.showResults=!1,this.$refs.input.blur()},resultsMouseEnter:function(){this.resultsOver=!0},resultsMouseLeave:function(){this.resultsOver=!1},searchFocus:function(){this.resultsOver=!1,this.showResults=!0},searchBlur:function(t){"mobile"!==this.deviceType&&(this.resultsOver||(this.showResults=!1,this.$store.dispatch("SEARCH_SHOWN_SET",!1)))},searchShow:function(){var t=this;this.inputFocus=!0,this.showResults=!0,this.$store.dispatch("SEARCH_SHOWN_SET",!0),setTimeout(function(){t.$refs.input.focus()},50)},searchHide:function(){this.$store.dispatch("SEARCH_SHOWN_SET",!1),this.showResults=!1},searchClear:function(){this.searchTerm?(this.$store.dispatch("SEARCH_TERM_SET",{term:""}),this.$refs.input.focus()):this.searchHide()},resultSelect:function(t){this.$store.dispatch("SEARCH_RESULT_SELECT",t),this.resultGo(t.route)},resultGo:function(t){this.showResults=!1,this.$store.dispatch("SEARCH_SHOWN_SET",!1),this.$refs.input.blur(),this.$router.push(t)}},watch:{results:function(t){t&&t.length>0?this.selected=t[0].id:this.selected=null}}},Te={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{active:t.showResults},attrs:{id:"search-input"}},[[s("form",{staticClass:"search-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"form-control border-0 shadow-dk pl-input",class:{"no-round-bottom":t.noRoundBottom&&"mobile"!==this.deviceType},attrs:{"aria-label":"Search",autocomplete:"off",type:"search",placeholder:t.placeholder},domProps:{value:t.value},on:{keyup:function(e){return e.preventDefault(),t.keyup(e)},focus:t.searchFocus,blur:t.searchBlur,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),e.stopPropagation(),t.enter(e)):null},input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),"mobile"===this.deviceType&&this.showResults?s("i",{staticClass:"material-icons position-absolute search-icon md-24",on:{click:t.searchHide}},[t._v("arrow_back_ios")]):s("i",{staticClass:"material-icons position-absolute search-icon md-24"},[t._v("search")]),t._v(" "),this.isLoading?s("div",{staticClass:"loading-dots"},[s("div",{staticClass:"dot"}),t._v(" "),s("div",{staticClass:"dot"}),t._v(" "),s("div",{staticClass:"dot"})]):t._e(),t._v(" "),this.showResults?s("i",{staticClass:"material-icons close-btn md-24",on:{click:t.searchClear}},[t._v("close")]):t._e()]),t._v(" "),t.hasResults&&t.showResults?s("div",{staticClass:"results-container",on:{mouseenter:t.resultsMouseEnter,mouseleave:t.resultsMouseLeave}},[t._l(t.results,function(e,a){return s("div",{staticClass:"row no-gutters result",class:{select:e.id===t.selected},on:{click:function(s){s.preventDefault(),s.stopPropagation(),t.resultSelect(e)}}},[s("div",{staticClass:"col text-truncate"},[t._v("\n\t\t\t\t\t"+t._s(e.title)+" "),e.subtitle?s("small",{staticClass:"text-muted"},[t._v(t._s(e.subtitle))]):t._e(),s("br"),t._v(" "),e.footer?s("small",{staticClass:"text-muted"},[t._v(t._s(e.footer))]):t._e()])])}),t._v(" "),t.noResults?s("div",{staticClass:"p-2"},[s("span",{staticClass:"text-muted"},[t._v("No results found")])]):t._e()],2):t._e()]],2)},staticRenderFns:[]};var ke=s("VU/8")(Se,Te,!1,function(t){s("Eqwh")},null,null).exports,Ae={name:"search-default",data:function(){return{results:null,hasResults:!0,placeholder:"Search address or APN",searchTermPrev:null}},components:{searchInput:ke},computed:{searchTerm:function(){return this.$store.state.search.term},searchType:function(){return this.$store.state.search.type},deviceType:function(){return this.$store.state.device.type}},created:function(){this.$router.currentRoute.params.search&&this.$router.currentRoute.params.search.length>0?this.$store.dispatch("SEARCH_TERM_SET",{term:this.$router.currentRoute.params.search}):this.checkSearch()},mounted:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){this.$store.dispatch("SEARCH_TERM_SET",{term:""})},destroyed:function(){window.removeEventListener("resize",this.handleResize),this.searchTermPrev=null},methods:{getMainClass:function(){return"mobile"===this.deviceType?"":"col-md-6 col-lg-5 col-xl-4 px-2"},checkSearch:function(){this.searchTermPrev===this.searchTerm&&this.results&&"parcel"===this.searchType||(this.searchTermPrev=this.searchTerm,this.search())},handleResize:function(){if(this.$refs.view)if("mobile"!==this.deviceType){var t=this.$refs.view.offsetWidth+60;this.$store.dispatch("MAP_LEFT_MARGIN_SET",{leftMargin:t})}else this.$store.dispatch("MAP_LEFT_MARGIN_SET",{leftMargin:0})},search:function(){var t=this;this.$store.dispatch("SEARCH",{query:this.searchTerm,type:"parcel"}).then(function(e){var s=[];e&&e.forEach(function(t){var e={id:t.id,title:t.full};e.subtitle=(t.jurisdiction||"")+" "+(t.state||"")+" "+(t.postal||""),e.footer="APN: "+(t.apnFmt||""),e.route={name:"parcels",params:{id:t.parcelId},query:{addressId:t.id}},s.push(e)}),s.length<1&&!t.searchTerm&&(s=t.$store.getters.getSearchResultsSelected()),t.$data.results=s,t.$store.dispatch("SEARCH_RESULTS_SET",{results:e})}).catch(function(t){console.error(t)})}},watch:{$route:function(t,e){t.params.search&&t.params.search!==this.searchTerm?this.$store.dispatch("SEARCH_TERM_SET",{term:t.params.search}):this.checkSearch()},searchTerm:function(t,e){if(t||"search"!==this.$router.currentRoute.name)if(("home"===this.$router.currentRoute.name||"search"===this.$router.currentRoute.name)&&t&&t.length>0){var s={name:"search",params:{search:t}};this.$router.replace(s)}else this.checkSearch();else{this.$router.push({name:"home",params:{}})}}}},Le={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"view",class:this.getMainClass(),attrs:{id:"search-default"}},[e("searchInput",{attrs:{placeholder:this.placeholder,results:this.results,hasResults:this.hasResults}})],1)},staticRenderFns:[]};var Ie=s("VU/8")(Ae,Le,!1,function(t){s("hSxP")},null,null).exports,Re={name:"left-nav",computed:{deviceType:function(){return this.$store.state.device.type},token:function(){return this.$store.state.agent.token},page:function(){return 0===this.$route.path.indexOf("/collections")?"/collections":0===this.$route.path.indexOf("/permits")?"/permits":0===this.$route.path.indexOf("/plan")?"/plan":0===this.$route.path.indexOf("/auth")?"/auth":"/"},spinnerCover:function(){return"transform:rotate("+(180+this.spinnerPerc/100*360)+"deg);"},spinnerRight:function(){if(this.spinnerPerc>50)return"display:none;"},spinnerLeft:function(){if(this.spinnerPerc>50)return"z-index:1;"},spinnerStop:function(){return this.spinnerPerc>=100?"display:block;":"display:none;"},planCurrent:function(){return this.$store.state.plan.current},planCurrentIsDayPass:function(){return!!this.planCurrent&&(!this.planCurrent.plan.recurring&&"day"===this.planCurrent.plan.interval)},planCurrentIsStudio:function(){return!!this.planCurrent&&!!this.planCurrent.plan.recurring},spinnerPerc:function(){if(!this.planCurrent)return 0;var t=100-(new Date(this.planCurrent.created).getTime()+864e5-this.$data.nowTs)/864e5*100;return t>100?t=100:t<0&&(t=0),t}},mounted:function(){var t=this;this.$data.nowTs=(new Date).getTime(),this.interval=setInterval(function(){t.$data.nowTs=(new Date).getTime()},6e4)},data:function(){return{nowTs:0,showMenu:!1}},destroyed:function(){this.interval&&clearInterval(this.interval)},methods:{getNavClass:function(){return"mobile"===this.deviceType?"nav nav-mobile":"d-flex nav flex-column"},agent:function(){return this.token?this.$router.push({name:"agent"}):this.$router.push({name:"auth"})},home:function(){return this.$router.push({name:"home"})},plan:function(){return this.$router.push({name:"plan"})},collections:function(){return this.$router.push({name:"collections"})},auth:function(){this.$router.push({name:"auth"})},logout:function(){this.$store.dispatch("LOGOUT")},permits:function(){return this.$router.push({name:"permits"})},toggleMenu:function(){if(this.showMenu)return this.showMenu=!1;this.showMenu=!0},toggleStyle:function(){"satellite"!=this.$store.state.map.style?this.$store.dispatch("SET_CARTO_STYLE",{style:"satellite"}):this.$store.dispatch("SET_MAP_STYLE",{style:"vector"})}}},xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{class:t.getNavClass(),attrs:{id:"vertical-nav"}},["mobile"==t.deviceType?[a("li",{staticClass:"nav-btn",class:{active:t.showMenu},on:{click:t.toggleMenu}},["/permits"!==t.page?a("img",{staticClass:"hover-opacity",staticStyle:{width:"24px"},attrs:{src:s("lUF+")}}):a("i",{staticClass:"material-icons md-24"},[t._v("business_center")]),t._v(" "),t.showMenu?a("ul",{staticClass:"expand-nav"},["/permits"!==t.page?a("li",{class:{active:"/permits"===t.page},on:{click:t.permits}},[t._m(0),t._v(" "),a("div",{staticClass:"nav-label"},[t._v("Permits")])]):a("li",{class:{active:"/home"===t.page},on:{click:t.home}},[t._m(1),t._v(" "),a("div",{staticClass:"nav-label"},[t._v("Parcels")])]),t._v(" "),t.planCurrentIsDayPass?a("li",{class:{active:"/plan"===t.page},on:{click:t.plan}},[a("div",{staticClass:"nav-left-icon"},[a("div",{staticClass:"spinner spinner-sm"},[a("div",{staticClass:"half right",style:t.spinnerRight}),t._v(" "),a("div",{staticClass:"half cover",style:t.spinnerCover}),t._v(" "),a("div",{staticClass:"half left",style:t.spinnerLeft}),t._v(" "),a("div",{staticClass:"stop",style:t.spinnerStop})])]),t._v(" "),a("div",{staticClass:"nav-label"},[t._v("Day pass")])]):t._e(),t._v(" "),t.planCurrentIsStudio?a("li",{class:{active:"/plan"===t.page},on:{click:t.plan}},[t._m(2),t._v(" "),a("div",{staticClass:"nav-label"},[t._v("Studio subscription")])]):t._e(),t._v(" "),a("li",{class:{active:"/collections"===t.page},on:{click:t.collections}},[t._m(3),t._v(" "),a("div",{staticClass:"nav-label"},[t._v("Parcel collections")])]),t._v(" "),t.token?t._e():a("li",{class:{active:"/auth"===t.page},attrs:{title:"login or sign up"},on:{click:t.agent}},[t._m(4),t._v(" "),a("div",{staticClass:"nav-label"},[t._v("Login or sign up")])]),t._v(" "),t.token?a("li",{class:{active:"/auth"===t.page},attrs:{title:"my account"},on:{click:t.agent}},[t._m(5),t._v(" "),a("div",{staticClass:"nav-label"},[t._v("User account")])]):t._e()]):t._e()])]:[a("li",{staticClass:"nav-item px-2 py-2 red",class:{active:"/"===t.page},on:{click:t.home}},[a("img",{staticClass:"hover-opacity",staticStyle:{width:"2rem"},attrs:{src:s("lUF+")}}),t._v(" "),t._m(6)]),t._v(" "),a("li",{staticClass:"nav-item px-2 py-2",class:{active:"/permits"===t.page},on:{click:t.permits}},[a("i",{staticClass:"material-icons md-36"},[t._v("business_center")]),t._v(" "),t._m(7)]),t._v(" "),a("li",{staticClass:"flex-2"}),t._v(" "),t.planCurrentIsDayPass?a("li",{staticClass:"nav-item px-2 py-2",class:{active:"/plan"===t.page},on:{click:t.plan}},[a("div",{staticClass:"spinner"},[a("div",{staticClass:"half right",style:t.spinnerRight}),t._v(" "),a("div",{staticClass:"half cover",style:t.spinnerCover}),t._v(" "),a("div",{staticClass:"half left",style:t.spinnerLeft}),t._v(" "),a("div",{staticClass:"stop",style:t.spinnerStop})]),t._v(" "),t._m(8)]):t._e(),t._v(" "),t.planCurrentIsStudio?a("li",{staticClass:"nav-item px-2 py-2",class:{active:"/plan"===t.page},on:{click:t.plan}},[a("i",{staticClass:"material-icons md-36"},[t._v("verified_user")]),t._v(" "),t._m(9)]):t._e(),t._v(" "),t.token?a("li",{staticClass:"nav-item px-2 py-2",class:{active:"/collections"===t.page},on:{click:t.collections}},[a("i",{staticClass:"material-icons md-36"},[t._v("book")]),t._v(" "),t._m(10)]):t._e(),t._v(" "),t.token?t._e():a("li",{staticClass:"nav-item px-2 py-2",class:{active:"/auth"===t.page},attrs:{title:"login or sign up"},on:{click:t.agent}},[a("i",{staticClass:"material-icons md-36"},[t._v("person_outline")]),t._v(" "),t._m(11)]),t._v(" "),t.token?a("li",{staticClass:"nav-item px-2 py-2",class:{active:"/auth"===t.page},attrs:{title:"my account"},on:{click:t.agent}},[a("i",{staticClass:"material-icons md-36"},[t._v("person")]),t._v(" "),t._m(12)]):t._e()]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-left-icon"},[e("i",{staticClass:"material-icons md-24"},[this._v("business_center")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-left-icon"},[e("img",{staticClass:"hover-opacity",staticStyle:{width:"24px"},attrs:{src:s("lUF+")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-left-icon"},[e("i",{staticClass:"material-icons md-24"},[this._v("verified_user")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-left-icon"},[e("i",{staticClass:"material-icons md-24"},[this._v("folder_special")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-left-icon"},[e("i",{staticClass:"material-icons md-24"},[this._v("person_outline")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-left-icon"},[e("i",{staticClass:"material-icons md-24"},[this._v("person")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hint"},[e("span",[this._v("Parcels and zoning")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hint"},[e("span",[this._v("Permits")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hint"},[e("span",[this._v("Day plan")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hint"},[e("span",[this._v("Studio subscription")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hint"},[e("span",[this._v("Parcel collections")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hint"},[e("span",[this._v("Login or sign up")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hint"},[e("span",[this._v("User account")])])}]};var Me=s("VU/8")(Re,xe,!1,function(t){s("HUk+")},null,null).exports,$e={name:"collection",components:{searchDefault:Ie,leftnav:Me},created:function(){this.token||this.$router.push({name:"home"})},data:function(){return{}},computed:{token:function(){return this.$store.state.agent.token}}},Ne={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex align-items-stretch h-100 flex-2"},[e("leftnav"),this._v(" "),e("router-view"),this._v(" "),e("searchDefault")],1)},staticRenderFns:[]};var Pe=s("VU/8")($e,Ne,!1,function(t){s("DyN7")},null,null).exports,Oe={name:"collectionList",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt},computed:{collections:function(){return this.$store.state.collections.recs},unlocked:function(){return this.$store.state.collections.unlocked},unlockedLength:function(){return this.$store.state.collections.unlocked&&this.$store.state.collections.unlocked.length||0},token:function(){return this.$store.state.agent.token}},created:function(){this.get()},props:{},data:function(){return{addFormRec:{name:""},addFormVisible:!1,error:null,loading:!0,loadError:null}},methods:{addFormHide:function(){this.addFormVisible=!1},addFormShow:function(){this.addFormVisible=!0},addFormSubmit:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadError=null,this.loading=!0,t.prev=2,t.next=5,this.$store.dispatch("COLLECTION_ADD",{name:this.addFormRec.name});case 5:this.addFormRec.name="",this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.loadError=t.t0;case 12:case"end":return t.stop()}},t,this,[[2,9]])}));return function(e){return t.apply(this,arguments)}}(),get:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadError=null,t.prev=1,t.next=4,this.$store.dispatch("COLLECTIONS_GET");case 4:return t.next=6,this.$store.dispatch("COLLECTIONS_UNLOCKED_GET");case 6:this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),this.loadError=t.t0;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),routeClose:function(){this.$router.push({name:"home",params:{}})},routeCollection:function(t){this.$router.push({name:"collection",params:{collectionId:t}})},routeUnlocked:function(){this.$router.push({name:"collection-unlocked",params:{}})}},watch:{}},De={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:t.loading}},[s("contentTitle",{attrs:{label:"PARCEL COLLECTIONS",close:"routeClose"}}),t._v(" "),s("contentBody",{attrs:{locked:null===t.token,bg:"#f8f9fa"}},[s("ul",{staticClass:"collections-list list-group list-group-flush"},[s("li",{staticClass:"list-group-item list-group-item-action justify-content-between d-flex align-items-center cursor-pointer",on:{click:t.routeUnlocked}},[t._v("\n\t\t\t\t Unlocked Parcels "),s("span",{staticClass:"badge badge-dark badge-pill"},[t._v(t._s(t.unlockedLength))]),t._v(" "),s("i",{staticClass:"material-icons md-18"},[t._v("lock")])]),t._v(" "),t._l(t.collections,function(e,a){return t.collections?s("li",{key:e.id,staticClass:"list-group-item list-group-item-action justify-content-between d-flex align-items-center cursor-pointer",on:{click:function(s){t.routeCollection(e.id)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+" "),s("span",{staticClass:"badge badge-dark badge-pill"},[t._v(t._s(e.count||0))]),t._v(" "),s("i",{staticClass:"material-icons md-18"},[t._v("bookmarks")])]):t._e()}),t._v(" "),t.addFormVisible?t._e():s("li",{staticClass:"list-group-item list-group-item-action justify-content-between d-flex align-items-center cursor-pointer",on:{click:t.addFormShow}},[t._v("\n\t\t\t\tAdd Collection "),s("i",{staticClass:"material-icons md-18"},[t._v("add")])])],2),t._v(" "),t.addFormVisible?s("form",{staticClass:"category form-group p-3 bg-white",on:{submit:function(e){return e.preventDefault(),t.addFormSubmit(e)}}},[s("div",{staticClass:"category-title"},[t._v("NEW COLLECTION NAME")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormRec.name,expression:"addFormRec.name"}],staticClass:"form-control",class:{"is-invalid":t.error},attrs:{type:"text",placeholder:"Enter a name"},domProps:{value:t.addFormRec.name},on:{input:function(e){e.target.composing||t.$set(t.addFormRec,"name",e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t"+t._s(t.error)+"\n\t\t\t   ")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addFormHide(e)}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn btn-dark float-right",attrs:{type:"submit"}},[t._v("Add")])])]):t._e()])],1)},staticRenderFns:[]};var Fe=s("VU/8")(Oe,De,!1,function(t){s("QC+x")},null,null).exports,Ue={name:"collectionEdit",props:{collection:{type:Object}},computed:{planActive:function(){return this.$store.state.plan.active}},data:function(){return{rec:M()({},this.collection),error:null,loading:!0,loadError:null}},methods:{close:function(){this.$emit("close")},formSubmit:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,t.next=5,this.$store.dispatch("COLLECTION_SAVE",{collectionId:this.$route.params.collectionId,name:this.rec.name});case 5:this.$emit("close"),this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.loadError=t.t0;case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}()}},ze={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"close-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])]),t._v(" "),s("div",{staticClass:"title"},[t._v("EDIT COLLECTION NAME")]),t._v(" "),s("div",{staticClass:"p-3"},[s("form",{staticClass:"category form-group",on:{submit:function(e){return e.preventDefault(),t.formSubmit(e)}}},[s("div",{staticClass:"modal-property-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rec.name,expression:"rec.name"}],staticClass:"form-control",class:{"is-invalid":t.error},attrs:{type:"text",placeholder:"Enter a name"},domProps:{value:t.rec.name},on:{input:function(e){e.target.composing||t.$set(t.rec,"name",e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t"+t._s(t.error)+"\n\t\t\t   ")])]),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-actions"},[e("button",{staticClass:"btn btn-dark float-right",attrs:{type:"submit"}},[this._v("Save")])])}]},Ge=s("VU/8")(Ue,ze,!1,null,null,null).exports,Be={name:"collectionParcelExport",props:{collection:{type:Object}},computed:{parcels:function(){return this.$store.state.collections.parcels},planActive:function(){return this.$store.state.plan.active},exportAllowed:function(){if(this.planActive)return!0;var t=!0;return!(!this.parcels.forEach(function(e){e.unlocked||(t=!1)})||!t)}},created:function(){this.getPlanActive()},data:function(){return{}},methods:{close:function(){this.$emit("close")},download:function(t){var e=void 0;if(this.exportAllowed)e="/api/collections/"+this.collection.id+"/export?format="+t;else switch(t){case"csv":e="https://s3.amazonaws.com/scoutred.com/web-static/download/examples/parcel-id-820969.csv";break;default:this.$store.dispatch("SET_ERROR","unsupported file type: "+t)}window.open(e)},getPlanActive:function(){this.$store.dispatch("PLAN_ACTIVE_CHECK")},unlock:function(){this.$router.push({name:"unlock",params:{},query:{next:this.$route.path}})}}},Ve={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"close-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])]),t._v(" "),s("div",{staticClass:"title"},[t._v("EXPORT COLLECTION")]),t._v(" "),t.exportAllowed?t._e():s("div",{staticClass:"lock-block lock-block-sharp mb-0"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.unlock}},[t._m(0),t._v(" "),t._m(1)])]),t._v(" "),t.exportAllowed?t._e():s("div",{staticClass:"p-3"},[s("p",{staticClass:"text-sm"},[t._v("\n\t\t\tPurchase a plan to download data for this collection of parcels. Samples are provided to try before you buy.\n\t\t")]),t._v(" "),s("div",{staticClass:"mb-3"},[s("h5",{staticClass:"mb-2"},[t._v("\n\t\t\t\tPARCEL DATA\n\t\t\t")]),t._v(" "),s("div",{staticClass:"action-row clearfix"},[s("label",{staticClass:"mb-0 font-weight-normal button-label"},[t._v("Excel CSV")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("csv")}}},[s("i",{staticClass:"material-icons md-14"},[t._v("file_download")]),t._v(" Sample")])])])])]),t._v(" "),t.exportAllowed?s("div",{staticClass:"p-3"},[s("div",{staticClass:"mb-3"},[s("h5",{staticClass:"mb-2"},[t._v("\n\t\t\t\tPARCEL DATA\n\t\t\t")]),t._v(" "),s("div",{staticClass:"action-row clearfix"},[s("label",{staticClass:"mb-0 font-weight-normal button-label"},[t._v("Excel CSV")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("csv")}}},[s("i",{staticClass:"material-icons md-14"},[t._v("file_download")]),t._v(" Download")])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 text-center my-auto"},[e("i",{staticClass:"material-icons text-light mr-3 md-36"},[this._v("lock")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[e("h5",{staticClass:"mb-0 text-white"},[this._v("Purchase day pass to unlock")]),this._v(" "),e("h5",{staticClass:"mb-0 font-weight-light text-light"},[this._v("Download data on your collection")])])}]},He=s("VU/8")(Be,Ve,!1,null,null,null).exports,je={name:"collectionRemove",props:{collection:{type:Object}},computed:{planActive:function(){return this.$store.state.plan.active}},data:function(){return{error:null,loading:!0,loadError:null}},methods:{close:function(){this.$emit("close")},formSubmit:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,t.next=5,this.$store.dispatch("COLLECTION_REMOVE",{collectionId:this.$route.params.collectionId});case 5:this.$router.push({name:"collections",params:{}}),this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.loadError=t.t0;case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}()}},Ye={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"close-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])]),t._v(" "),s("div",{staticClass:"title"},[t._v("REMOVE COLLECTION")]),t._v(" "),s("div",{staticClass:"p-3"},[s("form",{staticClass:"category form-group",on:{submit:function(e){return e.preventDefault(),t.formSubmit(e)}}},[s("div",{staticClass:"modal-property-row"},[t._v("\n\t\t\t\tAre you sure you would like to delete this collection?\n\t\t\t")]),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-actions"},[e("button",{staticClass:"btn btn-dark float-right",attrs:{type:"submit"}},[this._v("Remove")])])}]},Ze=s("VU/8")(je,Ye,!1,null,null,null).exports,We={name:"collectionRemove",props:{selected:{type:Array}},computed:{planActive:function(){return this.$store.state.plan.active},theseParcelsDisplay:function(){return this.selected.length<2?"this "+this.selected.length+" parcel":"these "+this.selected.length+" parcels"}},data:function(){return{error:null,loading:!0,loadError:null}},methods:{close:function(){this.$emit("close")},formSubmit:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,e=this.selected.map(function(t){return t.id}),t.next=6,this.$store.dispatch("COLLECTION_PARCELS_REMOVE",{collectionId:this.$route.params.collectionId,parcelIds:e});case 6:this.loading=!1,this.$emit("parcelsRemoved"),this.close(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),this.loadError=t.t0;case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),numSelected:function(){}}},Qe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"close-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])]),t._v(" "),s("div",{staticClass:"title"},[t._v("REMOVE SELECTED PARCELS")]),t._v(" "),s("div",{staticClass:"p-3"},[s("form",{staticClass:"category form-group",on:{submit:function(e){return e.preventDefault(),t.formSubmit(e)}}},[s("div",{staticClass:"modal-property-row"},[t._v("\n\t\t\t\tAre you sure you would like to remove "+t._s(t.theseParcelsDisplay)+"?\n\t\t\t")]),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-actions"},[e("button",{staticClass:"btn btn-dark float-right",attrs:{type:"submit"}},[this._v("Remove")])])}]},qe=s("VU/8")(We,Qe,!1,null,null,null).exports,Ke={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-modal"},[e("div",{staticClass:"cover"}),this._v(" "),e("div",{staticClass:"content-modal-body"},[this._t("default")],2)])},staticRenderFns:[]};var Je=s("VU/8")({},Ke,!1,function(t){s("73kl")},null,null).exports,Xe={name:"collectionParcels",components:{collectionEdit:Ge,collectionParcelExport:He,collectionRemove:Ze,collectionRemoveSelected:qe,contentBox:Ht,contentActions:Zt,contentBody:qt,contentModal:Je,contentTitle:Xt},computed:{collection:function(){return this.$store.state.collections.rec},mapLoaded:function(){return this.$store.state.map.loaded},planCurrent:function(){return this.$store.state.plan.current},planCurrentIsDayPass:function(){return!!this.planCurrent&&(!this.planCurrent.plan.recurring&&"day"===this.planCurrent.plan.interval)},planCurrentIsStudio:function(){return!!this.planCurrent&&!!this.planCurrent.plan.recurring},parcels:function(){return this.$store.state.collections.parcels},parcelFeatures:function(){return this.$store.state.collections.parcelFeatures},token:function(){return this.$store.state.agent.token}},data:function(){return{error:null,mode:null,loading:!0,loadError:null,parcelPoi:null,selected:[]}},destroyed:function(){this.$store.dispatch("MAP_POI_SET",null),this.$store.dispatch("MAP_POI_HOVER_SET",null)},methods:{checkReady:function(){if(this.mapLoaded&&!this.loading)return this.poiSet()},clearSelected:function(){this.selected=[]},get:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadError=null,t.prev=1,t.next=4,this.$store.dispatch("COLLECTION_GET",{collectionId:this.$route.params.collectionId});case 4:return t.next=6,this.$store.dispatch("COLLECTION_PARCELS_GET",{collectionId:this.$route.params.collectionId});case 6:return t.next=8,this.$store.dispatch("COLLECTIONS_PARCEL_FEATURES_GET",{collectionId:this.$route.params.collectionId});case 8:this.loading=!1,this.checkReady(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),this.loadError=t.t0;case 15:case"end":return t.stop()}},t,this,[[1,12]])}));return function(){return t.apply(this,arguments)}}(),isSelected:function(t){return!!this.selected.find(function(e){return e.id===t.id})},mouseenter:function(t,e){this.parcelPoi&&this.parcelPoi[e.id]&&this.$store.dispatch("MAP_POI_HOVER_SET",[this.parcelPoi[e.id]])},mouseleave:function(t,e){this.$store.dispatch("MAP_POI_HOVER_SET",null)},parcelSub:function(t){var e="";return t.address&&(null!==t.address.jurisdiction&&(e+=t.address.jurisdiction+", "),null!==t.address.state&&(e+=t.address.state+" "),null!==t.address.postal&&(e+=t.address.postal)),e},parcelsRemoved:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("COLLECTIONS_PARCEL_FEATURES_GET",{collectionId:this.$route.params.collectionId});case 2:this.poiSet(),this.clearSelected();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),poiSet:function(){var t=this,e=[];if(this.parcelFeatures&&!(this.parcelFeatures.features.length<1)){this.$store.dispatch("MAP_POI_SET",null),this.parcelPoi={};var s=new mapboxgl.LngLatBounds;this.parcelFeatures.features.forEach(function(a){var i=M()({},a,{properties:M()({},a.properties,{route:{name:"parcels",params:{id:a.id}}})});s.extend(a.geometry.coordinates),t.parcelPoi[a.id]=i,e.push(i)}),this.$store.dispatch("MAP_FIT_BOUNDS",{bounds:{bbox:s.toArray()},padding:350}),this.$store.dispatch("MAP_POI_SET",e)}},routeClose:function(){this.$router.push({name:"home",params:{}})},routeParcel:function(t){this.$router.push({name:"parcels",params:{id:t.id}})},selectParcel:function(t){this.selected.find(function(e){return e.id===t.id})||(this.selected=[].concat(tt()(this.selected),[t]))},deSelectParcel:function(t){var e=this.selected.findIndex(function(e){return e.id===t.id});-1!==e&&(this.selected=[].concat(tt()(this.selected.slice(0,e)),tt()(this.selected.slice(e+1))))},setMode:function(t){this.mode=t}},mounted:function(){this.get()},watch:{mapLoaded:function(){this.checkReady()},parcelFeatures:function(){this.checkReady()}}},ts={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:t.loading}},[t.collection?s("contentTitle",{attrs:{variant:0===t.selected.length?"":"blue",label:"COLLECTION",close:"routeClose"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.collection.name))])]):t._e(),t._v(" "),null!==t.mode?s("contentModal",["edit"===t.mode?s("collectionEdit",{attrs:{collection:t.collection},on:{close:function(e){t.setMode(null)}}}):t._e(),t._v(" "),"export"===t.mode?s("collectionParcelExport",{attrs:{collection:t.collection},on:{close:function(e){t.setMode(null)}}}):t._e(),t._v(" "),"remove"===t.mode?s("collectionRemove",{attrs:{collection:t.collection},on:{close:function(e){t.setMode(null)}}}):t._e(),t._v(" "),"removeSelected"===t.mode?s("collectionRemoveSelected",{attrs:{selected:t.selected},on:{parcelsRemoved:function(e){t.parcelsRemoved()},close:function(e){t.setMode(null)}}}):t._e()],1):t._e(),t._v(" "),s("contentBody",{attrs:{locked:null===t.token,bg:"#f8f9fa"}},[0===t.selected.length?s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:"export"===t.mode},on:{click:function(e){t.setMode("export")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("cloud_download")]),t._v(" \n\t\t\t\tExport\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:"edit"===t.mode},on:{click:function(e){t.setMode("edit")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("edit")]),t._v(" \n\t\t\t\tEdit\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:"remove"===t.mode},on:{click:function(e){t.setMode("remove")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("delete")]),t._v(" \n\t\t\t\tRemove\n\t\t\t")])]):s("contentActions",{attrs:{variant:"blue"}},[s("span",{staticClass:"text-white mr-2"},[t._v("With "+t._s(t.selected.length)+" selected")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:"removeSelected"===t.mode},on:{click:function(e){t.setMode("removeSelected")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("delete")]),t._v(" \n\t\t\t\tRemove\n\t\t\t")]),t._v(" "),s("div",{staticClass:"text-white content-actions-close",on:{click:function(e){t.clearSelected()}}},[s("i",{staticClass:"material-icons md-18"},[t._v("close")])])]),t._v(" "),t.loading||t.parcels&&!(t.parcels.length<1)?t.loading?t._e():s("ul",{staticClass:"list-group list-group-flush"},t._l(t.parcels,function(e,a){return s("li",{key:e.id,class:"list-group-item list-group-item-action justify-content-between d-flex align-items-center cursor-pointer "+(t.isSelected(e)?"parcel-unlocked-selected":""),on:{click:function(s){t.routeParcel(e)},mouseenter:function(s){t.mouseenter(s,e)},mouseleave:function(s){t.mouseleave(s,e)}}},[s("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("address")(e))+"\n\t\t\t\t\t"),s("small",{staticClass:"text-secondary"},[t._v(t._s(t.parcelSub(e)))]),t._v(" "),t.isSelected(e)?s("div",{staticClass:"collection-list-remove",on:{click:function(s){s.stopPropagation(),t.deSelectParcel(e)}}},[s("i",{staticClass:"material-icons md-18"},[t._v("check_box")])]):s("div",{staticClass:"collection-list-remove",on:{click:function(s){s.stopPropagation(),t.selectParcel(e)}}},[s("i",{staticClass:"material-icons md-18"},[t._v("check_box_outline_blank")])])])])})):s("div",{staticClass:"m-3"},[s("h4",[t._v("No parcels in this collection")]),t._v(" "),s("p",[t._v("Add parcels to this collection by viewing a parcel and clicking the save button")])])],1)],1)},staticRenderFns:[]};var es=s("VU/8")(Xe,ts,!1,function(t){s("cYND")},null,null).exports,ss={name:"collectionUnlocked",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt},computed:{mapLoaded:function(){return this.$store.state.map.loaded},planCurrent:function(){return this.$store.state.plan.current},planCurrentIsDayPass:function(){return!!this.planCurrent&&(!this.planCurrent.plan.recurring&&"day"===this.planCurrent.plan.interval)},planCurrentIsStudio:function(){return!!this.planCurrent&&!!this.planCurrent.plan.recurring},unlocked:function(){return this.$store.state.collections.unlocked},unlockedFeatures:function(){return this.$store.state.collections.unlockedFeatures},token:function(){return this.$store.state.agent.token}},data:function(){return{loading:!0,loadError:null,parcelPoi:null}},destroyed:function(){this.$store.dispatch("MAP_POI_SET",null),this.$store.dispatch("MAP_POI_HOVER_SET",null)},methods:{checkReady:function(){if(this.mapLoaded&&!this.loading)return this.poiSet()},get:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadError=null,t.prev=1,t.next=4,this.$store.dispatch("COLLECTIONS_UNLOCKED_GET");case 4:return t.next=6,this.$store.dispatch("COLLECTIONS_UNLOCKED_FEATURES_GET");case 6:this.loading=!1,this.checkReady(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("loadError:",t.t0.toString()),this.loadError=t.t0;case 14:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),mouseenter:function(t,e){this.parcelPoi&&this.parcelPoi[e.id]&&this.$store.dispatch("MAP_POI_HOVER_SET",[this.parcelPoi[e.id]])},mouseleave:function(t,e){this.$store.dispatch("MAP_POI_HOVER_SET",null)},parcelTitle:function(t){var e="";return t.address&&t.address.street&&(null!==t.address.street.number&&(e+=t.address.street.number+" "),null!==t.address.street.name&&(e+=t.address.street.name+" "),null!==t.address.street.suffix&&(e+=t.address.street.suffix),null!==t.address.unit&&(e+=" #"+t.address.unit)),(e.length<1||"0 "===e)&&(e=t.apn.replace(/(\d{3})(\d{3})(\d{2})(\d{2})/,"$1-$2-$3-$4")),e},parcelSub:function(t){var e="";return t.address&&(null!==t.address.jurisdiction&&(e+=t.address.jurisdiction+", "),null!==t.address.state&&(e+=t.address.state+" "),null!==t.address.postal&&(e+=t.address.postal)),e},poiSet:function(){var t=this,e=[];if(this.unlockedFeatures&&!(this.unlockedFeatures.features.length<1)){this.parcelPoi={};var s=new mapboxgl.LngLatBounds;this.unlockedFeatures.features.map(function(a){var i=M()({},a,{properties:M()({},a.properties,{route:{name:"parcels",params:{id:a.id}}})});s.extend(a.geometry.coordinates),t.parcelPoi[a.id]=i,e.push(i)}),this.$store.dispatch("MAP_FIT_BOUNDS",{bounds:{bbox:s.toArray()}}),this.$store.dispatch("MAP_POI_SET",e)}},routeClose:function(){this.$router.push({name:"home",params:{}})},routeParcel:function(t){this.$router.push({name:"parcels",params:{id:t.id}})}},mounted:function(){this.get()},watch:{mapLoaded:function(){this.checkReady()},unlockedFeatures:function(){this.checkReady()}}},as={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:t.loading}},[s("contentTitle",{attrs:{label:"COLLECTION",close:"routeClose"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v("Unlocked Parcels")])]),t._v(" "),s("contentBody",{attrs:{locked:null===t.token,bg:"#f8f9fa"}},[!t.unlocked||t.unlocked.length<1?s("div",{staticClass:"m-3"},[t.planCurrentIsDayPass||t.planCurrentIsStudio?s("div",[s("h4",[t._v("All parcels are unlocked")]),t._v(" "),s("p",[t._v("You have purchased a plan which unlocks all parcels on Scoutred")])]):s("div",[s("h4",[t._v("No unlocked parcels")]),t._v(" "),s("p",[t._v("Purchase a plan to unlock all parcels or unlock parcels individually to add them to this list")])])]):s("ul",{staticClass:"list-group list-group-flush"},t._l(t.unlocked,function(e,a){return s("li",{key:e.id,staticClass:"list-group-item list-group-item-action justify-content-between d-flex align-items-center cursor-pointer",on:{click:function(s){t.routeParcel(e)},mouseenter:function(s){t.mouseenter(s,e)},mouseleave:function(s){t.mouseleave(s,e)}}},[s("span",[t._v(t._s(t.parcelTitle(e))+" "),s("small",{staticClass:"text-secondary"},[t._v(t._s(t.parcelSub(e)))])])])}))])],1)},staticRenderFns:[]};var is=s("VU/8")(ss,as,!1,function(t){s("SpYs")},null,null).exports,rs={name:"share",props:{link:{type:String}},computed:{layerId:function(){return this.feature.layer.id}},created:function(){},data:function(){return{copied:!1}},methods:{copyLink:function(){var t=this;this.$copyText(this.link).then(function(e){t.copied=!0,setTimeout(function(){t.copied=!1},800)},function(e){t.$store.dispatch("ERROR_MESSAGE_SET",{message:"Error copying to clipboard"}),t.copied=!1})},close:function(){this.$emit("close")}}},ns={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"share"},[s("div",{staticClass:"share-body p-3"},[s("div",{staticClass:"control-right",on:{click:t.close}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LINK")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.link))]),t._v(" "),s("div",{staticClass:"pt-2"},[t.copied?s("button",{staticClass:"btn btn-green btn-sm"},[s("i",{staticClass:"material-icons md-18",staticStyle:{"margin-top":"-3px"}},[t._v("assignment_turned_in")]),t._v("\n\t\t\t\t\t\tCopied to clipboard\n\t\t\t\t\t")]):s("button",{staticClass:"btn btn-dark btn-sm",on:{click:t.copyLink}},[t._v("\n\t\t\t\t\t\tCopy\n\t\t\t\t\t")])])])])])])},staticRenderFns:[]};var os=s("VU/8")(rs,ns,!1,function(t){s("EMik")},null,null).exports,ls={name:"communityPlan",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,share:os},beforeDestroy:function(){this.$store.dispatch("COMMUNITY_PLAN_HIGHLIGHT_CLEAR",{})},computed:{isAdmin:function(){return this.$store.state.agent.rec&&this.$store.state.agent.rec.role.name&&"admin"===this.$store.state.agent.rec.role.name},token:function(){return this.$store.state.agent.token},communityPlan:function(){return this.$store.state.communityPlan.rec},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},description:function(){return this.communityPlan.description},descriptionShort:function(){return this.description.length>500?this.description.substr(0,500)+"...":this.description},location:function(){return window.location.href},zoomToDone:function(){return this.$store.state.map.fitBoundsDone}},created:function(){this.getRec()},data:function(){return{descriptionExpanded:!1,recLoaded:!1,shareShown:!1,loadError:null}},methods:{edit:function(){this.$router.push({name:"community-plan-edit",params:{id:this.$route.params.id}})},getRec:function(){var t=this;this.recLoaded=!1,this.loadError=null,this.$store.dispatch("COMMUNITY_PLAN_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},routeClose:function(){this.$router.push({name:"home",params:{}})},highlight:function(){this.$store.dispatch("COMMUNITY_PLAN_HIGHLIGHT",{})},zoomTo:function(){this.$store.dispatch("COMMUNITY_PLAN_ZOOM_TO",{})},checkInside:function(){var t=this.communityPlan.bounds.bbox,e=this.mapBounds;return!(this.mapZoom>=13||this.mapZoom<=10)&&!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkReady:function(){this.communityPlan&&this.recLoaded&&this.mapLoaded&&this.ready()},ready:function(){this.checkInside()?this.highlight():this.zoomTo(),this.updateTitleTag()},updateTitleTag:function(){document.title=this.communityPlan.name+" - Scoutred Maps"},descriptionLess:function(){this.descriptionExpanded=!1},descriptionMore:function(){this.descriptionExpanded=!0},share:function(){this.shareShown?this.shareShown=!1:navigator.share?navigator.share({title:this.communityPlan.name+" - Scoutred Maps",text:"Community plan data for "+this.communityPlan.name,url:window.location.href}):this.shareShown=!0}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&this.getRec()},communityPlan:function(t,e){t&&(this.recLoaded=!0),this.checkReady()},mapLoaded:function(){this.checkReady()},zoomToDone:function(){this.highlight()}}},cs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:!t.recLoaded}},[t.communityPlan?s("contentTitle",{attrs:{label:"COMMUNITY PLAN",close:"home"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.communityPlan.name))])]):t._e(),t._v(" "),t.communityPlan?s("contentBody",[t.communityPlan?s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:!0===t.shareShown},on:{click:t.share}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"share community plan"}},[t._v("share")]),t._v(" \n\t\t\t\tShare\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.zoomTo}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on community plan"}},[t._v("place")]),t._v(" \n\t\t\t\tCenter\n\t\t\t")]),t._v(" "),t.isAdmin?s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.edit}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"edit community plan"}},[t._v("edit")]),t._v(" \n\t\t\t\tEdit\n\t\t\t")]):t._e()]):t._e(),t._v(" "),t.shareShown?s("share",{attrs:{link:t.location},on:{close:t.share}}):t._e(),t._v(" "),s("div",{staticClass:"p-3"},[s("div",{staticClass:"category-body"},[null!==t.communityPlan.description?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),t.descriptionExpanded?s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.description))]),t._v(" "),t.description!==t.descriptionShort?s("div",[s("a",{attrs:{href:"javascript:"},on:{click:t.descriptionLess}},[t._v("less")])]):t._e()]):s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.descriptionShort))]),t._v(" "),t.description!==t.descriptionShort?s("div",[s("a",{attrs:{href:"javascript:"},on:{click:t.descriptionMore}},[t._v("more")])]):t._e()])]):t._e(),t._v(" "),t.communityPlan.references?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("REFERENCES")]),t._v(" "),t._l(t.communityPlan.references,function(e,a){return s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{attrs:{href:e.url,target:"_blank"}},[s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")]),t._v(" Link")])])])})],2):t._e(),t._v(" "),t.description||t.communityPlan.references?t._e():s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DETAILS")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v("No data available for this community plan")])])])])])],1):t._e()],1)},staticRenderFns:[]},us=s("VU/8")(ls,cs,!1,null,null,null).exports,ds={name:"reference-form",created:function(){this.reference?this.rec=JSON.parse(lt()(this.reference)):this.rec={}},components:{},data:function(){return{rec:{}}},methods:{close:function(){this.$emit("close")},submit:function(){this.$emit("submit",this.rec)}},props:{reference:{description:String,url:String},submitLabel:String,title:String},watch:{}},ps={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t"+t._s(t.title)+"\n\t\t"),s("span",{staticClass:"category-title-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("form",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title overflow-hidden"},[t._v("\n\t\t\t\tDESCRIPTION\n\t\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.description,expression:"rec.description",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"short description"},domProps:{value:t.rec.description},on:{input:function(e){e.target.composing||t.$set(t.rec,"description",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"category-title overflow-hidden"},[t._v("\n\t\t\t\tURL\n\t\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.url,expression:"rec.url",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"full URL"},domProps:{value:t.rec.url},on:{input:function(e){e.target.composing||t.$set(t.rec,"url",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:t.submit}},[t._v(t._s(t.submitLabel))])])])},staticRenderFns:[]},vs={name:"communityPlan",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,referenceForm:s("VU/8")(ds,ps,!1,null,null,null).exports},destroyed:function(){this.$store.dispatch("COMMUNITY_PLAN_HIGHLIGHT_CLEAR",{})},computed:{isAdmin:function(){return this.$store.state.agent.rec&&this.$store.state.agent.rec.role.name&&"admin"===this.$store.state.agent.rec.role.name},token:function(){return this.$store.state.agent.token},communityPlan:function(){return this.$store.state.communityPlan.rec},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},description:function(){return this.communityPlan.description},zoomToDone:function(){return this.$store.state.map.fitBoundsDone}},created:function(){this.getRec()},data:function(){return{descriptionExpanded:!1,loadError:null,loading:!0,mode:null,rec:null,recLoaded:!1,shareShown:!1}},methods:{checkInside:function(){var t=this.communityPlan.bounds.bbox,e=this.mapBounds;return!(this.mapZoom>=13||this.mapZoom<=10)&&!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkReady:function(){this.communityPlan&&this.recLoaded&&this.mapLoaded&&this.ready()},getRec:function(){var t=this;this.recLoaded=!1,this.loadError=null,this.$store.dispatch("COMMUNITY_PLAN_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},highlight:function(){this.$store.dispatch("COMMUNITY_PLAN_HIGHLIGHT",{})},ready:function(){this.checkInside()?this.highlight():this.zoomTo(),this.updateTitleTag()},referenceAdd:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("COMMUNITY_PLAN_REFERENCE_ADD",{id:this.$route.params.id,reference:e});case 3:this.loading=!1,this.setMode(null);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),referenceDelete:function(t){this.setMode("referenceDelete"),this.referenceDeleteInd=t},referenceSave:function(){var t=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,s=this.communityPlan.references[this.referenceEditInd].id,t.next=4,this.$store.dispatch("COMMUNITY_PLAN_REFERENCE_SAVE",{id:this.$route.params.id,referenceId:s,reference:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),referenceDeleteSubmit:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e=this.communityPlan.references[this.referenceDeleteInd].id,t.next=4,this.$store.dispatch("COMMUNITY_PLAN_REFERENCE_DELETE",{id:this.$route.params.id,referenceId:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),referenceEdit:function(t){this.setMode("referenceEdit"),this.referenceEditInd=t},routeClose:function(){this.$router.push({name:"community-plans",params:{id:this.$route.params.id}})},routeLogin:function(){this.$router.push({name:"auth",params:{}})},updateTitleTag:function(){document.title=this.communityPlan.name+" Edit - Scoutred Maps"},saveDetails:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("COMMUNITY_PLAN_SAVE",{id:this.$route.params.id,rec:this.rec});case 3:this.loading=!1,this.setMode(null);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setMode:function(t){this.mode=t},zoomTo:function(){this.$store.dispatch("COMMUNITY_PLAN_ZOOM_TO",{})}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&this.getRec()},communityPlan:function(t,e){this.communityPlan&&(this.rec=JSON.parse(lt()(this.communityPlan)),this.loading=!1),this.checkReady()},mapLoaded:function(){this.checkReady()},zoomToDone:function(){this.highlight()}}},hs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:t.loading}},[t.communityPlan?s("contentTitle",{attrs:{label:"EDIT COMMUNITY PLAN",close:t.routeClose}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.communityPlan.name))])]):t._e(),t._v(" "),t.communityPlan?s("contentBody",{attrs:{locked:null===t.token||!t.isAdmin}},[s("div",{staticClass:"p-3"},[null!==t.token&&t.isAdmin?t._e():s("div",{staticClass:"lock-block"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.routeLogin}},[s("div",{staticClass:"col-2 text-center my-auto"},[s("i",{staticClass:"material-icons text-light mr-3 md-36"},[t._v("account_box")])]),t._v(" "),s("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Sign in to edit")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("You do not have permission to edit this record")])])])]),t._v(" "),null!==t.token&&t.isAdmin?s("div",{staticClass:"category-body"},["detailsEdit"===t.mode?s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\tEdit Details\n\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode(null)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rec.description,expression:"rec.description"}],staticClass:"form-control",attrs:{rows:"10"},domProps:{value:t.rec.description},on:{input:function(e){e.target.composing||t.$set(t.rec,"description",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:t.saveDetails}},[t._v("Save")])])]):s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\tDetails\n\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode("detailsEdit")}}},[s("i",{staticClass:"material-icons md-14"},[t._v("edit")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[t.description?s("div",{staticClass:"text-description"},[t._v(t._s(t.description))]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])])])])]),t._v(" "),t._l(t.communityPlan.references,function(e,a){return t.communityPlan.references?s("div",["referenceDelete"===t.mode&&t.referenceDeleteInd===a?s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tDelete Reference "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode(null)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\tAre you sure you want to delete this reference?\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-danger float-right",on:{click:t.referenceDeleteSubmit}},[t._v("Delete")])])]):"referenceEdit"===t.mode&&t.referenceEditInd===a?s("referenceForm",{attrs:{reference:t.communityPlan.references[a],submitLabel:"Save",title:"Edit Reference "+(a+1)},on:{close:function(e){t.setMode(null)},submit:t.referenceSave}}):s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tReference "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.referenceDelete(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("delete")])]),t._v(" "),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.referenceEdit(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("edit")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),e.description?s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.description)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("URL")]),t._v(" "),e.url?s("div",{staticClass:"property-row word-wrap-break"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.url)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])])])])],1):t._e()}),t._v(" "),"referenceAdd"===t.mode?s("referenceForm",{attrs:{submitLabel:"Add",title:"Add Reference"},on:{close:function(e){t.setMode(null)},submit:t.referenceAdd}}):s("div",{staticClass:"mb-3"},[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.setMode("referenceAdd")}}},[t._v("Add Reference")])])],2):t._e()])]):t._e()],1)},staticRenderFns:[]},ms=s("VU/8")(vs,hs,!1,null,null,null).exports,_s={name:"feature",components:{searchDefault:Ie,leftnav:Me},props:{},computed:{},methods:{}},fs={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex align-items-stretch h-100 flex-2"},[e("leftnav"),this._v(" "),e("router-view"),this._v(" "),e("searchDefault")],1)},staticRenderFns:[]},gs=s("VU/8")(_s,fs,!1,null,null,null).exports,Cs={name:"featureRow",props:{feature:Object},data:function(){return{component:null}},computed:{},mounted:function(){switch(this.feature.styleLayer){case"overlays-visible":this.component=function(){return s.e(4).then(s.bind(null,"aQ7v"))};break;case"parcels":this.component=function(){return s.e(3).then(s.bind(null,"zSo1"))};break;case"sewer-mains":this.component=function(){return s.e(2).then(s.bind(null,"TLYN"))};break;case"water-mains":this.component=function(){return s.e(1).then(s.bind(null,"43wU"))};break;case"zoning":this.component=function(){return s.e(0).then(s.bind(null,"8apC"))}}}},ys={render:function(){var t=this.$createElement,e=this._self._c||t;return this.component?e(this.component,{tag:"component",attrs:{feature:this.feature}}):this._e()},staticRenderFns:[]},bs={name:"featureList",components:{contentBox:Ht,contentBody:qt,contentTitle:Xt,featureRow:s("VU/8")(Cs,ys,!1,null,null,null).exports},props:{},destroyed:function(){this.$store.dispatch("MAP_FEATURE_HOVER_SET",[]),this.$store.dispatch("MAP_CLICK_POINT_CLEAR",{})},computed:{features:function(){return this.$store.state.feature.recs},mapLoaded:function(){return this.$store.state.map.loaded},mapPoint:function(){return this.$store.state.map.clickPoint}},methods:{checkReady:function(){this.mapLoaded&&this.ready()},ready:function(){var t={lng:Number(this.$route.params.lng),lat:Number(this.$route.params.lat)};this.$store.dispatch("MAP_CLICK_POINT",{point:t})},updateTitleTag:function(){document.title=this.features.length+" features - Scoutred Maps"},routeClose:function(){this.$router.push({name:"home"})}},mounted:function(){this.checkReady()},watch:{$route:function(t,e){t.params.lng===e.params.lng&&t.params.lat===e.params.lat||this.checkReady()},mapLoaded:function(){this.checkReady()},features:function(){this.updateTitleTag()}}},Es={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("contentBox",{attrs:{noScrollFix:!0}},[t.features&&t.features.length>0?s("contentTitle",{attrs:{label:t.features.length+" FEATURES",labelClass:"text-white"}}):t._e(),t._v(" "),t.features&&t.features.length>0?s("contentBody",{attrs:{bg:"rgba(55,71,79,0.6)"}},[s("div",{ref:"view",staticClass:"w-100 p-2",attrs:{id:"feature-list"}},t._l(t.features,function(t,e){return s("div",{key:t.featureId},[s("featureRow",{attrs:{feature:t}})],1)}))]):t._e()],1)},staticRenderFns:[]};var ws=s("VU/8")(bs,Es,!1,function(t){s("Ya7/")},null,null).exports,Ss={name:"home",components:{searchDefault:Ie,leftnav:Me},created:function(){if(!this.once){if("home"===this.$route.name&&!this.$route.params.map){var t=this.$store.getters.getLastParcelPath();this.$router.replace({path:t})}this.once=!0}this.mapLoaded&&this.$store.dispatch("MAP_POI_SET",null)},computed:{mapLoaded:function(){return this.$store.state.map.loaded}},data:function(){return{once:null}}},Ts={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex align-items-stretch h-100 flex-2"},[e("leftnav"),this._v(" "),e("router-view"),this._v(" "),e("searchDefault")],1)},staticRenderFns:[]},ks=s("VU/8")(Ss,Ts,!1,null,null,null).exports,As={name:"overlays",components:{searchDefault:Ie,leftnav:Me}},Ls={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex align-items-stretch h-100 flex-2"},[e("leftnav"),this._v(" "),e("router-view"),this._v(" "),e("searchDefault")],1)},staticRenderFns:[]},Is=s("VU/8")(As,Ls,!1,null,null,null).exports,Rs={name:"reference-form",created:function(){this.reference?this.rec=JSON.parse(lt()(this.reference)):this.rec={}},components:{},data:function(){return{rec:{}}},methods:{close:function(){this.$emit("close")},submit:function(){this.$emit("submit",this.rec)}},props:{reference:{description:String,url:String},submitLabel:String,title:String},watch:{}},xs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t"+t._s(t.title)+"\n\t\t"),s("span",{staticClass:"category-title-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("form",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title overflow-hidden"},[t._v("\n\t\t\t\tDESCRIPTION\n\t\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.description,expression:"rec.description",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"short description"},domProps:{value:t.rec.description},on:{input:function(e){e.target.composing||t.$set(t.rec,"description",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"category-title overflow-hidden"},[t._v("\n\t\t\t\tURL\n\t\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.url,expression:"rec.url",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"full URL"},domProps:{value:t.rec.url},on:{input:function(e){e.target.composing||t.$set(t.rec,"url",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:t.submit}},[t._v(t._s(t.submitLabel))])])])},staticRenderFns:[]},Ms={name:"overlay-edit",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,referenceForm:s("VU/8")(Rs,xs,!1,null,null,null).exports},computed:{isAdmin:function(){return this.$store.state.agent.rec&&this.$store.state.agent.rec.role.name&&"admin"===this.$store.state.agent.rec.role.name},token:function(){return this.$store.state.agent.token},overlay:function(){return this.$store.state.overlay.rec},mapBounds:function(){return this.$store.state.map.bounds},mapCenter:function(){return{lat:this.$store.state.map.params.lat,lng:this.$store.state.map.params.lng}},mapLoaded:function(){return this.$store.state.map.loaded},mapZoom:function(){return this.$store.state.map.params.zoom},location:function(){return window.location.href},mapMoveDone:function(){return this.$store.state.map.fitBoundsDone},flyToDone:function(){return this.$store.state.map.flyToDone},mapFeatureQueryFound:function(){return this.$store.state.map.featureQueryFound}},created:function(){this.loading=!1,this.getRec()},data:function(){return{loading:!1,loadError:null,mode:null,rec:null}},beforeDestroy:function(){this.$store.dispatch("OVERLAY_HIGHLIGHT_CLEAR",{}),this.$store.dispatch("OVERLAY_VISIBLE_CLEAR",{}),this.$store.dispatch("MAP_LAYER_GROUP_VISIBLE_ON","zoning")},methods:{checkInside:function(){var t=this.overlay.bounds.bbox,e=this.mapBounds;return!(this.mapZoom>=17||this.mapZoom<=12)&&!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkReady:function(){this.overlay&&this.mapLoaded&&this.ready()},checkZoom:function(){return!(this.mapZoom>=15||this.mapZoom<=12)},getRec:function(){var t=this;this.loadError=null,this.loading=!0,this.$store.dispatch("OVERLAY_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},highlight:function(){this.$store.dispatch("OVERLAY_VISIBLE"),this.$store.dispatch("OVERLAY_HIGHLIGHT",{})},ready:function(){this.checkInside()?this.checkZoom()?this.highlight():this.$store.dispatch("MAP_FLY_TO",{zoom:15}):this.zoomTo(),this.$store.dispatch("MAP_LAYER_GROUP_VISIBLE_OFF","zoning"),this.updateTitleTag()},referenceAdd:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("OVERLAY_REFERENCE_ADD",{id:this.$route.params.id,reference:e,sourceId:this.overlay.sourceId,layerId:this.overlay.layerId});case 3:this.loading=!1,this.setMode(null);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),referenceDelete:function(t){this.setMode("referenceDelete"),this.referenceDeleteInd=t},referenceSave:function(){var t=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,s=this.overlay.references[this.referenceEditInd].id,t.next=4,this.$store.dispatch("OVERLAY_REFERENCE_SAVE",{id:this.$route.params.id,referenceId:s,reference:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),referenceDeleteSubmit:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e=this.overlay.references[this.referenceDeleteInd].id,t.next=4,this.$store.dispatch("OVERLAY_REFERENCE_DELETE",{id:this.$route.params.id,referenceId:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),referenceEdit:function(t){this.setMode("referenceEdit"),this.referenceEditInd=t},routeClose:function(){this.$router.push({name:"overlay",params:{id:this.$route.params.id}})},routeLogin:function(){this.$router.push({name:"auth",params:{}})},saveDetails:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("OVERLAY_SAVE",{id:this.$route.params.id,rec:this.rec});case 3:this.loading=!1,this.setMode(null);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setMode:function(t){this.mode=t},updateTitleTag:function(){document.title=this.overlay.name+" edit - Scoutred Maps"},zoomTo:function(){this.$store.dispatch("OVERLAY_ZOOM_TO",{coords:this.mapCenter})}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&this.getRec()},mapLoaded:function(){this.checkReady()},overlay:function(t,e){this.checkReady(),this.overlay&&(this.rec=JSON.parse(lt()(this.overlay)),this.loading=!1)},mapMoveDone:function(){this.highlight()},flyToDone:function(){this.highlight()}}},$s={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:t.loading}},[t.overlay?s("contentTitle",{attrs:{label:"EDIT OVERLAY",close:t.routeClose}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.overlay.name))])]):t._e(),t._v(" "),t.overlay?s("contentBody",{attrs:{locked:null===t.token||!t.isAdmin}},[s("div",{staticClass:"p-3"},[null!==t.token&&t.isAdmin?t._e():s("div",{staticClass:"lock-block"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.routeLogin}},[s("div",{staticClass:"col-2 text-center my-auto"},[s("i",{staticClass:"material-icons text-light mr-3 md-36"},[t._v("account_box")])]),t._v(" "),s("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Sign in to edit")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("You do not have permission to edit this record")])])])]),t._v(" "),null!==t.token&&t.isAdmin?s("div",{staticClass:"category-body"},["detailsEdit"===t.mode?s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\tEdit Overview\n\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode(null)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rec.description,expression:"rec.description"}],staticClass:"form-control",attrs:{rows:"10"},domProps:{value:t.rec.description},on:{input:function(e){e.target.composing||t.$set(t.rec,"description",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:t.saveDetails}},[t._v("Save")])])]):s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\tOverview\n\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode("detailsEdit")}}},[s("i",{staticClass:"material-icons md-14"},[t._v("edit")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[t.overlay.description?s("div",{staticClass:"text-description"},[t._v(t._s(t.overlay.description))]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])])]),t._v(" "),t.overlay.details?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DETAILS")]),t._v(" "),t._l(t.overlay.details,function(e,a){return s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.value||"-")+"\n\t\t\t\t\t\t\t\t")])])})],2):t._e()])]),t._v(" "),t._l(t.overlay.references,function(e,a){return t.overlay.references?s("div",["referenceDelete"===t.mode&&t.referenceDeleteInd===a?s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tDelete Reference "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode(null)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\tAre you sure you want to delete this reference?\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-danger float-right",on:{click:t.referenceDeleteSubmit}},[t._v("Delete")])])]):"referenceEdit"===t.mode&&t.referenceEditInd===a?s("referenceForm",{attrs:{reference:t.overlay.references[a],submitLabel:"Save",title:"Edit Reference "+(a+1)},on:{close:function(e){t.setMode(null)},submit:t.referenceSave}}):s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tReference "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.referenceDelete(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("delete")])]),t._v(" "),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.referenceEdit(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("edit")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),e.description?s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.description)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("URL")]),t._v(" "),e.url?s("div",{staticClass:"property-row word-wrap-break"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.url)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])])])])],1):t._e()}),t._v(" "),"referenceAdd"===t.mode?s("referenceForm",{attrs:{submitLabel:"Add",title:"Add Reference"},on:{close:function(e){t.setMode(null)},submit:t.referenceAdd}}):s("div",{staticClass:"mb-3"},[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.setMode("referenceAdd")}}},[t._v("Add Reference")])])],2):t._e()])]):t._e()],1)},staticRenderFns:[]},Ns=s("VU/8")(Ms,$s,!1,null,null,null).exports,Ps={name:"overlay-full",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,share:os},computed:{isAdmin:function(){return this.$store.state.agent.rec&&this.$store.state.agent.rec.role.name&&"admin"===this.$store.state.agent.rec.role.name},token:function(){return this.$store.state.agent.token},overlay:function(){return this.$store.state.overlay.rec},mapBounds:function(){return this.$store.state.map.bounds},mapCenter:function(){return{lat:this.$store.state.map.params.lat,lng:this.$store.state.map.params.lng}},mapLoaded:function(){return this.$store.state.map.loaded},mapZoom:function(){return this.$store.state.map.params.zoom},location:function(){return window.location.href},mapMoveDone:function(){return this.$store.state.map.fitBoundsDone},flyToDone:function(){return this.$store.state.map.flyToDone},mapFeatureQueryFound:function(){return this.$store.state.map.featureQueryFound}},created:function(){this.recLoaded=!1,this.getRec()},data:function(){return{recLoaded:!1,shareShown:!1,loadError:null}},beforeDestroy:function(){this.$store.dispatch("OVERLAY_HIGHLIGHT_CLEAR",{}),this.$store.dispatch("OVERLAY_VISIBLE_CLEAR",{}),this.$store.dispatch("MAP_LAYER_GROUP_VISIBLE_ON","zoning")},methods:{checkInside:function(){var t=this.overlay.bounds.bbox,e=this.mapBounds;return!(this.mapZoom>=17||this.mapZoom<=12)&&!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkReady:function(){this.overlay&&this.mapLoaded&&this.ready()},checkZoom:function(){return!(this.mapZoom>=15||this.mapZoom<=12)},edit:function(){this.$router.push({name:"overlay-edit",params:{id:this.$route.params.id}})},getRec:function(){var t=this;this.loadError=null,this.recLoaded=!1,this.$store.dispatch("OVERLAY_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},highlight:function(){this.$store.dispatch("OVERLAY_VISIBLE"),this.$store.dispatch("OVERLAY_HIGHLIGHT",{})},isReference:function(t){if(!t.references||t.references.length<1)return!1;for(var e=0,s=t.references.length;e<s;e++)if(t.references[e].description)return!0;return!1},ready:function(){this.checkInside()?this.checkZoom()?this.highlight():this.$store.dispatch("MAP_FLY_TO",{zoom:15}):this.zoomTo(),this.$store.dispatch("MAP_LAYER_GROUP_VISIBLE_OFF","zoning"),this.updateTitleTag()},routeClose:function(){this.$router.push({name:"home",params:{}})},routeLogin:function(){this.$router.push({name:"auth",params:{}})},share:function(){this.shareShown?this.shareShown=!1:navigator.share?navigator.share({title:document.title,text:"Overlay data for "+this.overlay.name,url:window.location.href}):this.shareShown=!0},updateTitleTag:function(){document.title=this.overlay.name+" - Scoutred Maps"},zoomTo:function(){this.$store.dispatch("OVERLAY_ZOOM_TO",{coords:this.mapCenter})}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&this.getRec()},mapLoaded:function(){this.checkReady()},overlay:function(t,e){this.checkReady(),this.overlay&&(this.recLoaded=!0)},mapMoveDone:function(){this.highlight()},flyToDone:function(){this.highlight()}}},Os={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:!t.recLoaded}},[t.overlay?s("contentTitle",{attrs:{label:"OVERLAY",close:"home"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.overlay.name))])]):t._e(),t._v(" "),t.overlay?s("contentBody",{attrs:{locked:null===t.token}},[t.overlay?s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:!0===t.shareShown},on:{click:t.share}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"share overlay"}},[t._v("share")]),t._v(" \n\t\t\t\tShare\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.zoomTo}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on overlay"}},[t._v("place")]),t._v(" \n\t\t\t\tCenter\n\t\t\t")]),t._v(" "),t.isAdmin?s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.edit}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"edit overlay"}},[t._v("edit")]),t._v(" \n\t\t\t\tEdit\n\t\t\t")]):t._e()]):t._e(),t._v(" "),t.shareShown?s("share",{attrs:{link:t.location},on:{close:t.share}}):s("div",[s("div",{staticClass:"p-3"},[null===t.token?s("div",{staticClass:"lock-block"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.routeLogin}},[s("div",{staticClass:"col-2 text-center my-auto"},[s("i",{staticClass:"material-icons text-light mr-3 md-36"},[t._v("account_box")])]),t._v(" "),s("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Sign in to view")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("Get details on overlay parcel restrictions")])])])]):t._e(),t._v(" "),s("div",{staticClass:"category-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-break"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.overlay.description||"No description available")+"\n\t\t\t\t\t\t\t")])])]),t._v(" "),t.overlay.details?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DETAILS")]),t._v(" "),t._l(t.overlay.details,function(e,a){return s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.value||"-")+"\n\t\t\t\t\t\t\t")])])})],2):t._e(),t._v(" "),null!==t.overlay.jurisdiction&&null!==t.overlay.jurisdiction.name?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("JURISDICTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description property-locked"},[t._v(t._s(t.overlay.jurisdiction.name))])])]):t._e(),t._v(" "),t.isReference(t.overlay)?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("REFERENCES")]),t._v(" "),t._l(t.overlay.references,function(e,a){return s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{attrs:{href:e.url,target:"_blank"}},[s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")]),t._v(" Link")])])])})],2):t._e()])])])],1):t._e()],1)},staticRenderFns:[]};var Ds=s("VU/8")(Ps,Os,!1,function(t){s("ktWX")},null,null).exports,Fs=[{label:"aviation",color:"#80D4FA"},{label:"ecological",color:"#66BB69"},{label:"transportation",color:"#7D57C2"},{label:"historical",color:"#8D6E62"},{label:"hazard",color:"#FF8A65"},{label:"regulatory",color:"#FFF176"}],Us={name:"permit-list",components:{},created:function(){},data:function(){return{tabActive:"overview",permitHighlight:null,categories:Fs}},computed:{overlays:function(){return this.$store.state.search.results},searchType:function(){return this.$store.state.search.type},poiHighlight:function(){return this.$store.state.map.poiHighlight},poiClick:function(){return this.$store.state.map.poiClick},mapLoaded:function(){return this.$store.state.map.loaded}},methods:{swatchStyle:function(t){return"background-color:"+t.color+";"},jurisdictionPermitURL:function(t){return"https://opendsd.sandiego.gov/Web/Approvals/Details/"+t},parcelURL:function(t){return!!t&&"/parcels/"+t},parcelGo:function(t,e){var s={name:"parcels",params:{id:e}};return this.$router.push(s),t.stopPropagation(),!1},formatAPN:function(t){if(!t||t&&0==t.length)return"N/A";if(10!=t.length)return t;var e=[];return e[0]=t.substr(0,3),e[1]=t.substr(3,3),e[2]=t.substr(6,2),e[3]=t.substr(8,2),e.join("-")},formatDate:function(t){if(!t)return"";var e=new Date(t);return 1==e.getUTCFullYear()?"":e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear()},validDate:function(t){try{return 1!=new Date(t).getUTCFullYear()}catch(t){return!1}},isNew:function(t){if(!t)return"";var e=new Date(t);return new Date-e<7776e6},mouseenter:function(t,e){e.parcelId?(e.parcelId,e.typeRaw):e.typeRaw;var s={properties:{permitId:e.id,parcelId:e.parcelId,resource_id:e.id,route:{name:"permit",params:{id:e.id}}},geometry:{type:"Point",coordinates:[e.geom.lon,e.geom.lat]}};this.$store.dispatch("MAP_POI_HOVER_SET",[s])},click:function(t,e){var s={name:"permit",params:{id:e.id}};this.$router.push(s)},mouseleave:function(t,e){this.$store.dispatch("MAP_POI_HOVER_SET",null)},getStatus:function(t){return this.validDate(t.completedDate)?"Completed":this.validDate(t.issuedDate)?"Issued":this.validDate(t.appliedDate)?"Applied":void 0},getStatusLast:function(t){return this.validDate(t.completedDate)?t.completedDate:this.validDate(t.issuedDate)?t.issuedDate:this.validDate(t.appliedDate)?t.appliedDate:void 0},getStatusDate:function(t){return this.formatDate(this.getStatusLast(t))},getStatusIsNew:function(t){return this.isNew(this.getStatusLast(t))},getHighlightClass:function(t){return t.id===this.permitHighlight?"highlight":""},overlaysPoi:function(){if(this.mapLoaded&&this.overlays){var t=[];this.overlays.map(function(e){var s=e.number+" permit"+(e.number>1?"s":"");e.parcelId?(e.parcelId,e.typeRaw):e.typeRaw,t.push({type:"Feature",geometry:{type:"Point",coordinates:[e.geom.lon,e.geom.lat]},properties:{description:s,permitId:e.id,parcelId:e.parcelId,route:{name:"permit",params:{id:e.id}}}})}),this.$store.dispatch("MAP_POI_SET",{poi:t}),this.$store.dispatch("MAP_POI_ACTIVE",{poi:[]})}},checkReady:function(){this.overlays&&this.mapLoaded&&this.ready()},updateTitleTag:function(){if(!this.overlays)return document.title="Permits - Scoutred Maps";document.title=this.overlays.length+" overlays - Scoutred Maps"}},watch:{overlays:function(){this.checkReady(),this.updateTitleTag()},poiHighlight:function(t){this.$data.permitHighlight=t?t.properties.permitId:null},mapLoaded:function(){this.checkReady()}}},zs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"view",staticClass:"shadow-dk",attrs:{id:"overlays"}},[s("div",{staticClass:"mini-left-col category"},[s("div",{staticClass:"legend-header"},[t._v("\n\t\t\tOVERLAYS\n\t\t")]),t._v(" "),s("div",{staticClass:"legend-list"},t._l(t.categories,function(e,a){return s("div",{key:e.label,staticClass:"legend-row"},[s("span",{staticClass:"legend-swatch",style:t.swatchStyle(e)}),t._v(" "),s("span",{staticClass:"legend-label"},[t._v("\n\t\t\t\t\t"+t._s(e.label)+"\n\t\t\t\t")])])}))])])},staticRenderFns:[]};var Gs=s("VU/8")(Us,zs,!1,function(t){s("FV9A")},null,null).exports,Bs={name:"share",props:{link:{type:String}},computed:{layerId:function(){return this.feature.layer.id}},created:function(){},data:function(){return{copied:!1}},methods:{copyLink:function(){var t=this;this.$copyText(this.link).then(function(e){t.copied=!0,setTimeout(function(){t.copied=!1},800)},function(e){t.$store.dispatch("ERROR_MESSAGE_SET",{message:"Error copying to clipboard"}),t.copied=!1})},close:function(){this.$emit("close")}}},Vs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"close-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])]),t._v(" "),s("div",{staticClass:"title"},[t._v("SHARE")]),t._v(" "),s("div",{staticClass:"px-3 py-2"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LINK")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.link))]),t._v(" "),s("div",{staticClass:"pt-2"},[t.copied?s("button",{staticClass:"btn btn-green btn-sm"},[s("i",{staticClass:"material-icons md-18",staticStyle:{"margin-top":"-3px"}},[t._v("assignment_turned_in")]),t._v("\n\t\t\t\t\t\tCopied to clipboard\n\t\t\t\t\t")]):s("button",{staticClass:"btn btn-dark btn-sm",on:{click:t.copyLink}},[t._v("\n\t\t\t\t\t\tCopy\n\t\t\t\t\t")])])])])])])},staticRenderFns:[]},Hs=s("VU/8")(Bs,Vs,!1,null,null,null).exports,js=s("5dBV"),Ys=s.n(js),Zs={aviation:"local_airport",ecological:"local_florist",transportation:"directions_railway",historical:"vpn_key",hazard:"report",regulatory:"gavel",economic:"local_atm"},Ws={props:{parcel:{type:Object},addressId:{}},computed:{lotSizeAcres:function(){var t=this.parcel;if(null===t.geomArea)return"";var e=t.geomArea/43560;return e<100?"â‰ˆ "+Ys()(e).toPrecision(2):"â‰ˆ "+Ys()(e).toFixed(0)},lotSizeFt:function(){var t=this.parcel;return null===t.geomArea?"":"â‰ˆ "+Math.round(Number(t.geomArea)).toLocaleString()},token:function(){return this.$store.state.agent.token},plans:function(){return this.$store.state.plan.plans},overlayCategories:function(){var t={};return this.parcel.overlaySources.forEach(function(e){t[e.category]=t[e.category]||[],t[e.category].push(e)}),t}},methods:M()({routeCommunityPlan:function(t){this.$router.push({name:"community-plans",params:{id:t.id}})},routeZoning:function(){this.$router.push({name:"parcels-tab",params:{id:this.parcel.id,tab:"layers"}})},unlock:function(){this.$router.push({name:"unlock-parcel",params:{parcelId:this.parcel.id},query:{addressId:this.addressId}})},showTab:function(t){this.shareShown=!1,this.$router.push({name:"parcels-tab",params:{id:this.parcel.id,tab:t},query:{addressId:this.$data.addressId}})},subNavShorten:function(t){return!t||t.length<24?t:t.substr(0,24)+"..."}},Object(k.b)({setHighlight:"SET_HIGHLIGHT",setBounds:"SET_BOUNDS"}),{serviceProviderHref:function(){return"mailto:hello@scoutred.com?subject="+encodeURIComponent("Scoutred service provider request")+"&body="+encodeURIComponent("[tell us about your service]")},getCategoryIcon:function(t){if(Zs[t])return Zs[t]}})},Qs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"sub-nav"},[s("li",{on:{click:function(e){t.showTab("exports")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("cloud_download")]),t._v(" DOWNLOADS (4)\n\t\t\t"),s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\tClient Ready PDF\n\t\t\t")]),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])]),t._v(" "),s("li",{class:{inactive:!t.parcel.zoning||t.parcel.zoning.length<1},on:{click:function(e){t.showTab("zoning")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("assignment")]),t._v(" ZONING ("+t._s(t.parcel.zoning.length)+")\n\t\t\t"),t.parcel.zoning&&t.parcel.zoning.length>0?s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\t"+t._s(t.subNavShorten(t.parcel.zoning[0].designation))+"\n\t\t\t")]):t._e(),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])]),t._v(" "),t._l(t.overlayCategories,function(e,a){return s("li",{on:{click:function(e){t.showTab(a)}}},[s("i",{staticClass:"material-icons md-18"},[t._v(t._s(t.getCategoryIcon(a)))]),t._v(" "+t._s(a.toUpperCase())+" ("+t._s(e.length)+")\n\t\t\t"),s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\t"+t._s(t.subNavShorten(e[0].name))+"\n\t\t\t")]),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])])}),t._v(" "),s("li",{class:{inactive:!t.parcel.permits||t.parcel.permits.length<1},on:{click:function(e){t.showTab("permits")}}},[s("i",{staticClass:"material-icons md-18"},[t._v("business_center")]),t._v(" PERMITS ("+t._s(t.parcel.permits.length)+")\n\t\t\t"),t.parcel.permits&&t.parcel.permits.length>0?s("span",{staticClass:"sub-nav-value"},[t._v("\n\t\t\t\t"+t._s(t.subNavShorten(t.parcel.permits[0].typeRaw))+"\n\t\t\t")]):t._e(),t._v(" "),s("i",{staticClass:"material-icons md-18 arrow-more"},[t._v("keyboard_arrow_right")])])],2),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tSTATS \n\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("APN")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.apn?s("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("apn")(t.parcel.apn))+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Lot size")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.geomArea?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.lotSizeAcres)+" acres \n\t\t\t\t\t"),s("span",{staticClass:"text-muted font-weight-light"},[t._v("|")]),t._v(" \n\t\t\t\t\t"+t._s(t.lotSizeFt)+" SF\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])])]),t._v(" "),null!==t.parcel.owner?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tOWNER \n\t\t")]),t._v(" "),!1===t.parcel.unlocked?s("div",{staticClass:"lock-block mt-2 mb-2",on:{click:t.unlock}},[t._m(0),t._v(" "),s("div",{staticClass:"lock-text"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Unlock to view owner's information")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("$"+t._s(t.plans.parcelUnlock.price)+" to unlock all info for this parcel")])])]):s("div",{staticClass:"property-row"},[s("label",[t._v("Contact")]),t._v(" "),s("div",{staticClass:"property-value-right text-right"},[s("div",[t._v(t._s(t.parcel.owner.name1))]),t._v(" "),s("div",[t._v(t._s(t.parcel.owner.name2))]),t._v(" "),s("div",[t._v(t._s(t.parcel.owner.name3))]),t._v(" "),s("div",[t._v(t._s(t.parcel.owner.address1))]),t._v(" "),s("div",[t._v(t._s(t.parcel.owner.address2))]),t._v(" "),s("div",[t._v(t._s(t.parcel.owner.address3))]),t._v(" "),s("div",[t._v(t._s(t.parcel.owner.address4))]),t._v(" "),s("div",[t._v(t._s(t.parcel.owner.postal))])])])]):t._e(),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tCOMMUNITY PLAN\n\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Name")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.communityPlan&&null!==t.parcel.communityPlan.name?s("span",{staticClass:"link",on:{click:function(e){t.routeCommunityPlan(t.parcel.communityPlan)}}},[t._v("\n\t\t\t\t\t"+t._s(t.parcel.communityPlan.name)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tASSESSOR\n\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Land")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.assessor.land?s("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("currency")(t.parcel.assessor.land))+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Improvements")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.assessor.improvements?s("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("currency")(t.parcel.assessor.improvements))+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tSTRUCTURE\n\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Effective year built")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.structure.effectiveYearBuilt?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.structure.effectiveYearBuilt)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Living SF")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.structure.livingSF?s("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("numberWithCommas")(t.parcel.structure.livingSF))+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Usable SF")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.structure.usableSF?s("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("numberWithCommas")(t.parcel.structure.usableSF))+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Units")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.structure.units?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.structure.units)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Bedrooms")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.structure.bedrooms?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.structure.bedrooms)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Bathrooms")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.structure.bathrooms?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.structure.bathrooms)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tSUBDIVISION\n\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Name")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.subdivision.name?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.subdivision.name)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Map")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.subdivision.map?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.subdivision.map)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tLEGAL DESCRIPTION\n\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Description")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.legalDescription?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.legalDescription)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\tFIPS CODES\n\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("State")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.stateFIPS?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.stateFIPS)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("County")]),t._v(" "),s("div",{staticClass:"property-value-right"},[null!==t.parcel.countyFIPS?s("span",[t._v("\n\t\t\t\t\t"+t._s(t.parcel.countyFIPS)+"\n\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t-\n\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("small",{staticClass:"float-right text-muted font-weight-light mt-updated"},[t._v("\n\t\t\tparcel updated "+t._s(t._f("ago")(t.parcel.updated))+"\n\t\t\t"),s("i",{staticClass:"material-icons md-14"},[t._v("query_builder")])])]),t._v(" "),s("div",{staticClass:"sponsored-section"},[t._m(1),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"text-right"},[s("small",[s("a",{staticClass:"link-gray",attrs:{href:t.serviceProviderHref()}},[t._v("\n\t\t\t\t\t\tAre you a service provider?\n\t\t\t\t\t")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-icon-box"},[e("i",{staticClass:"material-icons md-36"},[this._v("lock")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"category sponsored-category"},[e("div",{staticClass:"font-weight-bold text-light-gray sponsored-head"},[this._v("\n\t\t\t\tPROFESSIONAL SERVICES\n\t\t\t")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"category sponsored-category"},[e("h4",{staticClass:"sponsored-title"},[this._v("\n\t\t\t\tDevelopment feasibility\n\t\t\t")]),this._v(" "),e("div",{staticClass:"property-row"},[this._v("\n\t\t\t\tLooking to further understand the development potential for a property? Have an experienced architect review the municipal code and compile a feasibility study for you.\n\t\t\t")]),this._v(" "),e("div",{staticClass:"property-row overflow-hidden mb-2"},[e("a",{staticClass:"btn btn-sm btn-dark float-right",attrs:{href:"tel:+1-619-304-0300"}},[this._v("CALL 619-304-0300")])])])}]};var qs=s("VU/8")(Ws,Qs,!1,function(t){s("kc/n")},null,null).exports,Ks={props:{parcel:{type:Object},addressId:{}},computed:{token:function(){return this.$store.state.agent.token},deviceType:function(){return this.$store.state.device.type}},created:function(){if(this.parcel&&this.parcel.overlays){var t={};this.parcel.overlays.map(function(e){var s=e.sourceId+"_"+e.layerId;t[s]||(t[s]={name:e.name,description:e.description,sourceId:e.sourceId,layerId:e.layerId,features:[]}),t[s].features.push(e)});var e=[];for(var s in t)e.push(t[s]);this.$data.overlaySources=e}else this.$data.overlaySources=[]},data:function(){return{overlaySources:[],overlaysVisible:{}}},methods:{jurisdictionPermitURL:function(t){return"https://opendsd.sandiego.gov/Web/Approvals/Details/"+t},routeLogin:function(){this.$router.push({name:"auth",params:{}})},routeOverlay:function(t){var e=this.parcel.bounds.bbox,s=e[0]+(e[2]-e[0])/2,a=e[1]+(e[3]-e[1])/2;this.$router.push({name:"overlay",params:{id:t.id},query:{lat:s.toFixed(5),lng:a.toFixed(5)}})},routeZoning:function(t){var e=this.parcel.bounds.bbox,s=e[0]+(e[2]-e[0])/2,a=e[1]+(e[3]-e[1])/2;this.$router.push({name:"zoning",params:{id:t.id},query:{lat:s.toFixed(5),lng:a.toFixed(5)}})},routeBack:function(){this.$router.push({name:"parcels",params:{id:this.parcel.id},query:{addressId:this.addressId}})},overlayLayerToggle:function(t){var e=this.overlayKey(t);this.overlaysVisible[e]?(this.overlaysVisible=M()({},this.overlaysVisible,de()({},e,!1)),this.$store.dispatch("MAP_FEATURE_VISIBLE_OFF",[{sourceLayer:"overlays",featureId:t.features[0].id,properties:{layerId:t.layerId,sourceId:t.sourceId}},{sourceLayer:"overlay_labels",properties:{layerId:t.layerId,sourceId:t.sourceId}}])):(this.overlaysVisible=M()({},this.overlaysVisible,de()({},e,!0)),this.$store.dispatch("MAP_FEATURE_VISIBLE_ON",[{sourceLayer:"overlays",featureId:t.features[0].id,properties:{layerId:t.layerId,sourceId:t.sourceId}},{sourceLayer:"overlay_labels",properties:{layerId:t.layerId,sourceId:t.sourceId}}]))},overlayKey:function(t){return t.sourceId+"-"+t.layerId}}},Js={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{locked:null===t.token}},[s("ul",{staticClass:"title-nav"},[s("li",{on:{click:function(e){t.routeBack()}}},[t._m(0),t._v(" "),s("div",{staticClass:"title-label"},[s("i",{staticClass:"material-icons md-18"},[t._v("assignment")]),t._v(" ZONING ("+t._s(t.parcel.zoning.length)+")")])])]),t._v(" "),null===t.token?s("div",{staticClass:"lock-block",on:{click:t.routeLogin}},[t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),0===t.parcel.zoning.length?s("div",{staticClass:"section-title text-center"},[t._v("\n\t\tNo zoning info for this parcel\n\t")]):t._e(),t._v(" "),t._l(t.parcel.zoning,function(e,a){return s("div",{staticClass:"mb-3"},[s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[s("span",{staticClass:"link",on:{click:function(s){t.routeZoning(e)}}},[t._v(t._s(e.designation))])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-break property-locked"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.description||"No description available")+"\n\t\t\t\t\t\t")])])]),t._v(" "),t._l(e.regulations,function(a,i){return s("div",[null!==a.lotSize.minArea||null!==a.lotSize.maxArea||null!==a.lotSize.minWidth||null!==a.lotSize.minWidthCorner||null!==a.lotSize.minFrontage||null!==a.lotSize.minDepth?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LOT SIZE")]),t._v(" "),null!==a.lotSize.minArea?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum area")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotSize.minArea))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.lotSize.maxArea?s("div",{staticClass:"property-row"},[s("label",[t._v("Maximum area")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotSize.maxArea))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.lotSize.minWidth?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotSize.minWidth))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.lotSize.minWidthCorner?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width corner")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotSize.minWidthCorner))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.lotSize.minFrontage?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum frontage")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotSize.minFrontage))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.lotSize.minDepth?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum depth")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotSize.minDepth))+" ft\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==a.density.sfDu?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DENSITY")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.density.sfDu))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),null!==a.density.sfDuNote?s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.density.sfDuNote)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==a.heightLimit.max||null!==a.heightLimit.aboveEnclosedParking||null!==a.heightLimit.roofFlat||null!==a.heightLimit.roofPitched?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("HEIGHT LIMIT")]),t._v(" "),null!==a.heightLimit.max?s("div",{staticClass:"property-row"},[s("label",[t._v("Height maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.heightLimit.max))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.heightLimit.aboveEnclosedParking?s("div",{staticClass:"property-row"},[s("label",[t._v("Above enclosed parking")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.heightLimit.aboveEnclosedParking))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.heightLimit.roofFlat?s("div",{staticClass:"property-row"},[s("label",[t._v("Roof flat limit")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.heightLimit.roofFlat))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.heightLimit.roofPitched?s("div",{staticClass:"property-row"},[s("label",[t._v("Roof pitched limit")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.heightLimit.roofPitched))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.heightLimit.note?s("div",{staticClass:"property-row"},[s("label",[t._v("Height note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.heightLimit.note)+" ft\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==a.far.base||null!==a.far.min||null!==a.far.max||null!==a.far.residential||null!==a.far.commercial||null!==a.far.mixed?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("FLOOR TO AREA RATIO (FAR)")]),t._v(" "),null!==a.far.base?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR base")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.far.base)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.far.min?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR minimum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.far.min)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.far.max?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.far.max)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.far.residential?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR residential")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.far.residential)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.far.commercial?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR commercial")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.far.commercial)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.far.mixed?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR mixed")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.far.mixed)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.far.note?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.far.note)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==a.setbacks.frontMin||null!==a.setbacks.frontMax||null!==a.setbacks.interiorSide||null!==a.setbacks.streetSide||null!==a.setbacks.rear||null!==a.setbacks.rearAlley||null!==a.setbacks.rearAlley||null!==a.setbacks.generalNote?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("SETBACKS")]),t._v(" "),null!==a.setbacks.frontMin?s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.setbacks.frontMin))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.frontMinNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.setbacks.frontMinNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.frontMax?s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.setbacks.frontMax))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.frontMaxNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.setbacks.frontMaxNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.interiorSide?s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.setbacks.interiorSide))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.interiorSideNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.setbacks.interiorSideNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.streetSide?s("div",{staticClass:"property-row"},[s("label",[t._v("Street side")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.setbacks.streetSide))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.streetSideNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Street side note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.setbacks.streetSideNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.rear?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.setbacks.rear))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.rearAlley?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.setbacks.rearAlley))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.rearNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.setbacks.rearNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.setbacks.generalNote?s("div",{staticClass:"property-row"},[s("label",[t._v("General note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.setbacks.generalNote)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==a.lotCoverage.min||null!==a.lotCoverage.max?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LOT COVERAGE")]),t._v(" "),null!==a.lotCoverage.min?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage minimum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotCoverage.min))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.lotCoverage.max?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(a.lotCoverage.max))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==a.lotCoverage.note?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.lotCoverage.note)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),e.references?s("div",{staticClass:"categorty"},[s("div",{staticClass:"category-title"},[t._v("REFERENCES")]),t._v(" "),t._l(e.references,function(e,a){return s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{attrs:{href:e.url,target:"_blank"}},[t._v("Link "),s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")])])])])})],2):t._e()])})],2),t._v(" "),null===t.token?s("div",{staticClass:"over-action d-flex",on:{click:t.routeLogin}},[t._m(3,!0)]):t._e()])])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back-btn"},[e("i",{staticClass:"material-icons md-18"},[this._v("keyboard_arrow_left")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-icon-box"},[e("i",{staticClass:"material-icons md-36"},[this._v("account_box")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-text"},[e("h5",{staticClass:"mb-0 text-white"},[this._v("Sign in to view zoning")]),this._v(" "),e("h5",{staticClass:"mb-0 font-weight-light text-light"},[this._v("Get details on parcel capabilities")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"over-action-box align-self-center text-white hover-dk"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"material-icons text-light md-36"},[this._v("account_box")])]),this._v(" "),e("div",{staticClass:"text-center"},[this._v("\n\t\t\t\t\t\tSign in to view\n\t\t\t\t\t")])])}]};var Xs=s("VU/8")(Ks,Js,!1,function(t){s("AcXm")},null,null).exports,ta={props:{parcel:{type:Object},addressId:{},category:{type:String}},computed:{token:function(){return this.$store.state.agent.token},deviceType:function(){return this.$store.state.device.type},zoomToDone:function(){return this.$store.state.map.flyToDone},categoryOverlays:function(){var t=this,e=[];return this.parcel.overlaySources.forEach(function(s){s.category===t.category&&e.push(s)}),e}},created:function(){this.$store.dispatch("MAP_LAYER_GROUP_VISIBLE_OFF","zoning")},data:function(){return{overlaysVisible:{},zoomToCb:[]}},beforeDestroy:function(){this.$store.dispatch("MAP_FEATURE_VISIBLE_CLEAR","all"),this.$store.dispatch("MAP_LAYER_GROUP_VISIBLE_ON","zoning")},methods:{isReference:function(t){if(!t.references||t.references.length<1)return!1;for(var e=0,s=t.references.length;e<s;e++)if(t.references[e].description)return!0;return!1},routeLogin:function(){this.$router.push({name:"auth",params:{}})},routeOverlay:function(t){var e=this.parcel.bounds.bbox,s=e[0]+(e[2]-e[0])/2,a=e[1]+(e[3]-e[1])/2;this.$router.push({name:"overlay",params:{id:t.id},query:{lat:s.toFixed(5),lng:a.toFixed(5)}})},routeBack:function(){this.$router.push({name:"parcels",params:{id:this.parcel.id},query:{addressId:this.addressId}})},overlayLayerToggle:function(t){var e=this,s=this.overlayKey(t);if(this.overlaysVisible[s])this.$store.dispatch("MAP_FEATURE_VISIBLE_OFF",[].concat(tt()(this.overlaysVisible[s]))),this.overlaysVisible=M()({},this.overlaysVisible,de()({},s,!1));else{var a=[];t.features.map(function(e){a.push({sourceLayer:"overlays",featureId:e.id,properties:{layer_id:t.layerId,source_id:t.sourceId}}),a.push({sourceLayer:"overlay_labels",properties:{resource_id:e.id}})}),this.overlaysVisible=M()({},this.overlaysVisible,de()({},s,a));var i=function(){e.$store.dispatch("MAP_FEATURE_VISIBLE_ON",a)};this.$store.getters.mapZoomGet()>16?(this.$store.dispatch("MAP_FLY_TO",{zoom:15}),this.zoomToCb=[].concat(tt()(this.zoomToCb),[i])):i()}},overlayKey:function(t){return t.sourceId+"-"+t.layerId},getCategoryIcon:function(){if(Zs[this.category])return Zs[this.category]}},watch:{zoomToDone:function(){this.zoomToCb&&this.zoomToCb.length>0&&(this.zoomToCb.map(function(t){t()}),this.zoomToCb=[])},$route:function(t,e){this.$store.dispatch("MAP_LAYER_GROUP_VISIBLE_OFF","zoning")}}},ea={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{locked:null===t.token}},[s("ul",{staticClass:"title-nav"},[s("li",{on:{click:function(e){t.routeBack()}}},[t._m(0),t._v(" "),s("div",{staticClass:"title-label"},[s("i",{staticClass:"material-icons md-18"},[t._v(t._s(this.getCategoryIcon()))]),t._v(" "+t._s(t.category.toUpperCase())+" ("+t._s(t.categoryOverlays.length)+")")])])]),t._v(" "),null===t.token?s("div",{staticClass:"lock-block",on:{click:t.routeLogin}},[t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),0===t.categoryOverlays.length?s("div",{staticClass:"section-title text-center"},[t._v("\n\t\tNo "+t._s(t.category)+" overlays for this parcel\n\t")]):t._e(),t._v(" "),t._l(t.categoryOverlays,function(e,a){return s("div",{staticClass:"section"},[s("div",{staticClass:"section-title property-locked"},[s("span",[s("span",{staticClass:"link",on:{click:function(s){t.routeOverlay(e.features[0])}}},[t._v(t._s(e.name))]),t._v(" "),"mobile"!==t.deviceType?s("a",{staticClass:"visible-icon float-right",class:{active:t.overlaysVisible[t.overlayKey(e)]},attrs:{href:"javascript:"},on:{click:function(s){t.overlayLayerToggle(e)}}},[s("i",{staticClass:"material-icons md-18"},[t._v("visibility")])]):t._e()])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-break property-locked"},[t._v("\n\t\t\t\t\t\t"+t._s(e.description||"No description available")+"\n\t\t\t\t\t")])])]),t._v(" "),t._l(e.features,function(a,i){return s("div",{staticClass:"feature"},[a.details?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\t\t\t\tDETAILS \n\t\t\t\t\t\t"),e.features.length>1?s("span",[t._v("("+t._s(i+1)+")")]):t._e()]),t._v(" "),t._l(a.details,function(e,a){return s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.value)+"\n\t\t\t\t\t\t")])])})],2):t._e(),t._v(" "),t.isReference(a)?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("\n\t\t\t\t\t\tREFERENCES \n\t\t\t\t\t\t"),e.features.length>1?s("span",[t._v("("+t._s(i+1)+")")]):t._e()]),t._v(" "),t._l(a.references,function(e,a){return s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{attrs:{href:e.url,target:"_blank"}},[s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")]),t._v(" Link")])])])})],2):t._e()])}),t._v(" "),null===t.token?s("div",{staticClass:"over-action d-flex",on:{click:t.routeLogin}},[t._m(3,!0)]):t._e()],2)])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back-btn"},[e("i",{staticClass:"material-icons md-18"},[this._v("keyboard_arrow_left")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-icon-box"},[e("i",{staticClass:"material-icons md-36"},[this._v("account_box")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-text"},[e("h5",{staticClass:"mb-0 text-white"},[this._v("Sign in to view overlays")]),this._v(" "),e("h5",{staticClass:"mb-0 font-weight-light text-light"},[this._v("Get details on parcel capabilities")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"over-action-box align-self-center text-white hover-dk"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"material-icons text-light md-36"},[this._v("account_box")])]),this._v(" "),e("div",{staticClass:"text-center"},[this._v("\n\t\t\t\t\t\tSign in to view\n\t\t\t\t\t")])])}]};var sa=s("VU/8")(ta,ea,!1,function(t){s("EwwC")},null,null).exports,aa={props:{parcel:{type:Object},addressId:{}},methods:{unlock:function(){this.$router.push({name:"unlock-parcel",params:{parcelId:this.$store.state.parcel.id},query:{addressId:this.addressId}})},jurisdictionPermitURL:function(t){return"https://opendsd.sandiego.gov/Web/Approvals/Details/"+t},routeBack:function(){this.$router.push({name:"parcels",params:{id:this.parcel.id},query:{addressId:this.addressId}})}},computed:{token:function(){return this.$store.state.agent.token},plans:function(){return this.$store.state.plan.plans},unlocked:function(){return!0}}},ia={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"title-nav"},[s("li",{on:{click:function(e){t.routeBack()}}},[t._m(0),t._v(" "),s("div",{staticClass:"title-label"},[s("i",{staticClass:"material-icons md-18"},[t._v("business_center")]),t._v(" PERMITS ("+t._s(t.parcel.permits.length)+")")])])]),t._v(" "),0===t.parcel.permits.length?s("div",{staticClass:"section-title text-center"},[t._v("\n\t\tNo permits for this parcel\n\t")]):t._e(),t._v(" "),t._l(t.parcel.permits,function(e,a){return s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t"+t._s(e.typeRaw)+"\n\t\t")]),t._v(" "),s("div",{staticClass:"section-body"},[null!==e.description?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description property-locked"},[t._v(t._s(e.description))])])]):t._e(),t._v(" "),null!==e.appliedDate||null!==e.issuedDate||null!==e.completedDate?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DETAILS")]),t._v(" "),null!==e.appliedDate?s("div",{staticClass:"property-row"},[s("label",[t._v("Applied")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("longDate")(e.appliedDate))+"\n\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.issuedDate?s("div",{staticClass:"property-row"},[s("label",[t._v("Issued")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("longDate")(e.issuedDate))+"\n\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.completedDate?s("div",{staticClass:"property-row"},[s("label",[t._v("Completed")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("longDate")(e.completedDate))+"\n\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),e.jurisdictionPermitId?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("REFERENCES")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Source")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{staticClass:"property-locked",attrs:{href:t.jurisdictionPermitURL(e.jurisdictionPermitId),target:"_blank"}},[t._v("\n\t\t\t\t\t\t\t#"+t._s(e.jurisdictionPermitId)+"\n\t\t\t\t\t\t\t"),s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")])])])])]):t._e(),t._v(" "),!1===t.unlocked?s("div",{staticClass:"over-sign-in d-flex",on:{click:t.unlock}},[t._m(1,!0)]):t._e()])])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back-btn"},[e("i",{staticClass:"material-icons md-18"},[this._v("keyboard_arrow_left")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"over-sign-in-box align-self-center text-white hover-dk"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"material-icons text-light md-36"},[this._v("lock")])]),this._v(" "),e("div",{staticClass:"text-center"},[this._v("\n\t\t\t\t\t\tUnlock to view\n\t\t\t\t\t")])])}]};var ra=s("VU/8")(aa,ia,!1,function(t){s("TeX6")},null,null).exports,na={props:{parcel:{type:Object},addressId:{}},computed:{plans:function(){return this.$store.state.plan.plans}},methods:{unlock:function(){this.$router.push({name:"unlock-parcel",params:{parcelId:this.parcel.id},query:{addressId:this.addressId}})},download:function(t){var e=void 0;if(this.parcel.unlocked)e="/api/parcels/"+this.parcel.id+"/export?format="+t,this.addressId&&(e+="&address_id="+this.addressId);else switch(t){case"pdf":e="https://cdn.scoutred.com/web-static/download/examples/parcel-id-969509.pdf";break;case"dxf":e="https://cdn.scoutred.com/web-static/download/examples/parcel-id-923640.dxf";break;case"csv":e="https://s3.amazonaws.com/scoutred.com/web-static/download/examples/parcel-id-820969.csv";break;case"kml":e="https://s3.amazonaws.com/scoutred.com/web-static/download/examples/parcel-id-820969.kml";break;default:this.$store.dispatch("SET_ERROR","unsupported file type: "+t)}window.open(e)},routeBack:function(){this.$router.push({name:"parcels",params:{id:this.parcel.id},query:{addressId:this.addressId}})}}},oa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"title-nav"},[s("li",{on:{click:function(e){t.routeBack()}}},[t._m(0),t._v(" "),t._m(1)])]),t._v(" "),!1===t.parcel.unlocked?s("div",[s("div",{staticClass:"lock-block",on:{click:t.unlock}},[t._m(2),t._v(" "),s("div",{staticClass:"lock-text"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Unlock to download exports")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("$"+t._s(t.plans.parcelUnlock.price)+" to unlock this parcel")])])]),t._v(" "),s("p",{staticClass:"font-sm"},[t._v("\n\t\t\tUnlock this parcel to download the formats listed below. Samples are provided to try before you buy.\n\t\t")])]):t._e(),t._v(" "),s("div",{staticClass:"mb-3"},[s("h5",{staticClass:"mb-2"},[t._v("\n\t\t\tPROPERTY REPORT\n\t\t\t"),s("small",{staticClass:"float-right text-muted font-weight-light mt-updated"},[t._v("updated "+t._s(t._f("ago")(t.parcel.updated)))])]),t._v(" "),s("div",{staticClass:"field-row py-2 px-2 mb-1 clearfix"},[s("label",{staticClass:"mb-0 font-weight-normal button-label"},[t._v("Client ready PDF")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[!1===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("pdf")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Sample")]):t._e(),t._v(" "),!0===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("pdf")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Download")]):t._e()])])]),t._v(" "),s("div",{staticClass:"mb-3"},[s("h5",{staticClass:"mb-2"},[t._v("\n\t\t\tPARCEL LOT LINES\n\t\t\t"),s("small",{staticClass:"float-right text-muted font-weight-light mt-updated"},[t._v("updated "+t._s(t._f("ago")(t.parcel.updated)))])]),t._v(" "),s("div",{staticClass:"field-row py-2 px-2 mb-1 clearfix"},[s("label",{staticClass:"mb-0 font-weight-normal button-label"},[t._v("AutoCAD DXF")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[!1===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("dxf")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Sample")]):t._e(),t._v(" "),!0===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("dxf")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Download")]):t._e()])]),t._v(" "),s("div",{staticClass:"field-row py-2 px-2 mb-1 clearfix"},[s("label",{staticClass:"mb-0 font-weight-normal button-label"},[t._v("Google Earth KML")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[!1===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("kml")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Sample")]):t._e(),t._v(" "),!0===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("kml")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Download")]):t._e()])])]),t._v(" "),s("div",{staticClass:"mb-3"},[s("h5",{staticClass:"mb-2"},[t._v("\n\t\t\tPARCEL DATA\n\t\t\t"),s("small",{staticClass:"float-right text-muted font-weight-light mt-updated"},[t._v("updated "+t._s(t._f("ago")(t.parcel.updated)))])]),t._v(" "),s("div",{staticClass:"field-row py-2 px-2 mb-1 clearfix"},[s("label",{staticClass:"mb-0 font-weight-normal button-label"},[t._v("Excel CSV")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[!1===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("csv")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Sample")]):t._e(),t._v(" "),!0===t.parcel.unlocked?s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.download("csv")}}},[s("i",{staticClass:"material-icons md-12"},[t._v("file_download")]),t._v(" Download")]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back-btn"},[e("i",{staticClass:"material-icons md-18"},[this._v("keyboard_arrow_left")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-label"},[e("i",{staticClass:"material-icons md-18"},[this._v("cloud_download")]),this._v(" DOWNLOADS (4)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-icon-box"},[e("i",{staticClass:"material-icons md-36"},[this._v("lock")])])}]};var la=s("VU/8")(na,oa,!1,function(t){s("QJ78")},null,null).exports,ca={name:"parcelSave",props:{addressId:{type:Number},parcel:{type:Object}},computed:{collections:function(){return this.$store.state.collections.recs},token:function(){return this.$store.state.agent.token}},created:function(){this.get()},data:function(){return{addCollectionName:"",copied:!1,loadError:null,loading:!0,loadingCollections:[],mode:null}},methods:{addCollection:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,t.next=5,this.$store.dispatch("COLLECTION_ADD",{name:this.addCollectionName});case 5:return e=t.sent,t.next=8,this.saveParcelToCollection(e.id);case 8:this.addCollectionName="",this.mode=null,this.loading=!1,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),this.loadError=t.t0;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}(),copyLink:function(){var t=this;this.$copyText(this.link).then(function(e){t.copied=!0,setTimeout(function(){t.copied=!1},800)},function(e){t.$store.dispatch("ERROR_MESSAGE_SET",{message:"Error copying to clipboard"}),t.copied=!1})},close:function(){this.$emit("close")},get:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,t.next=5,this.$store.dispatch("COLLECTIONS_GET");case 5:this.loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.loadError=t.t0;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),isSavedInCollection:function(t){if(!this.parcel.collections)return!1;for(var e=0,s=this.parcel.collections.length;e<s;e++)if(this.parcel.collections[e].id===t.id)return!0;return!1},isSavedLoading:function(t){return!!this.loadingCollections.includes(t.id)},hideAddForm:function(){this.mode=null},routeLogin:function(){this.$router.push({name:"auth"})},toggleParcelToCollection:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isSavedLoading(e)||this.loadingCollections.push(e.id),!this.isSavedInCollection(e)){t.next=7;break}return t.next=4,this.removeParcelFromCollection(e.id);case 4:this.loadingCollections=this.loadingCollections.filter(function(t){return t!==e.id}),t.next=10;break;case 7:return t.next=9,this.saveParcelToCollection(e.id);case 9:this.loadingCollections=this.loadingCollections.filter(function(t){return t!==e.id});case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),removeParcelFromCollection:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,t.next=5,this.$store.dispatch("COLLECTION_PARCEL_REMOVE",{addressId:this.addressId,parcelId:this.parcel.id,collectionId:e});case 5:this.loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.loadError=t.t0;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),saveParcelToCollection:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,t.next=5,this.$store.dispatch("COLLECTION_PARCEL_ADD",{addressId:this.addressId,parcelId:this.parcel.id,collectionId:e});case 5:this.loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.loadError=t.t0;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),saveParcelToFavorites:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadError=null,this.loading=!0,t.next=5,this.$store.dispatch("COLLECTION_ADD",{name:""});case 5:return e=t.sent,t.next=8,this.saveParcelToCollection(e.id);case 8:this.addCollectionName="Favorites",this.mode=null,this.loading=!1,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),this.loadError=t.t0;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}(),showAddForm:function(){this.mode="add"}}},ua={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"close-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"close"}},[t._v("close")])]),t._v(" "),s("div",{staticClass:"title"},[t._v("SAVE PARCEL TO")]),t._v(" "),null===t.token?s("div",{staticClass:"lock-block lock-block-sharp",on:{click:t.routeLogin}},[t._m(0),t._v(" "),t._m(1)]):s("ul",{staticClass:"list"},[t._l(t.collections,function(e,a){return t.collections?s("li",{key:e.id,staticClass:"interactive",on:{click:function(s){t.toggleParcelToCollection(e)}}},[t.isSavedLoading(e)?s("span",{staticClass:"loader"}):t.isSavedInCollection(e)?s("i",{staticClass:"material-icons md-18"},[t._v("bookmark")]):s("i",{staticClass:"material-icons md-18"},[t._v("bookmark_border")]),t._v(" "),s("span",[t._v(t._s(e.name))])]):s("li",{staticClass:"interactive"},[s("i",{staticClass:"material-icons md-18"},[t._v("bookmark_border")]),t._v(" "),s("span",[t._v("Favorites")])])}),t._v(" "),"add"===t.mode?s("li",{staticClass:"position-relative"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.addCollection(e)}}},[s("i",{staticClass:"material-icons md-18 cursor-pointer",on:{click:t.hideAddForm}},[t._v("close")]),t._v(" "),s("div",{staticClass:"popup-row-form input-group"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.addCollectionName,expression:"addCollectionName",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"New collection name"},domProps:{value:t.addCollectionName},on:{input:function(e){e.target.composing||(t.addCollectionName=e.target.value)}}}),t._v(" "),t._m(2)])])]):s("li",{staticClass:"interactive",on:{click:t.showAddForm}},[s("i",{staticClass:"material-icons md-18"},[t._v("add")]),t._v(" "),s("span",[t._v("Add Collection")])])],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-icon-box"},[e("i",{staticClass:"material-icons md-36"},[this._v("account_box")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-text"},[e("h5",{staticClass:"mb-0 text-white"},[this._v("Sign in to save to collections")]),this._v(" "),e("h5",{staticClass:"mb-0 font-weight-light text-light"},[this._v("Store this parcel in an organized list")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-dark btn-sm",attrs:{type:"submit"}},[this._v("Save")])])}]};var da={name:"parcel",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentModal:Je,contentTitle:Xt,share:Hs,overview:qs,zoning:Xs,overlays:sa,parcelSave:s("VU/8")(ca,ua,!1,function(t){s("XERY")},null,null).exports,permits:ra,exports:la},computed:{isSaved:function(){return this.parcel.collections&&this.parcel.collections.length>0},parcel:function(){return this.$store.state.parcel.rec},parcelTitle:function(){return this.parcel?this.$options.filters.address(this.parcel):""},parcelSub:function(){if(!this.parcel)return"";var t="",e=this.parcel;return e.address&&(null!==e.address.jurisdiction&&(t+=e.address.jurisdiction+", "),null!==e.address.state&&(t+=e.address.state+" "),null!==e.address.postal&&(t+=e.address.postal)),t},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},location:function(){return window.location.href},zoomToDone:function(){return this.$store.state.map.fitBoundsDone}},created:function(){this.$route.params.tab&&(this.$data.tabActive=this.$route.params.tab),this.$route.query.addressId&&(this.$data.addressId=Number(this.$route.query.addressId)),this.getRec()},data:function(){return{addressId:null,loadError:null,parcelLoaded:!1,tabActive:"overview",shareShown:!1,isMounted:!1,tabsOverWidth:!1,tabRightScroll:null,mode:null}},destroyed:function(){this.$store.dispatch("PARCEL_HIGHLIGHT_CLEAR",{}),this.$store.dispatch("PARCEL_MARKER_CLEAR")},methods:{collect:function(){this.$store.dispatch("PARCEL_COLLECT",{id:this.$route.params.id})},getRec:function(){var t=this;this.loadError=null,this.$store.dispatch("PARCEL_GET",{id:this.$route.params.id,addressId:this.$data.addressId}).catch(function(e){t.loadError=e})},routeClose:function(){this.$router.push({name:"home",params:{}})},showTab:function(t){this.shareShown=!1,this.$router.push({name:"parcels-tab",params:{id:this.parcel.id,tab:t},query:{addressId:this.$data.addressId}})},unlock:function(){this.$router.push({name:"unlock-parcel",params:{parcelId:this.parcel.id},query:{addressId:this.$data.addressId}})},highlight:function(){this.$store.dispatch("PARCEL_HIGHLIGHT",{})},zoomTo:function(){this.$store.dispatch("PARCEL_ZOOM_TO",{})},checkInside:function(){var t=this.parcel.bounds.bbox,e=this.mapBounds;return!(this.mapZoom>19||this.mapZoom<=16)&&!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkReady:function(){this.parcel&&this.parcelLoaded&&this.mapLoaded&&this.isMounted&&this.ready()},ready:function(){this.checkInside()?this.highlight():this.zoomTo(),this.updateTitleTag()},updateTitleTag:function(){document.title=this.parcelTitle+" - Scoutred Maps"},setMode:function(t){this.mode=t},share:function(){this.shareShown?this.shareShown=!1:navigator.share?navigator.share({title:this.parcelTitle+" - Scoutred Maps",text:"Parcel data including zoning and owner's information for "+this.parcelTitle,url:window.location.href}):this.shareShown=!0}},mounted:function(){this.isMounted=!0,this.checkReady()},watch:{$route:function(t,e){if(this.parcel&&(Number(t.params.id)!==this.parcel.id||t.query.addressId&&Number(t.query.addressId)!==this.addressId))t.query.addressId&&(this.addressId=Number(t.query.addressId)),this.$data.parcelLoaded=!1,this.$store.dispatch("PARCEL_MARKER_CLEAR"),this.getRec();else if(t.params.map!==e.params.map){if(t.params.map)this.$store.getters.mapZoomGet()<16?this.$store.dispatch("PARCEL_MARKER"):(this.$store.dispatch("PARCEL_HIGHLIGHT"),this.$store.dispatch("PARCEL_MARKER_CLEAR"))}t.params.tab&&this.$data.tabActive!==t.params.tab&&(this.$data.tabActive=t.params.tab,t.params.tab&&this.$store.dispatch("SCROLL_CONTENT_TOP")),t.params.tab||this.$data.tabActive===t.params.tab||(this.$data.tabActive="overview",t.params.tab&&this.$store.dispatch("SCROLL_CONTENT_TOP"))},parcel:function(t,e){t&&(this.$data.parcelLoaded=!0,this.checkReady())},mapLoaded:function(){this.checkReady()},zoomToDone:function(){this.highlight()}}},pa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{mainId:"parcel",loading:!t.parcelLoaded}},[t.parcel?s("contentTitle",{attrs:{label:"PARCEL"}},[s("h2",{staticClass:"text-white font-weight-light mb-0"},[t._v(t._s(t._f("address")(t.parcel)))]),t._v(" "),s("div",{staticClass:"text-light font-weight-light pb-2"},[t._v(t._s(t.parcelSub))])]):t._e(),t._v(" "),null!==t.mode?s("contentModal",["save"===t.mode?s("parcelSave",{attrs:{addressId:t.addressId,parcel:t.parcel},on:{close:function(e){t.setMode(null)}}}):t._e(),t._v(" "),"share"===t.mode?s("share",{attrs:{link:t.location},on:{close:function(e){t.setMode(null)}}}):t._e()],1):t._e(),t._v(" "),t.parcel?s("contentBody",[s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:!0===t.shareShown},on:{click:function(e){t.setMode("share")}}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("share")]),t._v(" \n\t\t\t\tShare\n\t\t\t")]),t._v(" "),!0===t.parcel.unlocked?s("button",{staticClass:"btn btn-outline-light btn-sm",attrs:{title:"parcel unlocked"}},[s("i",{staticClass:"material-icons md-18"},[t._v("lock_open")]),t._v(" \n\t\t\t\tUnlocked\n\t\t\t")]):t._e(),t._v(" "),!1===t.parcel.unlocked?s("button",{staticClass:"btn btn-outline-light btn-sm",attrs:{title:"unlock parcel"},on:{click:t.unlock}},[s("i",{staticClass:"material-icons md-18"},[t._v("lock")]),t._v(" \n\t\t\t\tUnlock\n\t\t\t")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",attrs:{title:"center map on parcel"},on:{click:t.zoomTo}},[s("i",{staticClass:"material-icons md-18"},[t._v("place")]),t._v(" \n\t\t\t\tCenter\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",attrs:{title:"save this parcel to a collection"},on:{click:function(e){t.setMode("save")}}},[t.isSaved?s("i",{staticClass:"material-icons md-18"},[t._v("bookmark")]):s("i",{staticClass:"material-icons md-18"},[t._v("bookmark_border")]),t._v(" \n\t\t\t\tSave\n\t\t\t")])]),t._v(" "),s("div",{staticClass:"p-3"},["overview"==t.tabActive?s("overview",{attrs:{parcel:t.parcel}}):"zoning"==t.tabActive?s("zoning",{attrs:{parcel:t.parcel}}):"permits"==t.tabActive?s("permits",{attrs:{parcel:t.parcel}}):"exports"==t.tabActive?s("exports",{attrs:{parcel:t.parcel}}):t.tabActive?s("overlays",{attrs:{parcel:t.parcel,category:t.tabActive}}):t._e()],1)],1):t._e()],1)},staticRenderFns:[]};var va=s("VU/8")(da,pa,!1,function(t){s("Qaf8")},null,null).exports,ha={name:"search-permit",data:function(){return{hasResults:!1,placeholder:"Search permits by keyword",initSearch:!1,boundsLoaded:!1,boundsPrev:null,searchTermPrev:null}},components:{searchInput:ke},computed:{searchTerm:function(){return this.$store.state.search.term},searchType:function(){return this.$store.state.search.type},results:function(){return this.$store.state.search.results},bounds:function(){return this.$store.state.map.bounds},mapLoaded:function(){return this.$store.state.map.loaded},deviceType:function(){return this.$store.state.device.type}},created:function(){this.$router.currentRoute.params.search&&this.$router.currentRoute.params.search.length>0?this.$store.dispatch("SEARCH_TERM_SET",{term:this.$router.currentRoute.params.search}):this.checkReady()},mounted:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){this.$store.dispatch("SEARCH_TERM_SET",{term:""})},destroyed:function(){window.removeEventListener("resize",this.handleResize),this.searchTermPrev=null,this.boundsPrev=null},methods:{getMainClass:function(){return"mobile"===this.deviceType?"":"col-md-6 col-lg-5 col-xl-4 px-2"},checkSearch:function(){this.searchTermPrev===this.searchTerm&&this.boundsPrev===this.bounds&&this.results&&"permit"===this.searchType?this.results&&this.resultsPoi():(this.searchTermPrev=this.searchTerm,this.boundsPrev=this.bounds,this.search())},checkReady:function(){this.mapLoaded&&this.bounds&&this.checkSearch()},search:function(){var t=this,e=null;this.bounds&&(e=[this.bounds._sw.lat,this.bounds._sw.lng,this.bounds._ne.lat,this.bounds._ne.lng].join(",")),this.$store.dispatch("SEARCH",{query:this.searchTerm,type:"permit",bbox:e,doEmptySearch:!0}).then(function(e){var s=[];e.permits.map(function(t){var e=!1;s.map(function(s,a){s.parcelId===t.parcelId&&(e=!0,s.number++)}),e||(t.number=1,s.push(t))}),t.$store.dispatch("SEARCH_RESULTS_SET",{results:e.permits}),t.resultsPoi(s)}).catch(function(t){console.error(t)})},handleResize:function(){if(this.$refs.view)if("mobile"!==this.deviceType){var t=this.$refs.view.offsetWidth+60;this.$store.dispatch("MAP_LEFT_MARGIN_SET",{leftMargin:t})}else this.$store.dispatch("MAP_LEFT_MARGIN_SET",{leftMargin:0})},resultsPoi:function(){if(this.mapLoaded&&this.results){var t=[];this.results.map(function(e){var s=e.number+" permit"+(e.number>1?"s":"");e.parcelId?(e.parcelId,e.typeRaw):e.typeRaw;var a={properties:{description:s,permitId:e.id,parcelId:e.parcelId,resource_id:e.id,route:{name:"permit",params:{id:e.id}}},geometry:e.geom};t.push(a)}),this.$store.dispatch("MAP_POI_SET",t)}}},watch:{$route:function(t,e){t.params.search&&t.params.search!==this.searchTerm?this.$store.dispatch("SEARCH_TERM_SET",{term:t.params.search}):this.checkReady()},bounds:function(t,e){this.checkReady()},searchTerm:function(t,e){if(this.$router.currentRoute.params.search!==t&&t.length>0){var s={name:"permitsSearch",params:{search:t}};this.$router.replace(s)}else if(this.$router.currentRoute.params.search===t)this.checkReady();else{this.$router.replace({name:"permits",params:{}})}},mapLoaded:function(){this.checkReady()}}},ma={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"view",class:this.getMainClass(),attrs:{id:"search-permit"}},[e("searchInput",{attrs:{placeholder:this.placeholder,results:this.results,hasResults:this.hasResults}})],1)},staticRenderFns:[]};var _a={name:"permits",components:{searchPermit:s("VU/8")(ha,ma,!1,function(t){s("prsL")},null,null).exports,leftnav:Me}},fa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex align-items-stretch h-100 flex-2"},[e("leftnav"),this._v(" "),e("router-view"),this._v(" "),e("searchPermit")],1)},staticRenderFns:[]},Ca=s("VU/8")(_a,fa,!1,null,null,null).exports,ya={name:"permit",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,share:os},computed:{token:function(){return this.$store.state.agent.token},permit:function(){return this.$store.state.permit.rec},parcel:function(){return this.$store.state.parcel.rec},parcelSub:function(){var t="",e=this.parcel;return e.address&&(null!==e.address.jurisdiction&&(t+=e.address.jurisdiction+", "),null!==e.address.state&&(t+=e.address.state+" "),null!==e.address.postal&&(t+=e.address.postal)),t},mapLoaded:function(){return this.$store.state.map.loaded},searchTerm:function(){return this.$store.state.search.term},location:function(){return window.location.href}},data:function(){return{permitsOther:null,permitLoaded:!1,parcelLoaded:!1,shareShown:!1,loadError:null}},created:function(){this.getRec()},destroyed:function(){this.$store.dispatch("MAP_POI_ACTIVE_SET",null)},methods:{request:function(){this.getRec()},getRec:function(){var t=this;this.permitLoaded=!1,this.parcelLoaded=!1,this.loadError=null,this.$store.dispatch("PERMIT_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},routeClose:function(){this.searchTerm?this.$router.push({name:"permitsSearch",params:{search:this.searchTerm}}):this.$router.push({name:"permits",params:{}})},zoomTo:function(){this.$store.dispatch("PERMIT_ZOOM_TO",{permit:this.permit})},parcelGo:function(t,e){var s={name:"parcels",params:{id:e}};return this.$router.push(s),t.stopPropagation(),!1},parcelURL:function(t){return!!t&&"/parcels/"+t},formatAPN:function(t){if(!t||t&&0==t.length)return"N/A";if(10!=t.length)return t;var e=[];return e[0]=t.substr(0,3),e[1]=t.substr(3,3),e[2]=t.substr(6,2),e[3]=t.substr(8,2),e.join("-")},getRecsOther:function(){var t=this,e=this.permit.apn?this.permit.apn:this.permit.projectId;this.$store.dispatch("SEARCH",{query:e,type:"permit",doEmptySearch:!0}).then(function(e){var s=e.permits.filter(function(e){return e.id!==t.permit.id});t.$data.permitsOther=s}).catch(function(t){console.error(t)})},getStatus:function(t){return this.validDate(t.completedDate)?"Completed":this.validDate(t.issuedDate)?"Issued":this.validDate(t.appliedDate)?"Applied":void 0},getStatusLast:function(t){return this.validDate(t.completedDate)?t.completedDate:this.validDate(t.issuedDate)?t.issuedDate:this.validDate(t.appliedDate)?t.appliedDate:void 0},getStatusDate:function(t){return this.formatDate(this.getStatusLast(t))},getStatusIsNew:function(t){return this.isNew(this.getStatusLast(t))},validDate:function(t){try{return 1!=new Date(t).getUTCFullYear()}catch(t){return!1}},formatDate:function(t){if(!t)return"";var e=new Date(t);return 1==e.getUTCFullYear()?"":e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear()},isNew:function(t){if(!t)return"";var e=new Date(t);return new Date-e<7776e6},jurisdictionPermitURL:function(t){return"https://opendsd.sandiego.gov/Web/Approvals/Details/"+t},poiSet:function(){if(this.permit){var t={id:this.permit.id,properties:{permitId:this.permit.id,parcelId:this.permit.parcelId,resource_id:this.permit.id},geometry:{type:"Point",coordinates:this.permit.geom.coordinates}};this.$store.dispatch("MAP_POI_ACTIVE_SET",t)}},permitClick:function(t,e){var s={name:"permit",params:{id:e.id}};this.$router.push(s)},updateTitleTag:function(){document.title=this.permit.typeRaw+" - Scoutred Maps"},share:function(){this.shareShown?this.shareShown=!1:navigator.share?navigator.share({title:this.permit.typeRaw+" - Scoutred Maps",text:"Permit data for "+this.permit.typeRaw+" on parcel "+this.parcelTitle,url:window.location.href}):this.shareShown=!0},descriptionShort:function(t){if(t&&t.length>150)return t.substr(0,150)+"..."}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&(this.$store.dispatch("SCROLL_CONTENT_TOP"),this.getRec())},permit:function(t){t&&(t.parcelId&&this.$store.dispatch("PARCEL_GET",{id:t.parcelId}),this.getRecsOther(),this.$data.permitLoaded=!0,this.mapLoaded&&this.poiSet(),this.updateTitleTag())},parcel:function(t){t&&(this.$data.parcelLoaded=!0)},mapLoaded:function(){this.permit&&this.poiSet()}}},ba={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:!t.permitLoaded,mainId:"permit"}},[t.permit?s("contentTitle",{attrs:{label:"PERMIT",close:t.routeClose}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.permit.typeRaw))])]):t._e(),t._v(" "),t.permit?s("contentBody",[t.permit?s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:!0===t.shareShown},on:{click:t.share}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("share")]),t._v(" \n\t\t\t\tShare\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.zoomTo}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("place")]),t._v(" \n\t\t\t\tCenter\n\t\t\t")])]):t._e(),t._v(" "),t.shareShown?s("share",{attrs:{link:t.location},on:{close:t.share}}):t._e(),t._v(" "),s("div",{staticClass:"p-3"},[s("div",{staticClass:"category-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DETAILS")]),t._v(" "),null!==t.permit.projectName?s("div",{staticClass:"property-row"},[s("label",[t._v("Project name")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.permit.projectName)+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==t.permit.projectId?s("div",{staticClass:"property-row"},[s("label",[t._v("Project ID")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.permit.projectId)+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),t.permit.contractor&&null!==t.permit.contractor.companyName?s("div",{staticClass:"property-row"},[s("label",[t._v("Contractor")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.permit.contractor.companyName)+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),t.validDate(t.permit.appliedDate)?s("div",{staticClass:"property-row"},[s("label",[t._v("Applied")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("longDate")(t.permit.appliedDate))+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),t.validDate(t.permit.issuedDate)?s("div",{staticClass:"property-row"},[s("label",[t._v("Issued")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("longDate")(t.permit.issuedDate))+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),t.validDate(t.permit.completedDate)?s("div",{staticClass:"property-row"},[s("label",[t._v("Completed")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("longDate")(t.permit.completedDate))+"\n\t\t\t\t\t\t")])]):t._e()]),t._v(" "),null!==t.permit.description?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.permit.description))])])]):t._e(),t._v(" "),t.permit.jurisdictionPermitId?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("REFERENCES")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",{staticClass:"mb-0 font-weight-light"},[t._v("Source")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{attrs:{target:"_blank",href:t.jurisdictionPermitURL(this.permit.jurisdictionPermitId)}},[t._v("\n\t\t\t\t\t\t\t\t#"+t._s(this.permit.jurisdictionPermitId)+"\n\t\t\t\t\t\t\t"),s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")])])])])]):t._e(),t._v(" "),t.parcel&&t.parcelLoaded?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("PARCEL")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Address")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("address")(t.parcel))+"\n\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"property-row pt-0"},[s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.parcelSub)+"\n\t\t\t\t\t\t")])]),t._v(" "),null!==t.permit.apn?s("div",{staticClass:"property-row"},[s("label",[t._v("APN")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{attrs:{href:"javascript:"},on:{click:function(e){t.parcelGo(e,t.permit.parcelId)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.formatAPN(t.permit.apn))+"\n\t\t\t\t\t\t\t")])])]):t._e()]):t._e()])]),t._v(" "),s("div",[t.permitsOther&&t.permitsOther.length>0?s("div",{staticClass:"bg-light p-2 pb-3"},[s("div",{staticClass:"pt-1 mx-2 pb-2 font-weight-bold font-12 text-light-gray"},[t._v("OTHER PERMITS FROM THIS PARCEL ("+t._s(t.permitsOther.length)+")")]),t._v(" "),t._l(t.permitsOther,function(e,a){return s("div",{staticClass:"card mb-2 p-2 pb-3",on:{click:function(s){t.permitClick(s,e)}}},[s("div",{staticClass:"category-title text-uppercase"},[t._v("\n\t\t\t\t\t\t"+t._s(e.typeRaw)+" \n\t\t\t\t\t\t"),t.getStatusIsNew(e)?s("sup",{staticClass:"text-red"},[t._v("New")]):t._e(),t._v(" "),s("span",{staticClass:"float-right"},[s("a",{attrs:{href:t.jurisdictionPermitURL(e.jurisdictionPermitId),target:"_blank"}},[t._v("\n\t\t\t\t\t\t\t\t#"+t._s(e.jurisdictionPermitId)+"\n\t\t\t\t\t\t\t\t"),s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")])])])]),t._v(" "),s("div",{staticClass:"pt-2"},[null!==e.apn?s("div",{staticClass:"property-row"},[s("label",[t._v("Parcel APN")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("a",{attrs:{href:"javascript:"},on:{click:function(s){t.parcelGo(s,e.parcelId)}}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.formatAPN(e.apn))+"\n\t\t\t\t\t\t\t\t")])])]):t._e(),t._v(" "),null!==e.projectName?s("div",{staticClass:"property-row"},[s("label",[t._v("Project name")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.projectName)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.projectId?s("div",{staticClass:"property-row"},[s("label",[t._v("Project ID")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.projectId)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.contractor&&null!==e.contractor.companyName?s("div",{staticClass:"property-row"},[s("label",[t._v("Contractor")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.contractor.companyName)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Status")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.getStatus(e))+" on "+t._s(t.getStatusDate(e)))])]),t._v(" "),null!==e.description?s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.descriptionShort(e.description)))])]):t._e()])])})],2):t._e()])],1):t._e()],1)},staticRenderFns:[]};var Ea=s("VU/8")(ya,ba,!1,function(t){s("+t0W")},null,null).exports,wa={name:"permit-list",components:{contentBox:Ht,contentBody:qt,contentTitle:Xt},data:function(){return{tabActive:"overview",permitHighlight:null}},destroyed:function(){this.$store.dispatch("MAP_POI_HOVER_SET",null)},computed:{permits:function(){return this.$store.state.search.results},searchType:function(){return this.$store.state.search.type},poiHighlight:function(){return this.$store.state.map.poiHighlight},poiClick:function(){return this.$store.state.map.poiClick},mapLoaded:function(){return this.$store.state.map.loaded}},methods:{jurisdictionPermitURL:function(t){return"https://opendsd.sandiego.gov/Web/Approvals/Details/"+t},parcelURL:function(t){return!!t&&"/parcels/"+t},parcelGo:function(t,e){var s={name:"parcels",params:{id:e}};return this.$router.push(s),t.stopPropagation(),!1},formatAPN:function(t){if(!t||t&&0==t.length)return"N/A";if(10!=t.length)return t;var e=[];return e[0]=t.substr(0,3),e[1]=t.substr(3,3),e[2]=t.substr(6,2),e[3]=t.substr(8,2),e.join("-")},formatDate:function(t){if(!t)return"";var e=new Date(t);return 1==e.getUTCFullYear()?"":e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear()},validDate:function(t){try{return 1!=new Date(t).getUTCFullYear()}catch(t){return!1}},isNew:function(t){if(!t)return"";var e=new Date(t);return new Date-e<7776e6},mouseenter:function(t,e){e.parcelId?(e.parcelId,e.typeRaw):e.typeRaw;var s={properties:{permitId:e.id,parcelId:e.parcelId,resource_id:e.id,route:{name:"permit",params:{id:e.id}}},geometry:{type:"Point",coordinates:[e.geom.lon,e.geom.lat]}};this.$store.dispatch("MAP_POI_HOVER_SET",[s])},click:function(t,e){var s={name:"permit",params:{id:e.id}};this.$router.push(s)},mouseleave:function(t,e){this.$store.dispatch("MAP_POI_HOVER_SET",null)},getStatus:function(t){return this.validDate(t.completedDate)?"Completed":this.validDate(t.issuedDate)?"Issued":this.validDate(t.appliedDate)?"Applied":void 0},getStatusLast:function(t){return this.validDate(t.completedDate)?t.completedDate:this.validDate(t.issuedDate)?t.issuedDate:this.validDate(t.appliedDate)?t.appliedDate:void 0},getStatusDate:function(t){return this.formatDate(this.getStatusLast(t))},getStatusIsNew:function(t){return this.isNew(this.getStatusLast(t))},getHighlightClass:function(t){return t.id===this.permitHighlight?"highlight":""},checkReady:function(){this.permits&&this.mapLoaded&&this.ready()},ready:function(){},updateTitleTag:function(){if(!this.permits)return document.title="Permits - Scoutred Maps";document.title=this.permits.length+" permits - Scoutred Maps"},descriptionShort:function(t){if(t&&t.length>150)return t.substr(0,150)+"..."}},watch:{permits:function(){this.checkReady(),this.updateTitleTag()},poiHighlight:function(t){this.$data.permitHighlight=t?t.properties.permitId:null},poiClick:function(t){},mapLoaded:function(){this.checkReady()}}},Sa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.permits&&"permit"===t.searchType?s("contentBox",{attrs:{noScrollFix:!0,mainId:"permits"}},[s("contentTitle",{attrs:{label:t.permits.length+" PERMITS",labelClass:"text-white"}}),t._v(" "),s("contentBody",{attrs:{bg:"rgba(55,71,79,0.6)"}},[s("div",{staticClass:"p-3"},[t.permits.length<1?s("div",{staticClass:"card no-hover mb-2 field-row"},[s("div",{staticClass:"clearfix p-2"},[s("strong",[t._v("No permits found")]),t._v(" "),s("p",{staticClass:"mb-0"},[t._v("Try broadening your search or zooming out in the map")])])]):t._l(t.permits,function(e,a){return s("div",{staticClass:"card mb-2 field-row",class:t.getHighlightClass(e),on:{mouseenter:function(s){t.mouseenter(s,e)},mouseleave:function(s){t.mouseleave(s,e)},click:function(s){t.click(s,e)}}},[s("div",{staticClass:"pt-2 mx-2 pb-1 font-weight-bold border-bottom-gray font-10 text-uppercase"},[t._v("\n\t\t\t\t\t"+t._s(e.typeRaw)+" \n\t\t\t\t\t"),t.getStatusIsNew(e)?s("sup",{staticClass:"text-red"},[t._v("New")]):t._e(),t._v(" "),s("span",{staticClass:"float-right"},[s("a",{attrs:{href:t.jurisdictionPermitURL(e.jurisdictionPermitId),target:"_blank"}},[t._v("\n\t\t\t\t\t\t\t#"+t._s(e.jurisdictionPermitId)+"\n\t\t\t\t\t\t\t"),s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")])])])]),t._v(" "),s("div",{staticClass:"pt-2"},[null!==e.apn?s("div",{staticClass:"clearfix pb-2 px-2"},[s("label",{staticClass:"mb-0 font-weight-light"},[t._v("Parcel APN")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[s("a",{attrs:{href:"javascript:"},on:{click:function(s){t.parcelGo(s,e.parcelId)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.formatAPN(e.apn))+"\n\t\t\t\t\t\t\t")])])]):t._e(),t._v(" "),null!==e.projectName?s("div",{staticClass:"clearfix pb-2 px-2"},[s("label",{staticClass:"mb-0 font-weight-light"},[t._v("Project name")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.projectName)+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.projectId?s("div",{staticClass:"clearfix pb-2 px-2"},[s("label",{staticClass:"mb-0 font-weight-light"},[t._v("Project ID")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.projectId)+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),e.contractor&&null!==e.contractor.companyName?s("div",{staticClass:"clearfix pb-2 px-2"},[s("label",{staticClass:"mb-0 font-weight-light"},[t._v("Contractor")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.contractor.companyName)+"\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),s("div",{staticClass:"clearfix pb-2 px-2"},[s("label",{staticClass:"mb-0 font-weight-light"},[t._v("Status")]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.getStatus(e))+" on "+t._s(t.getStatusDate(e)))])]),t._v(" "),null!==e.description?s("div",{staticClass:"clearfix pb-2 px-2"},[s("div",[t._v("\n\t\t\t\t\t\t\t"+t._s(t.descriptionShort(e.description))+"\n\t\t\t\t\t\t")])]):t._e()])])})],2)])],1):t._e()},staticRenderFns:[]};var Ta=s("VU/8")(wa,Sa,!1,function(t){s("+x+S")},null,null).exports,ka={name:"plan",props:{},components:{contentBox:Ht,contentBody:qt,contentTitle:Xt},computed:{status:function(){return"plan_1"===this.planCurrent.plan.id?"active":new Date(this.planCurrent.created).getTime()+864e5-this.$data.nowTs>0?"active":"expired"},planCurrent:function(){return this.$store.state.plan.current},planExpires:function(){var t=new Date(this.planCurrent.created).getTime();return new Date(t+864e5).toUTCString()},planName:function(){return"plan_2"===this.planCurrent.plan.id?"Day Pass":"plan_1"===this.planCurrent.plan.id?"Studio Subscription":void 0},isDayPass:function(){return"plan_2"===this.planCurrent.plan.id}},methods:{routeClose:function(){this.$router.push({name:"home"})},routeUnlock:function(){this.$router.push({name:"unlock"})}},mounted:function(){var t=this;this.$data.nowTs=(new Date).getTime(),this.interval=setInterval(function(){t.$data.nowTs=(new Date).getTime()},6e4)},data:function(){return{nowTs:0}},destroyed:function(){this.interval&&clearInterval(this.interval)}},Aa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.planCurrent?s("contentBox",[s("contentTitle",{attrs:{label:"PLAN",close:"home"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.planName))])]),t._v(" "),s("contentBody",[s("div",{staticClass:"p-3"},[s("div",{staticClass:"category-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("PLAN DETAILS")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Status")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.status)+"\n\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Purchased")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("longDate")(t.planCurrent.created))+" @"+t._s(t._f("time")(t.planCurrent.created))+"\n\t\t\t\t\t\t")])]),t._v(" "),t.isDayPass?s("div",["active"===t.status?s("div",{staticClass:"property-row"},[s("label",[t._v("Expires")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("longDate")(t.planExpires))+" @"+t._s(t._f("time")(t.planCurrent.created))+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),"expired"===t.status?s("div",{staticClass:"property-row"},[s("label",[t._v("Expired")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("longDate")(t.planExpires))+" @"+t._s(t._f("time")(t.planCurrent.created))+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),"expired"===t.status?s("div",{staticClass:"property-row"},[s("button",{staticClass:"btn btn-green btn-sm float-right",on:{click:t.routeUnlock}},[t._v("RENEW DAY PASS")])]):t._e()]):t._e()])])])])],1):t._e()},staticRenderFns:[]},La=s("VU/8")(ka,Aa,!1,null,null,null).exports,Ia={name:"sewer-main-full",props:{},components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,share:os},computed:{token:function(){return this.$store.state.agent.token},rec:function(){return this.$store.state.sewerMain.rec},easement:function(){return this.rec.easement?"Yes":"No"},installedDate:function(){if(!this.rec.installDate)return"";var t=new Date(this.rec.installDate);return 1==t.getUTCFullYear()?"":t.getUTCMonth()+1+"/"+t.getUTCDate()+"/"+t.getUTCFullYear()},syphon:function(){return this.rec.syphon?"Yes":"No"},title:function(){return this.rec.pipeDiameterInches+'" '+this.rec.pipeType},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},planActive:function(){return this.$store.state.plan.active},location:function(){return window.location.href},zoomToDone:function(){return this.$store.state.map.fitBoundsDone}},created:function(){this.getRec(),this.getPlanActive()},data:function(){return{recLoaded:!1,shareShown:!1,loadError:null}},destroyed:function(){this.$store.dispatch("SEWER_MAIN_HIGHLIGHT_CLEAR",{})},methods:{getRec:function(){var t=this;this.recLoaded=!1,this.loadError=null,this.$store.dispatch("SEWER_MAIN_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},getPlanActive:function(){this.$store.dispatch("PLAN_ACTIVE_CHECK")},routeClose:function(){this.$router.push({name:"home"})},routeUnlock:function(){this.$router.push({name:"unlock"})},highlight:function(){this.$store.dispatch("SEWER_MAIN_HIGHLIGHT",{})},zoomTo:function(){this.$store.dispatch("SEWER_MAIN_ZOOM_TO",{})},checkInside:function(){if(!this.rec.geom||!this.rec.geom.coordinates||this.rec.geom.coordinates.length<1)return!0;var t=this.rec.geom.coordinates[0],e=[t[0][0],t[0][1],t[0][0],t[0][1]];t.map(function(t){t[0]<e[0]?e[0]=t[0]:t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]?e[1]=t[1]:t[1]>e[3]&&(e[3]=t[1])});var s=this.mapBounds;return!(this.mapZoom<=15)&&!(e[1]>s._ne.lat||e[3]<s._sw.lat||e[0]>s._ne.lng||e[2]<s._sw.lng)},checkReady:function(){this.rec&&this.mapLoaded&&this.ready()},ready:function(){this.checkInside()?this.highlight():this.zoomTo(),this.updateTitleTag()},updateTitleTag:function(){document.title="Sewer main "+this.title+" - Scoutred Maps"},share:function(){this.shareShown?this.shareShown=!1:navigator.share?navigator.share({title:"Sewer main "+this.title+" - Scoutred Maps",text:"Sewer main data for "+this.title,url:window.location.href}):this.shareShown=!0}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&(this.getRec(),this.getPlanActive())},rec:function(t){this.checkReady(),t&&(this.recLoaded=!0)},mapLoaded:function(){this.checkReady()},zoomToDone:function(){this.highlight()}}},Ra={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:!t.recLoaded}},[t.rec?s("contentTitle",{attrs:{label:"SEWER MAIN",close:"home"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.rec?s("contentBody",{attrs:{locked:!t.planActive}},[t.rec?s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:!0===t.shareShown},on:{click:t.share}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("share")]),t._v(" \n\t\t\t\tShare\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.zoomTo}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("place")]),t._v(" \n\t\t\t\tCenter\n\t\t\t")])]):t._e(),t._v(" "),t.shareShown?s("share",{attrs:{link:t.location},on:{close:t.share}}):t._e(),t._v(" "),s("div",{staticClass:"p-3"},[t.planActive?t._e():s("div",{staticClass:"lock-block mb-3"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.routeUnlock}},[s("div",{staticClass:"col-2 text-center my-auto"},[s("i",{staticClass:"material-icons text-light mr-3 md-36"},[t._v("lock")])]),t._v(" "),s("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Purchase day pass to unlock")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("Get details on pipe dimensions, drawing references, and responsible parties")])])])]),t._v(" "),s("div",{staticClass:"category-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("PIPE DETAILS")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Type")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pipeType?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pipeType)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Diameter")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pipeDiameterInches?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pipeDiameterInches)+" in\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Functional Diameter")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.functionalDiameterInches?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.functionalDiameterInches)+" in\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Length")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.lengthFeet&&0!==t.rec.lengthFeet?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.lengthFeet)+" ft\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Material")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.material?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.material)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Lining Type")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.liningType?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.liningType)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Located in Easement")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.easement?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.easement)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Installed on")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.installDate?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.installedDate)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("RESPONSIBLE PARTIES")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Owner")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.owner?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.owner)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Maintainer")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.maintainer?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.maintainer)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DRAWING")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Number")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.drawingNumber?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.drawingNumber)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Sheet")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.drawingSheet?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.drawingSheet)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Type")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.drawingType?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.drawingType)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("PRESSURE")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Class")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pressureClass?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pressureClass)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("PSI")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pressurePsi?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pressurePsi)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("SYPHON")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Is Syphon")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.syphon?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.syphon)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Low Inverted Elevation")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.syphonLowInvertedElevationFeet&&0!==t.rec.syphonLowInvertedElevationFeet?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.syphonLowInvertedElevationFeet)+" ft\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("UPSTREAM")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Inverted Elevation")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.upstreamInvertedElevationFeet?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.upstreamInvertedElevationFeet)+" ft\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Facility")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.upstreamFacility?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.upstreamFacility)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DOWNSTREAM")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Inverted Elevation")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.downstreamInvertedElevationFeet?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.downstreamInvertedElevationFeet)+" ft\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Facility")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.downstreamFacility?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.downstreamFacility)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("FIELD BOOK")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Page")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.fieldBookPage?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.fieldBookPage)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Grid")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.fieldBookGrid?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.fieldBookGrid)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Upstream Page")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.upstreamFieldBookPageNum?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.upstreamFieldBookPageNum)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Upstream Map")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.upstreamFieldBookPageMap?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.upstreamFieldBookPageMap)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Downstream Page")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.downstreamFieldBookPageNum?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.downstreamFieldBookPageNum)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Downstream Map")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.downstreamFieldBookPageMap?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.downstreamFieldBookPageMap)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),t.planActive?t._e():s("div",{staticClass:"over-action d-flex",on:{click:t.routeUnlock}},[s("div",{staticClass:"over-action-box align-self-center text-white hover-dk"},[s("div",{staticClass:"text-center"},[s("i",{staticClass:"material-icons text-light md-36"},[t._v("lock")])]),t._v(" "),s("div",{staticClass:"text-center"},[t._v("\n\t\t\t\t\t\t\tUnlock to view\n\t\t\t\t\t\t")])])])])])],1):t._e()],1)},staticRenderFns:[]},xa=s("VU/8")(Ia,Ra,!1,null,null,null).exports,Ma={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex",attrs:{id:"loader"}},[e("div",{staticClass:"overlay"}),this._v(" "),e("div",{staticClass:"ball align-self-center"})])}]};var $a=s("VU/8")({name:"loader"},Ma,!1,function(t){s("JljH")},null,null).exports,Na=Stripe(I.stripe.publicKey),Pa={name:"unlock-purchase",computed:{token:function(){return this.$store.state.agent.token},cards:function(){return this.$store.state.stripe&&this.$store.state.stripe.customer&&this.$store.state.stripe.customer.sources?this.$store.state.stripe.customer.sources.data:null}},components:{loader:$a},props:{plan:{type:Object},parcel:{type:Object},addressId:{}},data:function(){return{email:null,password:null,card:null,loading:!0,error:null,stripeToken:null,cardToken:null,complete:!1,cardOption:null,cardRemove:null,cardFormBound:!1,cardsLoaded:!1}},mounted:function(){var t=this;this.$store.dispatch("AGENT_CUSTOMER_GET",{}).then(function(e){t.$data.cardsLoaded=!0,t.$data.loading=!1,t.cards&&t.cards.length>0&&(t.$data.cardOption=t.cards[0].id)}).catch(function(t){})},updated:function(){"add"===this.$data.cardOption||null===this.$data.cardOption?this.bindCardForm():null!==this.$data.cardOption&&(this.$data.cardFormBound=!1)},methods:{bindCardForm:function(){if(!this.$data.cardFormBound&&!this.$data.complete){var t=Na.elements();this.$data.card=t.create("card",{style:{base:{fontSize:"16px",color:"#495057",lineHeight:"26px"}}}),this.$data.card.mount(".card-mount"),this.$data.cardFormBound=!0}},formSubmit:function(){if(this.$data.loading=!0,this.clearErrors(),null===this.token){if((null===this.$data.email||this.$data.email.length<1)&&this.formError({email:"enter an email"}),(null===this.$data.password||this.$data.password.length<1)&&this.formError({password:"enter a password"}),null!==this.$data.error)return;return this.auth()}return null!==this.$data.cardToken?this.charge(this.$data.cardToken):null!==this.$data.cardOption&&"add"!==this.$data.cardOption?this.charge(this.$data.cardOption):null===this.$data.cardToken&&null===this.$data.stripeToken?this.cardSubmit():null===this.$data.cardToken&&null!==this.$data.stripeToken?this.getCardToken():void 0},clearErrors:function(t){this.$data.error=null},formError:function(t){for(var e in this.$data.loading=!1,this.$data.error=this.$data.error||{},t)this.$data.error[e]=t[e]},auth:function(){var t=this;this.$store.dispatch("AGENT_LOGIN",{email:this.email,password:this.password}).then(function(){t.formSubmit()}).catch(function(e){e.response&&401===e.response.status?t.$store.dispatch("AGENT_SIGNUP",{email:t.email,password:t.password}).then(function(){t.formSubmit()}).catch(function(e){var s=e.response.data.error;if(-1!==s.indexOf("email"))return t.formError({email:s});t.formError({password:s})}):t.formError({password:"invalid login"})})},getCardToken:function(){var t=this;this.$store.dispatch("STRIPE_CARD_TOKEN_GET",{stripeToken:this.$data.stripeToken}).then(function(e){t.$data.cardToken=e.data.stripeCardId,t.formSubmit()}).catch(function(e){t.$data.stripeToken=null,t.formError({card:"card invalid"})})},charge:function(t){var e=this;"subscription"!==this.plan.type?this.$store.dispatch("STRIPE_CHARGE",{cardToken:t,product:"parcel",resourceType:"parcel",resourceId:this.parcel.id}).then(function(){e.plan.ga&&window.ga("send",M()({hitType:"event"},e.plan.ga)),e.$data.complete=!0,e.$data.loading=!1}).catch(function(t){e.formError({card:"charge error"})}):this.$store.dispatch("STRIPE_SUBSCRIBE",{plan:this.plan.key,cardToken:t}).then(function(){e.plan.ga&&window.ga("send",M()({hitType:"event"},e.plan.ga)),e.$store.dispatch("PLAN_CURRENT").then(function(){e.$data.complete=!0,e.$data.loading=!1}).catch(function(t){e.formError({card:"get plan error"})})}).catch(function(t){e.formError({card:"charge error"})})},cardSubmit:function(){var t=this;null!==this.$data.card&&Na.createToken(this.$data.card).then(function(e){e.error?t.formError({card:e.error.message}):(t.$data.stripeToken=e.token,t.formSubmit())})},routeBack:function(){this.$route.query&&this.$route.query.next?this.$router.push({path:this.$route.query.next}):window.history.length>1?this.$router.go(-1):this.parcel?this.$router.push({name:"parcel",params:{id:this.parcel.id},query:{addressId:this.addressId}}):this.$router.push({name:"home"})},cardRemoveToggle:function(t){this.$data.cardRemove===t?this.$data.cardRemove=null:this.$data.cardRemove=t},cardRemoveConfirmed:function(t){var e=this;this.$data.loading=!0,this.cardOption===t&&(this.cardOption=null),this.$store.dispatch("STRIPE_CARD_REMOVE",{cardId:t}).then(function(s){e.$data.loading=!1,e.$data.cardOption===t&&(e.$data.cardOption=null)}).catch(function(t){e.formError({card:"charge error"})})},selectCard:function(t){this.cardOption=t}}},Oa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"position-relative",attrs:{id:"purchase",novalidate:""}},[t.cardsLoaded?s("div",[t.loading?s("loader"):t._e(),t._v(" "),t.complete?s("div",[s("div",["dayPass"===t.plan.key?s("div",{staticClass:"success mb-0 p-3",attrs:{role:"alert"}},[s("h4",{staticClass:"alert-heading"},[t._v("24 HOUR ACCESS UNLOCKED")]),t._v(" "),s("p",{staticClass:"mb-0"},[t._v("\n\t\t\t\t\t\tThanks for your purchase! You're now ready to access all Scoutred has to offer.\n\t\t\t\t\t")]),t._v(" "),s("p",{staticClass:"mb-0 mt-3"},[s("button",{staticClass:"btn btn-green btn-sm",on:{click:t.routeBack}},[t._v("Back")])])]):t._e(),t._v(" "),"parcelUnlock"===t.plan.key?s("div",{staticClass:"success mb-0 p-3",attrs:{role:"alert"}},[s("h4",{staticClass:"alert-heading"},[t._v("PARCEL UNLOCKED")]),t._v(" "),s("p",{staticClass:"mb-0"},[t._v("\n\t\t\t\t\t\tThanks for your purchase! You're now ready to access all Scoutred has to offer on this parcel.\n\t\t\t\t\t")]),t._v(" "),s("p",{staticClass:"mb-0 mt-3"},[s("button",{staticClass:"btn btn-green btn-sm",on:{click:t.routeBack}},[t._v("Back to Parcel")])])]):t._e(),t._v(" "),"studio"===t.plan.key?s("div",{staticClass:"success mb-0 p-3",attrs:{role:"alert"}},[s("h4",{staticClass:"alert-heading"},[t._v("ALL PARCELS UNLOCKED")]),t._v(" "),s("p",{staticClass:"mb-0"},[t._v("\n\t\t\t\t\t\tThanks for your purchase! You're now ready to explore all Scoutred has to offer.\n\t\t\t\t\t")]),t._v(" "),s("p",{staticClass:"mb-0 mt-3"},[s("button",{staticClass:"btn btn-green btn-sm",on:{click:t.routeBack}},[t._v("Back to Parcel")])])]):t._e()])]):t._e(),t._v(" "),t.complete?t._e():s("form",{on:{submit:function(e){return e.preventDefault(),t.formSubmit(e)}}},[null===t.token?s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 pr-1"},[s("div",{staticClass:"form-group mb-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.error&&t.error.email},attrs:{type:"email",id:"loginEmail",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.error&&t.error.email)+"\n\t\t\t\t\t    ")])])]),t._v(" "),s("div",{staticClass:"col-6 pl-1"},[s("div",{staticClass:"form-group mb-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.error&&(t.error.password||t.error.email)},attrs:{type:"password",id:"loginPassword",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.error&&t.error.password)+"\n\t\t\t\t\t\t\t\t"),t.error&&t.error.email?s("a",{attrs:{href:"/users/forgot-password"}},[t._v("forget your password?")]):t._e()])])])])]):t._e(),t._v(" "),t.cards&&t.cards.length>0?s("div",{},[t._l(t.cards,function(e,a){return s("div",{staticClass:"px-2 py-2 mb-2 bg-light select-card",on:{click:function(s){t.selectCard(e.id)}}},[s("div",{staticClass:"form-group mb-0 position-relative"},[e.id===t.cardOption?s("i",{staticClass:"material-icons radio-btn"},[t._v("radio_button_checked")]):s("i",{staticClass:"material-icons radio-btn"},[t._v("radio_button_unchecked")]),t._v(" "),s("i",{staticClass:"material-icons md-18 card-icon"},[t._v("credit_card")]),t._v(" "),s("label",{staticClass:"text-16 mb-0"},[t._v("*"+t._s(e.last4))]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("EXP "+t._s(e.exp_month)+"/"+t._s(t._f("yearShort")(e.exp_year)))]),t._v(" "),s("i",{staticClass:"material-icons md-18 icon-gray close-icon",on:{click:function(s){t.cardRemoveToggle(e.id)}}},[t._v("close")]),t._v(" "),t.cardRemove===e.id?s("a",{staticClass:"btn btn-danger btn-sm remove-btn",attrs:{href:"javascript:"},on:{click:function(s){t.cardRemoveConfirmed(e.id)}}},[t._v("REMOVE")]):t._e()])])}),t._v(" "),s("div",{staticClass:"px-2 py-2 bg-light select-card",on:{click:function(e){t.selectCard("add")}}},[s("div",{staticClass:"form-group mb-0"},["add"===t.cardOption?s("i",{staticClass:"material-icons radio-btn"},[t._v("radio_button_checked")]):s("i",{staticClass:"material-icons radio-btn"},[t._v("radio_button_unchecked")]),t._v(" "),s("i",{staticClass:"material-icons md-18 card-icon"},[t._v("add_box")]),t._v(" "),s("label",{staticClass:"text-16 mb-0"},[t._v("New card")])])])],2):t._e(),t._v(" "),"add"===t.cardOption||!t.cards||t.cards.length<1?s("div",{staticClass:"mt-2"},[s("div",{staticClass:"form-group mb-0"},[s("div",{staticClass:"form-control",class:{"is-invalid":t.error&&t.error.card}},[s("div",{staticClass:"card-mount"})]),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t"+t._s(t.error&&t.error.card)+"\n\t\t\t      ")])])]):t._e(),t._v(" "),t._m(0)])],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-2"},[e("button",{staticClass:"btn btn-lg btn-dark btn-block",attrs:{type:"submit"}},[this._v("PURCHASE")])])}]};var Da={name:"unlock",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,purchase:s("VU/8")(Pa,Oa,!1,function(t){s("GTui")},null,null).exports},props:{},computed:{parcelUnlock:function(){return!!this.$route.params.parcelId},parcel:function(){return this.$store.state.parcel.rec},title:function(){var t="";return this.parcel&&(this.parcel.address&&this.parcel.address.street&&(null!==this.parcel.address.street.number&&(t+=this.parcel.address.street.number+" "),null!==this.parcel.address.street.name&&(t+=this.parcel.address.street.name+" "),null!==this.parcel.address.street.suffix&&(t+=this.parcel.address.street.suffix),null!==this.parcel.address.unit&&(t+=" #"+this.parcel.address.unit)),t.length<1&&(t+=this.parcel.apn)),(t.length<1||"0 "===t)&&(t=this.parcel.apn.replace(/(\d{3})(\d{3})(\d{2})(\d{2})/,"$1-$2-$3-$4")),t},token:function(){return this.$store.state.agent.token},plans:function(){return this.$store.state.plan.plans},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},planActive:function(){return this.$store.state.plan.active},planCurrent:function(){return this.$store.state.plan.current},planStatus:function(){return"plan_1"===this.planCurrent.plan.id?"active":new Date(this.planCurrent.created).getTime()+864e5-(new Date).getTime()>0?"active":"expired"}},created:function(){if(this.$route.query.addressId&&(this.$data.addressId=this.$route.query.addressId),this.planCurrent&&"active"===this.planStatus||this.parcelUnlock&&this.parcel&&this.parcel.unlocked)return this.parcelUnlock&&this.parcel?void this.$router.replace({name:"parcels",params:{id:this.parcel.id},query:{addressId:this.$data.addressId}}):void this.$router.replace({name:"home",params:{}});if(this.$router.currentRoute.query.plan)this.$data.planSelected=this.$router.currentRoute.query.plan;else{if(this.parcelUnlock)return this.getParcelRec(),void(this.$data.planSelected="parcelUnlock");this.isLoaded=!0,this.$data.planSelected="dayPass"}},data:function(){return{email:null,isLoaded:!1,password:null,planSelected:null,card:null,formSubmitted:null,loading:!1,addressId:null}},methods:{getParcelRec:function(){this.$store.dispatch("PARCEL_GET",{id:this.$route.params.parcelId,addressId:this.$data.addressId})},routeBack:function(){this.$router.go(-1)},planSelect:function(t){this.$data.planSelected=t},parcelHighlight:function(){this.$store.dispatch("PARCEL_HIGHLIGHT",{})},parcelZoomTo:function(){this.$store.dispatch("PARCEL_ZOOM_TO",{}),this.$store.dispatch("PARCEL_HIGHLIGHT",{})},parcelCheckInside:function(){var t=this.parcel.bounds.bbox,e=this.mapBounds;return!(this.mapZoom>=18||this.mapZoom<=12)&&!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkReady:function(){this.parcelUnlock&&!this.parcel||this.mapLoaded&&this.ready()},ready:function(){this.parcel&&(this.parcelCheckInside()?this.parcelHighlight():this.parcelZoomTo()),this.isLoaded=!0}},watch:{$route:function(t,e){t.query.addressId&&(this.$data.addressId=t.query.addressId),t.params.parcelId&&t.params.parcelId!=t.params.parcelId&&this.getParcelRec()},parcel:function(){this.checkReady()},mapLoaded:function(){this.checkReady()}}},Fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("contentBox",{attrs:{loading:!t.isLoaded,mainId:"unlock",noMt:!0}},[t.isLoaded?a("contentTitle",{attrs:{label:t.parcelUnlock?"UNLOCK PARCEL":"PURCHASE PLAN",labelClass:t.parcelUnlock?"":"text-white",close:"back",noScroll:!0,noSticky:!0}},[t.parcelUnlock?a("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.title))]):t._e()]):t._e(),t._v(" "),t.isLoaded?a("contentBody",[a("div",{staticClass:"plan-selection sticky-top shadow-dk"},[a("div",{staticClass:"row"},[t.parcelUnlock?a("div",{staticClass:"col plan-option",class:{active:"parcelUnlock"===t.planSelected},on:{click:function(e){t.planSelect("parcelUnlock")}}},[a("p",[t._v("ONE OFF")]),t._v(" "),a("h4",[t._v("$9")])]):t._e(),t._v(" "),a("div",{staticClass:"col plan-option",class:{active:"dayPass"===t.planSelected},on:{click:function(e){t.planSelect("dayPass")}}},[a("p",[t._v("DAY PASS")]),t._v(" "),a("h4",[t._v("$24")])]),t._v(" "),a("div",{staticClass:"col plan-option",class:{active:"studio"===t.planSelected},on:{click:function(e){t.planSelect("studio")}}},[a("p",[t._v("STUDIO")]),t._v(" "),a("h4",[t._v("$99/mo")])])]),t._v(" "),a("div",{staticClass:"plan-selected"},[a("div",{staticClass:"px-3 pt-2 text-left pb-1"},["parcelUnlock"===t.planSelected?a("p",{staticClass:"mb-0"},[t._v("\n\t\t\t\t\t\tAccess data, features and reports on this parcel.\n\t\t\t\t\t")]):t._e(),t._v(" "),"dayPass"===t.planSelected?a("p",{staticClass:"mb-0"},[t._v("\n\t\t\t\t\t\tAccess to all Scoutred data for "),a("strong",[t._v("24 hours")]),t._v(".\n\t\t\t\t\t")]):t._e(),t._v(" "),"studio"===t.planSelected?a("p",{staticClass:"mb-0"},[t._v("\n\t\t\t\t\t\tUnlimited access to all Scoutred data.\n\t\t\t\t\t")]):t._e()]),t._v(" "),a("div",{staticClass:"text-left text-dark px-3 pb-3 bg-white"},[a("purchase",{attrs:{parcel:t.parcel,plan:t.plans[t.planSelected]}})],1)])]),t._v(" "),a("div",{staticClass:"p-3"},[a("h4",{staticClass:"text-center pt-3"},[t._v("SIMPLIFY DUE DILIGENCE")]),t._v(" "),a("p",{staticClass:"mt-0 mb-2"},[t._v("\n\t\t\t\tPurchase a plan above to get access to premium Scoutred data and downloads:\n\t\t\t")]),t._v(" "),a("ul",{staticClass:"mb-2 pl-1"},[a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Owner information")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Permit data")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Zoning and Overlays")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Client-ready PDF download")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" AutoCAD DXF download")])]),t._v(" "),a("h5",{staticClass:"mb-2"},[t._v("DAY AND STUDIO PASSES ONLY")]),t._v(" "),a("ul",{staticClass:"m-0 pl-1"},[a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Access to all parcels")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Water and sewer line data")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Bulk CSV data exports")])])]),t._v(" "),a("div",{staticClass:"px-3 pb-3 pt-0"},[a("h4",{staticClass:"text-center pt-3"},[t._v("ENTERPRISE & GOVERNMENT")]),t._v(" "),a("p",{staticClass:"mt-2 mb-2"},[t._v("\n\t\t\t\tAre you an Enterprise or Government that needs access to:\n\t\t\t")]),t._v(" "),a("ul",{staticClass:"mb-4 pl-1"},[a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Custom queries")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Filtered permit searches and trend analysis")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Scoutred's data via API")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Custom mapping Vector Tiles")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" User management and unified billing")]),t._v(" "),a("li",[a("i",{staticClass:"material-icons md-18 mt-radio"},[t._v("check")]),t._v(" Something else?")])]),t._v(" "),a("p",{staticClass:"mb-0"},[t._v("\n\t\t\t\tWe enjoy tackling large scale geospatial data problems and would love to talk. Give us a call at "),a("a",{attrs:{href:"tel:619-866-4543"}},[t._v("619-866-4543")]),t._v(" or send an email to "),a("a",{attrs:{href:"mailto:hello@scoutred.com"}},[t._v("hello@scoutred.com")]),t._v(".\n\t\t\t")])]),t._v(" "),a("div",{staticClass:"px-3 pb-5"},[a("div",{staticClass:"my-3 border-bottom-gray"},[t._v("â€‚")]),t._v(" "),a("h4",{staticClass:"text-center mt-5"},[t._v("WHAT PEOPLE ARE SAYING")]),t._v(" "),a("blockquote",{staticClass:"blockquote mx-4 mt-5"},[a("div",{staticClass:"mb-3"},[a("img",{staticClass:"rounded-circle mx-auto d-block",staticStyle:{width:"80px",height:"80px"},attrs:{src:s("GOW9")}})]),t._v(" "),a("p",{staticClass:"my-2"},[t._v('"Your database is amazing and saves several steps in the process I usually use to get info about a property. Iâ€™m actually in a state of disbelief at how thorough the information is."')]),t._v(" "),a("footer",{staticClass:"blockquote-footer"},[t._v("Pedro Tavres "),a("cite",{attrs:{title:"Source Title"}},[t._v("R&S Tavares Associates, Inc.")])])]),t._v(" "),a("blockquote",{staticClass:"blockquote mx-3 mt-5"},[a("div",{staticClass:"mb-3"},[a("img",{staticClass:"rounded-circle mx-auto d-block",staticStyle:{width:"80px",height:"80px"},attrs:{src:s("Z2Ye")}})]),t._v(" "),a("p",{staticClass:"my-2"},[t._v('"I love Scoutred. I was searching for parcel numbers and owner mailing addresses, and I was very happy to easily find exactly what I needed."')]),t._v(" "),a("footer",{staticClass:"blockquote-footer"},[t._v("Kimberly Rotter "),a("cite",{attrs:{title:"Source Title"}},[t._v("An Army of Writers")])])]),t._v(" "),a("div",{staticClass:"my-3 border-bottom-gray"},[t._v("â€‚")]),t._v(" "),a("h4",{staticClass:"text-center mt-5"},[t._v("FAQ")]),t._v(" "),a("div",{staticClass:"font-weight-bold mt-4"},[t._v("\n\t\t\t\t\tDoes the monthly subscription require a contract?\n\t\t\t\t")]),t._v(" "),a("p",{staticClass:"mt-2"},[t._v("\n\t\t\t\t\tAbsolutely not. We pride ourselves on making your life easier. If you want to change your plan you can do so anytime from your user preferences.\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\tHow often is the data on Scoutred updated?\n\t\t\t\t")]),t._v(" "),a("p",{staticClass:"mt-2"},[t._v("\n\t\t\t\t\tDifferent data sets update at different intervals. The most dynamic data set is parcel ownership and is updated monthly. The rest of the datasets (i.e. zoning, overlays, etc.) are updated as new versions are released, usually quarterly or annually.\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\tWhat geographic area does Scoutred cover?\n\t\t\t\t")]),t._v(" "),a("p",{staticClass:"mt-2"},[t._v("\n\t\t\t\t\tCurrently Scoutred covers San Diego County and Los Angeles County and the majority of cities within those counties. We're planning on adding additional counties in the near future. Have a county you would like to see added? "),a("a",{attrs:{href:"mailto:hello@scoutred.com?subject=County data request"}},[t._v("Let us know!")])]),t._v(" "),a("div",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\tWhat if I have more questions?\n\t\t\t\t")]),t._v(" "),a("p",{staticClass:"mt-2"},[t._v("\n\t\t\t\t\tWe'd love to have a chat! You can "),a("a",{attrs:{href:"mailto:hello@scoutred.com?subject=I need help with Scoutred"}},[t._v("email us")]),t._v(", anytime with any questions, comments or feedback you have.\n\t\t\t\t")])])]):t._e()],1)},staticRenderFns:[]};var Ua=s("VU/8")(Da,Fa,!1,function(t){s("I1no")},null,null).exports,za={name:"water-main-full",props:{},components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,share:os},computed:{token:function(){return this.$store.state.agent.token},rec:function(){return this.$store.state.waterMain.rec},easement:function(){return this.rec.easement?"Yes":"No"},installedDate:function(){if(!this.rec.installDate)return"";var t=new Date(this.rec.installDate);return 1==t.getUTCFullYear()?"":t.getUTCMonth()+1+"/"+t.getUTCDate()+"/"+t.getUTCFullYear()},title:function(){return this.rec.diameterInches+'" '+this.rec.pipeType},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},planActive:function(){return this.$store.state.plan.active},location:function(){return window.location.href},zoomToDone:function(){return this.$store.state.map.fitBoundsDone}},created:function(){this.getRec(),this.getPlanActive()},data:function(){return{recLoaded:!1,shareShown:!1,loadError:null}},destroyed:function(){this.$store.dispatch("WATER_MAIN_HIGHLIGHT_CLEAR",{})},methods:{getRec:function(){var t=this;this.recLoaded=!1,this.loadError=null,this.$store.dispatch("WATER_MAIN_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},getPlanActive:function(){this.$store.dispatch("PLAN_ACTIVE_CHECK")},routeClose:function(){this.$router.push({name:"home",params:{}})},routeUnlock:function(){this.$router.push({name:"unlock"})},highlight:function(){this.$store.dispatch("WATER_MAIN_HIGHLIGHT",{})},zoomTo:function(){this.$store.dispatch("WATER_MAIN_ZOOM_TO",{})},checkInside:function(){if(!this.rec.geom||!this.rec.geom.coordinates||this.rec.geom.coordinates.length<1)return!0;var t=this.rec.geom.coordinates[0],e=[t[0][0],t[0][1],t[0][0],t[0][1]];t.map(function(t){t[0]<e[0]?e[0]=t[0]:t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]?e[1]=t[1]:t[1]>e[3]&&(e[3]=t[1])});var s=this.mapBounds;return!(this.mapZoom<=15)&&!(e[1]>s._ne.lat||e[3]<s._sw.lat||e[0]>s._ne.lng||e[2]<s._sw.lng)},checkReady:function(){this.rec&&this.mapLoaded&&this.ready()},ready:function(){this.checkInside()?this.highlight():this.zoomTo(),this.updateTitleTag()},updateTitleTag:function(){document.title="Water main "+this.title+" - Scoutred Maps"},share:function(){this.shareShown?this.shareShown=!1:navigator.share?navigator.share({title:"Water main "+this.title+" - Scoutred Maps",text:"Water main data for "+this.title,url:window.location.href}):this.shareShown=!0}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&(this.getRec(),this.getPlanActive())},rec:function(t){this.checkReady(),t&&(this.recLoaded=!0)},mapLoaded:function(){this.checkReady()},zoomToDone:function(){this.highlight()}}},Ga={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:!t.recLoaded}},[t.rec?s("contentTitle",{attrs:{label:"WATER MAIN",close:"home"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.rec?s("contentBody",{attrs:{locked:!t.planActive}},[t.rec?s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:!0===t.shareShown},on:{click:t.share}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("share")]),t._v(" \n\t\t\t\tShare\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.zoomTo}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("place")]),t._v(" \n\t\t\t\tCenter\n\t\t\t")])]):t._e(),t._v(" "),t.shareShown?s("share",{attrs:{link:t.location},on:{close:t.share}}):t._e(),t._v(" "),s("div",{staticClass:"p-3"},[t.planActive?t._e():s("div",{staticClass:"lock-block mb-3"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.routeUnlock}},[s("div",{staticClass:"col-2 text-center my-auto"},[s("i",{staticClass:"material-icons text-light mr-3 md-36"},[t._v("lock")])]),t._v(" "),s("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Purchase day pass to unlock")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("Get details on pipe dimensions, drawing references, and responsible parties")])])])]),t._v(" "),s("div",{staticClass:"category-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("PIPE DETAILS")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Type")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pipeType?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pipeType)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Diameter")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.diameterInches?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.diameterInches)+" in\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Length")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.lengthFeet&&0!==t.rec.lengthFeet?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.lengthFeet)+" ft\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Material")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.material?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.material)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Located in Easement")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t.easement?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.easement)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Installed on")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.installDate?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.installedDate)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("RESPONSIBLE PARTIES")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Owner")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.owner?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.owner)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Maintainer")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.maintainer?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.maintainer)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DRAWING")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Number")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.drawingNumber?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.drawingNumber)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Sheet")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.drawingSheet?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.drawingSheet)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Type")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.drawingType?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.drawingType)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("PRESSURE")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Class")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pressureClass?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pressureClass)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Zone")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pressureZone?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pressureZone)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("PSI")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.pressurePsi?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.pressurePsi)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("FIELD BOOK")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Page")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.fieldBookPage?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.fieldBookPage)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Grid")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[null!==t.rec.fieldBookGrid?s("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.rec.fieldBookGrid)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])])])]),t._v(" "),t.planActive?t._e():s("div",{staticClass:"over-action d-flex",on:{click:t.routeUnlock}},[s("div",{staticClass:"over-action-box align-self-center text-white hover-dk"},[s("div",{staticClass:"text-center"},[s("i",{staticClass:"material-icons text-light md-36"},[t._v("lock")])]),t._v(" "),s("div",{staticClass:"text-center"},[t._v("\n\t\t\t\t\t\t\tUnlock to view\n\t\t\t\t\t\t")])])])])])],1):t._e()],1)},staticRenderFns:[]},Ba=s("VU/8")(za,Ga,!1,null,null,null).exports,Va={name:"zoning",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,share:os},computed:{flyToDone:function(){return this.$store.state.map.flyToDone},isAdmin:function(){return this.$store.state.agent.rec&&this.$store.state.agent.rec.role.name&&"admin"===this.$store.state.agent.rec.role.name},location:function(){return window.location.href},mapCenter:function(){return{lat:this.$store.state.map.params.lat,lng:this.$store.state.map.params.lng}},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},token:function(){return this.$store.state.agent.token},zoning:function(){return this.$store.state.zoning.rec}},created:function(){this.recLoaded=!1,this.getRec()},data:function(){return{recLoaded:!1,shareShown:!1,loadError:null}},destroyed:function(){this.$store.dispatch("ZONING_HIGHLIGHT_CLEAR",{})},methods:{edit:function(){this.$router.push({name:"zoning-edit",params:{id:this.$route.params.id}})},getRec:function(){var t=this;this.loadError=null,this.recLoaded=!1,this.$store.dispatch("ZONING_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},routeClose:function(){this.$router.push({name:"home",params:{}})},routeLogin:function(){this.$router.push({name:"auth",params:{}})},highlight:function(){this.$store.dispatch("ZONING_HIGHLIGHT",{})},zoomTo:function(){this.$store.dispatch("ZONING_ZOOM_TO")},checkInside:function(){var t=this.zoning.bounds.bbox,e=this.mapBounds;return!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkZoom:function(){return!(this.mapZoom>=16||this.mapZoom<=12)},checkReady:function(){this.zoning&&this.mapLoaded&&this.ready()},ready:function(){this.checkInside()?this.checkZoom()?this.highlight():this.$store.dispatch("MAP_FLY_TO",{zoom:16}):this.zoomTo(),this.updateTitleTag()},updateTitleTag:function(){return this.zoning&&this.zoning.designation?document.title="Zoning "+this.zoning.designation+" - Scoutred Maps":document.title="Zoning - Scoutred Maps"},share:function(){this.shareShown?this.shareShown=!1:navigator.share?navigator.share({title:document.title,text:"Zoning data for "+this.zoning.designation,url:window.location.href}):this.shareShown=!0}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&this.getRec()},mapLoaded:function(){this.checkReady()},zoning:function(t,e){this.checkReady(),this.zoning&&(this.recLoaded=!0)},flyToDone:function(){this.highlight()}}},Ha={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:!t.recLoaded}},[t.zoning?s("contentTitle",{attrs:{label:"ZONING",close:"home"}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.zoning.designation))])]):t._e(),t._v(" "),t.zoning?s("contentBody",{attrs:{locked:null===t.token}},[t.zoning?s("contentActions",[s("button",{staticClass:"btn btn-outline-light btn-sm",class:{active:!0===t.shareShown},on:{click:t.share}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"share zoning"}},[t._v("share")]),t._v(" \n\t\t\t\tShare\n\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.zoomTo}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on zoning"}},[t._v("place")]),t._v(" \n\t\t\t\tCenter\n\t\t\t")]),t._v(" "),t.isAdmin?s("button",{staticClass:"btn btn-outline-light btn-sm",on:{click:t.edit}},[s("i",{staticClass:"material-icons md-18",attrs:{title:"center map on overlay"}},[t._v("edit")]),t._v(" \n\t\t\t\tEdit\n\t\t\t")]):t._e()]):t._e(),t._v(" "),t.shareShown?s("share",{attrs:{link:t.location},on:{close:t.share}}):t._e(),t._v(" "),s("div",{staticClass:"p-3"},[null===t.token?s("div",{staticClass:"lock-block"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.routeLogin}},[s("div",{staticClass:"col-2 text-center my-auto"},[s("i",{staticClass:"material-icons text-light mr-3 md-36"},[t._v("account_box")])]),t._v(" "),s("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Sign in to edit")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("Get details on density, size restrictions, and jurisdiction")])])])]):t._e(),t._v(" "),s("div",{staticClass:"category-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description property-locked"},[t._v(t._s(t.zoning.description||"No description available"))])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("USE")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Primary")]),t._v(" "),t.zoning.use.primary?s("span",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.zoning.use.primary)+"\n\t\t\t\t\t\t")]):s("span",{staticClass:"undef property-value-right"},[t._v("\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Secondary")]),t._v(" "),t.zoning.use.secondary?s("span",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.zoning.use.secondary)+"\n\t\t\t\t\t\t")]):s("span",{staticClass:"undef property-value-right"},[t._v("\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t")])])]),t._v(" "),t._l(t.zoning.regulations,function(e,a){return t.zoning.regulations&&t.zoning.regulations.length>0?s("div",{staticClass:"pt-1 pb-0 clearfix position-relative"},[null!==e.lotSize.minArea||null!==e.lotSize.maxArea||null!==e.lotSize.minWidth||null!==e.lotSize.minWidthCorner||null!==e.lotSize.minFrontage||null!==e.lotSize.minDepth?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LOT SIZE")]),t._v(" "),null!==e.lotSize.minArea?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum area")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minArea))+" ftÂ²\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.maxArea?s("div",{staticClass:"property-row"},[s("label",[t._v("Maximum area")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.maxArea))+" ftÂ²\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minWidth?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minWidth))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minWidthCorner?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width corner")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minWidthCorner))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minFrontage?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum frontage")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minFrontage))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minDepth?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum depth")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minDepth))+" ft\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.density.sfDu?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DENSITY")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.density.sfDu))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),null!==e.density.sfDuNote?s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.density.sfDuNote)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.heightLimit.max||null!==e.heightLimit.aboveEnclosedParking||null!==e.heightLimit.roofFlat||null!==e.heightLimit.roofPitched?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("HEIGHT LIMIT")]),t._v(" "),null!==e.heightLimit.max?s("div",{staticClass:"property-row"},[s("label",[t._v("Height maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.max))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.aboveEnclosedParking?s("div",{staticClass:"property-row"},[s("label",[t._v("Above enclosed parking")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.aboveEnclosedParking))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.roofFlat?s("div",{staticClass:"property-row"},[s("label",[t._v("Roof flat limit")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.roofFlat))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.roofPitched?s("div",{staticClass:"property-row"},[s("label",[t._v("Roof pitched limit")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.roofPitched))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.note?s("div",{staticClass:"property-row"},[s("label",[t._v("Height note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.heightLimit.note)+" ft\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.far.base||null!==e.far.min||null!==e.far.max||null!==e.far.residential||null!==e.far.commercial||null!==e.far.mixed||null!==e.far.note?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("FLOOR TO AREA RATIO (FAR)")]),t._v(" "),null!==e.far.base?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR base")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.far.base)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.min?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR minimum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.far.min)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.max?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.far.max)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.residential?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR residential")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.far.residential)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.commercial?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR commercial")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.far.commercial)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.mixed?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR mixed")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.far.mixed)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.note?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.far.note)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.setbacks.frontMin||null!==e.setbacks.frontMax||null!==e.setbacks.interiorSide||null!==e.setbacks.streetSide||null!==e.setbacks.rear||null!==e.setbacks.rearAlley||null!==e.setbacks.rearAlley||null!==e.setbacks.generalNote?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("SETBACKS")]),t._v(" "),null!==e.setbacks.frontMin?s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.frontMin))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.frontMinNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.setbacks.frontMinNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.frontMax?s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.frontMax))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.frontMaxNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.setbacks.frontMaxNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.interiorSide?s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.interiorSide))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.interiorSideNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.setbacks.interiorSideNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.streetSide?s("div",{staticClass:"property-row"},[s("label",[t._v("Street side")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.streetSide))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.streetSideNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Street side note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.setbacks.streetSideNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.rear?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.rear))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.rearAlley?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear Alley")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.rearAlley))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.rearNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.setbacks.rearNote)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.generalNote?s("div",{staticClass:"property-row"},[s("label",[t._v("General note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.setbacks.generalNote)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.lotCoverage.min||null!==e.lotCoverage.max?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LOT COVERAGE")]),t._v(" "),null!==e.lotCoverage.min?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage minimum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotCoverage.min))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotCoverage.max?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotCoverage.max))+" ft\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotCoverage.note?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage note")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.lotCoverage.note)+"\n\t\t\t\t\t\t\t")])]):t._e()]):t._e()]):t._e()}),t._v(" "),null!==t.zoning.jurisdiction&&null!==t.zoning.jurisdiction.name?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("JURISDICTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description property-locked"},[t._v(t._s(t.zoning.jurisdiction.name))])])]):t._e(),t._v(" "),t.zoning.references&&t.zoning.references.length>0?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("REFERENCES")]),t._v(" "),t._l(t.zoning.references,function(e,a){return s("div",[s("div",{staticClass:"property-row"},[s("label",[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"float-right font-weight-bold"},[s("a",{attrs:{href:e.url,target:"_blank"}},[s("i",{staticClass:"material-icons md-12"},[t._v("open_in_new")]),t._v(" Link")])])])])})],2):t._e(),t._v(" "),null===t.token?s("div",{staticClass:"over-action d-flex",on:{click:t.routeLogin}},[s("div",{staticClass:"over-action-box align-self-center text-white hover-dk"},[s("div",{staticClass:"text-center"},[s("i",{staticClass:"material-icons text-light md-36"},[t._v("account_box")])]),t._v(" "),s("div",{staticClass:"text-center"},[t._v("\n\t\t\t\t\t\t\tSign in to view\n\t\t\t\t\t\t")])])]):t._e()],2)])],1):t._e()],1)},staticRenderFns:[]},ja=s("VU/8")(Va,Ha,!1,null,null,null).exports,Ya={name:"reference-form",created:function(){this.reference?this.rec=JSON.parse(lt()(this.reference)):this.rec={}},components:{},data:function(){return{rec:{}}},methods:{close:function(){this.$emit("close")},submit:function(){this.$emit("submit",this.rec)}},props:{reference:{description:String,url:String},submitLabel:String,title:String},watch:{}},Za={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t"+t._s(t.title)+"\n\t\t"),s("span",{staticClass:"category-title-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("form",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title overflow-hidden"},[t._v("\n\t\t\t\tDESCRIPTION\n\t\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.description,expression:"rec.description",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"short description"},domProps:{value:t.rec.description},on:{input:function(e){e.target.composing||t.$set(t.rec,"description",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"category-title overflow-hidden"},[t._v("\n\t\t\t\tURL\n\t\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.url,expression:"rec.url",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"full URL"},domProps:{value:t.rec.url},on:{input:function(e){e.target.composing||t.$set(t.rec,"url",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:t.submit}},[t._v(t._s(t.submitLabel))])])])},staticRenderFns:[]},Wa=s("VU/8")(Ya,Za,!1,null,null,null).exports,Qa={name:"regulation-form",created:function(){this.regulation?this.rec=JSON.parse(lt()(this.regulation)):this.rec={lotSize:{},density:{},heightLimit:{},far:{},setbacks:{},lotCoverage:{}}},components:{},data:function(){return{rec:{}}},methods:{close:function(){this.$emit("close")},submit:function(){this.$emit("submit",this.rec)}},props:{regulation:{id:Number,zoningId:Number,lotSize:{minArea:Number,maxArea:Number,minWidth:Number,minWidthCorner:Number,minFrontage:Number,minDepth:Number},density:{sfDu:Number,sfDuNote:String},heightLimit:{max:Number,aboveEnclosedParking:Number,roofFlat:Number,roofPitched:Number,note:String},far:{base:Number,min:Number,max:Number,residential:Number,commercial:Number,mixed:Number,note:String},setbacks:{frontMin:Number,frontMinNote:String,frontMax:Number,frontMaxNote:String,interiorSide:Number,interiorSideNote:String,streetSide:Number,streetSideNote:String,rear:Number,rearAlley:Number,rearNote:String,generalNote:String},lotCoverage:{min:Number,max:Number,note:String}},submitLabel:String,title:String},watch:{}},qa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t"+t._s(t.title)+"\n\t\t"),s("span",{staticClass:"category-title-btn",on:{click:t.close}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("form",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title overflow-hidden"},[t._v("\n\t\t\t\tLOT SIZE\n\t\t\t")]),t._v(" "),s("div",{staticClass:"property-row"},[t._m(0),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotSize.minArea,expression:"rec.lotSize.minArea",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"area in ftÂ²"},domProps:{value:t.rec.lotSize.minArea},on:{input:function(e){e.target.composing||t.$set(t.rec.lotSize,"minArea",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Maximum area")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotSize.maxArea,expression:"rec.lotSize.maxArea",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"area in ftÂ²"},domProps:{value:t.rec.lotSize.maxArea},on:{input:function(e){e.target.composing||t.$set(t.rec.lotSize,"maxArea",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotSize.minWidth,expression:"rec.lotSize.minWidth",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.lotSize.minWidth},on:{input:function(e){e.target.composing||t.$set(t.rec.lotSize,"minWidth",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width corner")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotSize.minWidthCorner,expression:"rec.lotSize.minWidthCorner",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.lotSize.minWidthCorner},on:{input:function(e){e.target.composing||t.$set(t.rec.lotSize,"minWidthCorner",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum frontage")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotSize.minFrontage,expression:"rec.lotSize.minFrontage",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.lotSize.minFrontage},on:{input:function(e){e.target.composing||t.$set(t.rec.lotSize,"minFrontage",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum depth")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotSize.minDepth,expression:"rec.lotSize.minDepth",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.lotSize.minDepth},on:{input:function(e){e.target.composing||t.$set(t.rec.lotSize,"minDepth",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DENSITY")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.density.sfDu,expression:"rec.density.sfDu",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"ratio"},domProps:{value:t.rec.density.sfDu},on:{input:function(e){e.target.composing||t.$set(t.rec.density,"sfDu",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.density.sfDuNote,expression:"rec.density.sfDuNote",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notations"},domProps:{value:t.rec.density.sfDuNote},on:{input:function(e){e.target.composing||t.$set(t.rec.density,"sfDuNote",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("HEIGHT LIMIT")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Height maximum")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.heightLimit.max,expression:"rec.heightLimit.max",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.heightLimit.max},on:{input:function(e){e.target.composing||t.$set(t.rec.heightLimit,"max",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Above enclosed parking")]),t._v(" "),s("div",{staticClass:"property-value-right property-locked"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.heightLimit.aboveEnclosedParking,expression:"rec.heightLimit.aboveEnclosedParking",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.heightLimit.aboveEnclosedParking},on:{input:function(e){e.target.composing||t.$set(t.rec.heightLimit,"aboveEnclosedParking",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Roof flat limit")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.heightLimit.roofFlat,expression:"rec.heightLimit.roofFlat",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.heightLimit.roofFlat},on:{input:function(e){e.target.composing||t.$set(t.rec.heightLimit,"roofFlat",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Roof pitched limit")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.heightLimit.roofPitched,expression:"rec.heightLimit.roofPitched",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.heightLimit.roofPitched},on:{input:function(e){e.target.composing||t.$set(t.rec.heightLimit,"roofPitched",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Height note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.heightLimit.note,expression:"rec.heightLimit.note",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.heightLimit.note},on:{input:function(e){e.target.composing||t.$set(t.rec.heightLimit,"note",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("FLOOR TO AREA RATIO (FAR)")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("FAR base")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.far.base,expression:"rec.far.base",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"ratio"},domProps:{value:t.rec.far.base},on:{input:function(e){e.target.composing||t.$set(t.rec.far,"base",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("FAR minimum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.far.min,expression:"rec.far.min",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"ratio"},domProps:{value:t.rec.far.min},on:{input:function(e){e.target.composing||t.$set(t.rec.far,"min",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("FAR maximum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.far.max,expression:"rec.far.max",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"ratio"},domProps:{value:t.rec.far.max},on:{input:function(e){e.target.composing||t.$set(t.rec.far,"max",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("FAR residential")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.far.residential,expression:"rec.far.residential",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"ratio"},domProps:{value:t.rec.far.residential},on:{input:function(e){e.target.composing||t.$set(t.rec.far,"residential",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("FAR commercial")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.far.commercial,expression:"rec.far.commercial",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"ratio"},domProps:{value:t.rec.far.commercial},on:{input:function(e){e.target.composing||t.$set(t.rec.far,"commercial",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("FAR mixed")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.far.mixed,expression:"rec.far.mixed",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"ratio"},domProps:{value:t.rec.far.mixed},on:{input:function(e){e.target.composing||t.$set(t.rec.far,"mixed",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("FAR note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.far.note,expression:"rec.far.note",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.far.note},on:{input:function(e){e.target.composing||t.$set(t.rec.far,"note",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("SETBACKS")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.setbacks.frontMin,expression:"rec.setbacks.frontMin",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.setbacks.frontMin},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"frontMin",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.setbacks.frontMinNote,expression:"rec.setbacks.frontMinNote",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.setbacks.frontMinNote},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"frontMinNote",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.setbacks.frontMax,expression:"rec.setbacks.frontMax",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.setbacks.frontMax},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"frontMax",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.setbacks.frontMaxNote,expression:"rec.setbacks.frontMaxNote",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.setbacks.frontMaxNote},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"frontMaxNote",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.setbacks.interiorSide,expression:"rec.setbacks.interiorSide",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.setbacks.interiorSide},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"interiorSide",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.setbacks.interiorSideNote,expression:"rec.setbacks.interiorSideNote",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.setbacks.interiorSideNote},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"interiorSideNote",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Street side")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.setbacks.streetSide,expression:"rec.setbacks.streetSide",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.setbacks.streetSide},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"streetSide",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Street side note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.setbacks.streetSideNote,expression:"rec.setbacks.streetSideNote",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.setbacks.streetSideNote},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"streetSideNote",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Rear")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.setbacks.rear,expression:"rec.setbacks.rear",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.setbacks.rear},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"rear",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Rear Alley")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.setbacks.rearAlley,expression:"rec.setbacks.rearAlley",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"distance in ft"},domProps:{value:t.rec.setbacks.rearAlley},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"rearAlley",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Rear note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.setbacks.rearNote,expression:"rec.setbacks.rearNote",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.setbacks.rearNote},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"rearNote",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("General note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.setbacks.generalNote,expression:"rec.setbacks.generalNote",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.setbacks.generalNote},on:{input:function(e){e.target.composing||t.$set(t.rec.setbacks,"generalNote",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LOT COVERAGE")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage minimum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotCoverage.min,expression:"rec.lotCoverage.min",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"area in ftÂ²"},domProps:{value:t.rec.lotCoverage.min},on:{input:function(e){e.target.composing||t.$set(t.rec.lotCoverage,"min",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage maximum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rec.lotCoverage.max,expression:"rec.lotCoverage.max",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"area in ftÂ²"},domProps:{value:t.rec.lotCoverage.max},on:{input:function(e){e.target.composing||t.$set(t.rec.lotCoverage,"max",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("input",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.lotCoverage.note,expression:"rec.lotCoverage.note",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"notation"},domProps:{value:t.rec.lotCoverage.note},on:{input:function(e){e.target.composing||t.$set(t.rec.lotCoverage,"note",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:t.submit}},[t._v(t._s(t.submitLabel))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v("Minimum area "),e("small",[this._v("(leave empty for no min)")])])}]},Ka={primary:["commercial","industrial","mixed use","open space","planned district","residential","government","agriculture","parking"],secondary:{residential:["single family","multi family"],commercial:["office","retail"],industrial:["heavy manufacturing","light manufacturing","agricultural"]}},Ja={name:"zoning",components:{contentBox:Ht,contentActions:Zt,contentBody:qt,contentTitle:Xt,referenceForm:Wa,regulationForm:s("VU/8")(Qa,qa,!1,null,null,null).exports},computed:{isAdmin:function(){return this.$store.state.agent.rec&&this.$store.state.agent.rec.role.name&&"admin"===this.$store.state.agent.rec.role.name},token:function(){return this.$store.state.agent.token},zoning:function(){return this.$store.state.zoning.rec},mapCenter:function(){return{lat:this.$store.state.map.params.lat,lng:this.$store.state.map.params.lng}},mapZoom:function(){return this.$store.state.map.params.zoom},mapLoaded:function(){return this.$store.state.map.loaded},mapBounds:function(){return this.$store.state.map.bounds},flyToDone:function(){return this.$store.state.map.flyToDone},zoningUses:function(){return Ka}},created:function(){this.recLoaded=!1,this.getRec()},data:function(){return{error:null,mode:null,rec:null,referenceDeleteInd:null,referenceEditInd:null,regulationDeleteInd:null,regulationEditInd:null,loading:!0,loadError:null}},destroyed:function(){this.$store.dispatch("ZONING_HIGHLIGHT_CLEAR",{})},methods:{getRec:function(){var t=this;this.loadError=null,this.loading=!0,this.$store.dispatch("ZONING_GET",{id:this.$route.params.id}).catch(function(e){t.loadError=e})},routeClose:function(){this.$router.push({name:"zoning",params:{id:this.$route.params.id}})},routeLogin:function(){this.$router.push({name:"auth",params:{}})},highlight:function(){this.$store.dispatch("ZONING_HIGHLIGHT",{})},zoomTo:function(){this.$store.dispatch("ZONING_ZOOM_TO")},checkInside:function(){var t=this.zoning.bounds.bbox,e=this.mapBounds;return!(t[1]>e._ne.lat||t[3]<e._sw.lat||t[0]>e._ne.lng||t[2]<e._sw.lng)},checkZoom:function(){return!(this.mapZoom>=16||this.mapZoom<=12)},checkReady:function(){this.zoning&&this.mapLoaded&&this.ready()},primaryUseChange:function(){this.rec.use.secondary=""},ready:function(){this.checkInside()?this.checkZoom()?this.highlight():this.$store.dispatch("MAP_FLY_TO",{zoom:16}):this.zoomTo(),this.updateTitleTag()},referenceAdd:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("ZONING_REFERENCE_ADD",{id:this.$route.params.id,reference:e});case 3:this.loading=!1,this.setMode(null);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),referenceDelete:function(t){this.setMode("referenceDelete"),this.referenceDeleteInd=t},referenceDeleteSubmit:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e=this.zoning.references[this.referenceDeleteInd].id,t.next=4,this.$store.dispatch("ZONING_REFERENCE_DELETE",{id:this.$route.params.id,referenceId:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),referenceEdit:function(t){this.setMode("referenceEdit"),this.referenceEditInd=t},referenceSave:function(){var t=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,s=this.zoning.references[this.referenceEditInd].id,t.next=4,this.$store.dispatch("ZONING_REFERENCE_SAVE",{id:this.$route.params.id,referenceId:s,reference:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),regulationAdd:function(){var t=F()(O.a.mark(function t(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("ZONING_REGULATION_ADD",{id:this.$route.params.id,regulation:e});case 3:this.loading=!1,this.setMode(null);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),regulationDelete:function(t){this.setMode("regulationDelete"),this.regulationDeleteInd=t},regulationDeleteSubmit:function(){var t=F()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e=this.zoning.regulations[this.regulationDeleteInd].id,t.next=4,this.$store.dispatch("ZONING_REGULATION_DELETE",{id:this.$route.params.id,regulationId:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),regulationEdit:function(t){this.setMode("regulationEdit"),this.regulationEditInd=t},regulationSave:function(){var t=F()(O.a.mark(function t(e){var s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,s=this.zoning.regulations[this.regulationEditInd].id,t.next=4,this.$store.dispatch("ZONING_REGULATION_SAVE",{id:this.$route.params.id,regulationId:s,regulation:e});case 4:this.loading=!1,this.setMode(null);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updateTitleTag:function(){return this.zoning&&this.zoning.designation?document.title="Zoning "+this.zoning.designation+" - Scoutred Maps":document.title="Zoning - Scoutred Maps"},saveDetails:function(){var t=F()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("ZONING_SAVE",{id:this.$route.params.id,rec:this.rec});case 3:this.loading=!1,this.setMode(null);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setMode:function(t){this.mode=t}},watch:{$route:function(t,e){e&&t.params.id!==e.params.id&&this.getRec()},mapLoaded:function(){this.checkReady()},zoning:function(t,e){this.checkReady(),this.zoning&&(this.rec=JSON.parse(lt()(this.zoning)),this.loading=!1)},flyToDone:function(){this.highlight()}}},Xa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loadError?t._e():s("contentBox",{attrs:{loading:t.loading}},[t.zoning?s("contentTitle",{attrs:{label:"EDIT ZONING",close:t.routeClose}},[s("h2",{staticClass:"text-white font-weight-light pb-2"},[t._v(t._s(t.zoning.designation))])]):t._e(),t._v(" "),t.zoning?s("contentBody",{attrs:{locked:null===t.token||!t.isAdmin}},[s("div",{staticClass:"p-3"},[null!==t.token&&t.isAdmin?t._e():s("div",{staticClass:"lock-block"},[s("div",{staticClass:"row mx-0 hover-dk",on:{click:t.routeLogin}},[s("div",{staticClass:"col-2 text-center my-auto"},[s("i",{staticClass:"material-icons text-light mr-3 md-36"},[t._v("account_box")])]),t._v(" "),s("div",{staticClass:"py-3 col-10 pl-0 pr-3 py-3"},[s("h5",{staticClass:"mb-0 text-white"},[t._v("Sign in to edit")]),t._v(" "),s("h5",{staticClass:"mb-0 font-weight-light text-light"},[t._v("You must be signed in as an admin to edit this record")])])])]),t._v(" "),null!==t.token&&t.isAdmin?s("div",{staticClass:"category-body"},["detailsEdit"===t.mode?s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\tEdit Details\n\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode(null)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category-title"},[t._v("JURISDICTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.zoning.jurisdiction.name))])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rec.description,expression:"rec.description"}],staticClass:"form-control",domProps:{value:t.rec.description},on:{input:function(e){e.target.composing||t.$set(t.rec,"description",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("USE")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Primary")]),t._v(" "),s("div",{staticClass:"property-value-right"},[s("select",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.use.primary,expression:"rec.use.primary",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"primary use"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.rec.use,"primary",e.target.multiple?s:s[0])},t.primaryUseChange]}},[s("option",{attrs:{value:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t** blank **\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),t._l(t.zoningUses.primary,function(e){return s("option",{domProps:{value:e}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t")])})],2)])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Secondary")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t.rec.use.primary?t.zoningUses.secondary[t.rec.use.primary]?s("select",{directives:[{name:"model",rawName:"v-model.string",value:t.rec.use.secondary,expression:"rec.use.secondary",modifiers:{string:!0}}],staticClass:"form-control form-control-sm",attrs:{placeholder:"secondary use"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.rec.use,"secondary",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t** blank **\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),t._l(t.zoningUses.secondary[t.rec.use.primary],function(e){return s("option",{domProps:{value:e}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t")])})],2):s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\tNo secondary uses for "+t._s(t.rec.use.primary)+"\n\t\t\t\t\t\t\t\t\t")]):s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\tSelect a primary use\n\t\t\t\t\t\t\t\t\t")])])])])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:t.saveDetails}},[t._v("Save")])])]):s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\tDetails\n\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode("detailsEdit")}}},[s("i",{staticClass:"material-icons md-14"},[t._v("edit")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category-title"},[t._v("JURISDICTION")]),t._v(" "),s("div",{staticClass:"property-row"},[s("div",{staticClass:"text-description"},[t._v(t._s(t.zoning.jurisdiction.name))])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),t.zoning.description?s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.zoning.description)+"\n\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("USE")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Primary")]),t._v(" "),t.zoning.use.primary?s("span",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.zoning.use.primary)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("Secondary")]),t._v(" "),t.zoning.use.secondary?s("span",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.zoning.use.secondary)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])])])])]),t._v(" "),t._l(t.zoning.regulations,function(e,a){return s("div",["regulationEdit"===t.mode&&t.regulationEditInd===a?s("regulationForm",{attrs:{regulation:t.zoning.regulations[a],submitLabel:"Save",title:"Edit Regulation "+(a+1)},on:{close:function(e){t.setMode(null)},submit:t.regulationSave}}):"regulationDelete"===t.mode&&t.regulationDeleteInd===a?s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tDelete Regulation "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode(null)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\tAre you sure you want to delete this regulation?\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-danger float-right",on:{click:t.regulationDeleteSubmit}},[t._v("Delete")])])]):s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tRegulation "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.regulationDelete(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("delete")])]),t._v(" "),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.regulationEdit(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("edit")])])]),t._v(" "),s("div",{staticClass:"section-body"},[null!==e.lotSize.minArea||null!==e.lotSize.maxArea||null!==e.lotSize.minWidth||null!==e.lotSize.minWidthCorner||null!==e.lotSize.minFrontage||null!==e.lotSize.minDepth?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LOT SIZE")]),t._v(" "),null!==e.lotSize.minArea?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum area")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minArea))+" ftÂ²\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.maxArea?s("div",{staticClass:"property-row"},[s("label",[t._v("Maximum area")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.maxArea))+" ftÂ²\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minWidth?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minWidth))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minWidthCorner?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum width corner")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minWidthCorner))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minFrontage?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum frontage")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minFrontage))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotSize.minDepth?s("div",{staticClass:"property-row"},[s("label",[t._v("Minimum depth")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotSize.minDepth))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.density.sfDu||null!==e.density.sfDuNote?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DENSITY")]),t._v(" "),s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.density.sfDu))+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),null!==e.density.sfDuNote?s("div",{staticClass:"property-row"},[s("label",[t._v("SF/DU note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.density.sfDuNote)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.heightLimit.max||null!==e.heightLimit.aboveEnclosedParking||null!==e.heightLimit.roofFlat||null!==e.heightLimit.roofPitched?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("HEIGHT LIMIT")]),t._v(" "),null!==e.heightLimit.max?s("div",{staticClass:"property-row"},[s("label",[t._v("Height maximum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.max))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.aboveEnclosedParking?s("div",{staticClass:"property-row"},[s("label",[t._v("Above enclosed parking")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.aboveEnclosedParking))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.roofFlat?s("div",{staticClass:"property-row"},[s("label",[t._v("Roof flat limit")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.roofFlat))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.roofPitched?s("div",{staticClass:"property-row"},[s("label",[t._v("Roof pitched limit")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.heightLimit.roofPitched))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.heightLimit.note?s("div",{staticClass:"property-row"},[s("label",[t._v("Height note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.heightLimit.note)+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.far.base||null!==e.far.min||null!==e.far.max||null!==e.far.residential||null!==e.far.commercial||null!==e.far.mixed?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("FLOOR TO AREA RATIO (FAR)")]),t._v(" "),null!==e.far.base?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR base")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.far.base)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.min?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR minimum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.far.min)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.max?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR maximum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.far.max)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.residential?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR residential")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.far.residential)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.commercial?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR commercial")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.far.commercial)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.mixed?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR mixed")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.far.mixed)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.far.note?s("div",{staticClass:"property-row"},[s("label",[t._v("FAR note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.far.note)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.setbacks.frontMin||null!==e.setbacks.frontMax||null!==e.setbacks.interiorSide||null!==e.setbacks.streetSide||null!==e.setbacks.rear||null!==e.setbacks.rearAlley||null!==e.setbacks.rearAlley||null!==e.setbacks.generalNote?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("SETBACKS")]),t._v(" "),null!==e.setbacks.frontMin?s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.frontMin))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.frontMinNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Front minimum note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.setbacks.frontMinNote)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.frontMax?s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.frontMax))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.frontMaxNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Front maximum note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.setbacks.frontMaxNote)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.interiorSide?s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.interiorSide))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.interiorSideNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Interior side note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.setbacks.interiorSideNote)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.streetSide?s("div",{staticClass:"property-row"},[s("label",[t._v("Street side")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.streetSide))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.streetSideNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Street side note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.setbacks.streetSideNote)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.rear?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.rear))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.rearAlley?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear Alley")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.setbacks.rearAlley))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.rearNote?s("div",{staticClass:"property-row"},[s("label",[t._v("Rear note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.setbacks.rearNote)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.setbacks.generalNote?s("div",{staticClass:"property-row"},[s("label",[t._v("General note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.setbacks.generalNote)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e()]):t._e(),t._v(" "),null!==e.lotCoverage.min||null!==e.lotCoverage.max?s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("LOT COVERAGE")]),t._v(" "),null!==e.lotCoverage.min?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage minimum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotCoverage.min))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotCoverage.max?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage maximum")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("integerLg")(e.lotCoverage.max))+" ft\n\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),null!==e.lotCoverage.note?s("div",{staticClass:"property-row"},[s("label",[t._v("Lot coverage note")]),t._v(" "),s("div",{staticClass:"property-value-right"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.lotCoverage.note)+"\n\t\t\t\t\t\t\t\t\t")])]):t._e()]):t._e()])])],1)}),t._v(" "),"regulationAdd"===t.mode?s("regulationForm",{attrs:{submitLabel:"Add",title:"Add Regulation"},on:{close:function(e){t.setMode(null)},submit:t.regulationAdd}}):s("div",{staticClass:"mb-3"},[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.setMode("regulationAdd")}}},[t._v("Add Regulation")])]),t._v(" "),t._l(t.zoning.references,function(e,a){return t.zoning.references?s("div",["referenceDelete"===t.mode&&t.referenceDeleteInd===a?s("div",{staticClass:"section section-bold"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tDelete Reference "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.setMode(null)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\tAre you sure you want to delete this reference?\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"section-footer"},[s("button",{staticClass:"btn btn-sm btn-danger float-right",on:{click:t.referenceDeleteSubmit}},[t._v("Delete")])])]):"referenceEdit"===t.mode&&t.referenceEditInd===a?s("referenceForm",{attrs:{reference:t.zoning.references[a],submitLabel:"Save",title:"Edit Reference "+(a+1)},on:{close:function(e){t.setMode(null)},submit:t.referenceSave}}):s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[t._v("\n\t\t\t\t\t\t\tReference "+t._s(a+1)+"\n\t\t\t\t\t\t\t"),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.referenceDelete(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("delete")])]),t._v(" "),s("span",{staticClass:"category-title-btn",on:{click:function(e){t.referenceEdit(a)}}},[s("i",{staticClass:"material-icons md-14"},[t._v("edit")])])]),t._v(" "),s("div",{staticClass:"section-body"},[s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("DESCRIPTION")]),t._v(" "),e.description?s("div",{staticClass:"property-row"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.description)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"category"},[s("div",{staticClass:"category-title"},[t._v("URL")]),t._v(" "),e.url?s("div",{staticClass:"property-row word-wrap-break"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.url)+"\n\t\t\t\t\t\t\t\t")]):s("span",{staticClass:"undef"},[t._v("\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t")])])])])],1):t._e()}),t._v(" "),"referenceAdd"===t.mode?s("referenceForm",{attrs:{submitLabel:"Add",title:"Add Reference"},on:{close:function(e){t.setMode(null)},submit:t.referenceAdd}}):s("div",{staticClass:"mb-3"},[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(e){t.setMode("referenceAdd")}}},[t._v("Add Reference")])])],2):t._e()])]):t._e()],1)},staticRenderFns:[]},ti=s("VU/8")(Ja,Xa,!1,null,null,null).exports;w.a.use(xt.a);var ei=new xt.a({mode:"history",base:I.routerBase,fallback:!1,routes:[{path:"/overlays/:map?",component:Is,children:[{name:"overlay",path:"/overlays/:id/:map?",component:Ds},{name:"overlay-edit",path:"/overlays/:id/edit/:map?",component:Ns},{name:"overlays",path:"",component:Gs}]},{path:"/permits/:map?",component:Ca,children:[{name:"permits",path:"",component:Ta},{name:"permitsSearch",path:"/permits/search/:search/:map?",component:Ta},{name:"permit",path:"/permits/:id/:map?",component:Ea}]},{path:"/collections/:map?",component:Pe,children:[{name:"collections",path:"",component:Fe},{name:"collection-unlocked",path:"/collections/unlocked/:map?",component:is},{name:"collection",path:"/collections/:collectionId/:map?",component:es}]},{path:"/features/:map?",component:gs,children:[{name:"features",path:"/features/:lng/:lat/:map?",component:ws}]},{name:"home",path:"/:map?",component:ks,children:[{name:"agent",path:"/agent/:map?",component:Ce},{name:"agent-tab",path:"/agent/:tab/:map?",component:Ce},{name:"search",path:"/search/:search/:map?"},{name:"community-plans",path:"/community-plans/:id/:map?",component:us},{name:"community-plan-edit",path:"/community-plans/:id/edit/:map?",component:ms},{name:"parcels",path:"/parcels/:id/:map?",component:va},{name:"parcels-tab",path:"/parcels/:id/:tab/:map?",component:va},{name:"plan",path:"/plan/:map?",component:La},{name:"unlock",path:"/unlock/:map?",component:Ua},{name:"unlock-parcel",path:"/unlock-parcel/:parcelId/:map?",component:Ua},{name:"zoning",path:"/zoning/:id/:map?",component:ja},{name:"zoning-edit",path:"/zoning/:id/edit/:map?",component:ti},{name:"auth",path:"/auth",component:we},{name:"auth-tab",path:"/auth/:tab/:map?",component:we},{name:"sewer-main",path:"/sewer-main/:id/:map?",component:xa},{name:"water-main",path:"/water-main/:id/:map?",component:Ba}]}]}),si=(s("qb6w"),s("wvfG")),ai=s.n(si),ii={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-container"},[e("div",{staticClass:"error alert alert-danger alert-dismissible fade show shadow-dk"},[this._v("\n\t\t"+this._s(this.errorMsg)+"\n\t\t"),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:this.close}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])])])},staticRenderFns:[]};var ri=s("VU/8")({computed:{errorMsg:function(){return this.$store.state.error.message}},methods:{close:function(){this.$store.dispatch("ERROR_MESSAGE_CLEAR")}}},ii,!1,function(t){s("Z2hh")},null,null).exports,ni=s("Zrlr"),oi=s.n(ni),li=s("wxAW"),ci=s.n(li),ui=s("0EtW"),di=s.n(ui),pi=(s("3bag"),{name:"map-center",computed:{},data:function(){return{loading:!1}},methods:{center:function(){var t=this;navigator.geolocation?(this.loading=!0,navigator.geolocation.getCurrentPosition(function(e){var s=[e.coords.longitude,e.coords.latitude];t.loading=!1,t.$store.dispatch("MAP_FLY_TO",{center:s,position:e,zoom:18})},function(e){t.loading=!1,t.$store.dispatch("ERROR_MESSAGE_SET",{message:"Error retrieving location"})})):this.$store.dispatch("ERROR_MESSAGE_SET",{message:"Geolocation not enabled in this browser"})}}}),vi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mapboxgl-ctrl mapboxgl-ctrl-group bg-blue-dk",attrs:{id:"mapCenter"}},[this.loading?e("div",{staticClass:"mapboxgl-ctrl-icon text-light px-2 loading-ctrl"},[this._m(0)]):e("button",{staticClass:"mapboxgl-ctrl-icon",attrs:{title:"center map on current location"},on:{click:this.center}},[e("i",{staticClass:"material-icons"},[this._v("my_location")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-dots justify-content-center align-self-center"},[e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"})])}]};var hi=s("VU/8")(pi,vi,!1,function(t){s("tJvc")},null,null).exports,mi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mapboxgl-ctrl mapboxgl-ctrl-group",attrs:{id:"mapStyle"}},[e("button",{staticClass:"mapboxgl-ctrl-icon",on:{click:this.toggleStyle}},[this.satellite?this._e():e("div",[e("img",{attrs:{src:s("RaIc")}})]),this._v(" "),this.satellite?e("img",{attrs:{src:s("8J25")}}):this._e()])])},staticRenderFns:[]};var _i=s("VU/8")({name:"map-style",computed:{satellite:function(){return"satellite"===this.$store.state.map.params.style}},methods:{toggleStyle:function(){"satellite"!=this.$store.state.map.params.style?this.$store.dispatch("MAP_PARAMS_SET",{style:"satellite"}):this.$store.dispatch("MAP_PARAMS_SET",{style:"vector"})}}},mi,!1,function(t){s("H/o7")},null,null).exports,fi={zoning:{rows:[{label:"residential (i)",color:"#FFAB00"},{label:"residential (ii)",color:"#FFAB00"},{label:"mixed use",color:"#E65100"},{label:"commercial",color:"#B61D1D"},{label:"government",color:"#C2195B"},{label:"industrial",color:"#6A1B9A"},{label:"open space",color:"#558B2F"}]}},gi={name:"map-legend",computed:{satellite:function(){return"satellite"===this.$store.state.map.params.style}},data:function(){return{groups:fi}},methods:{toggleStyle:function(){"satellite"!=this.$store.state.map.params.style?this.$store.dispatch("MAP_PARAMS_SET",{style:"satellite"}):this.$store.dispatch("MAP_PARAMS_SET",{style:"vector"})},swatchStyle:function(t){return"background-color:"+t.color+";"}},mounted:function(){}},Ci={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mapboxgl-ctrl mapboxgl-ctrl-group",attrs:{id:"mapLegend"}},[s("div",{staticClass:"legend-group"},[t._m(0),t._v(" "),s("div",{staticClass:"legend-list"},t._l(t.groups.zoning.rows,function(e,a){return s("div",{key:e.label,staticClass:"legend-row"},[s("span",{staticClass:"legend-swatch",style:t.swatchStyle(e)}),t._v(" "),s("span",{staticClass:"legend-label"},[t._v("\n\t\t\t\t\t"+t._s(e.label)+"\n\t\t\t\t")])])}))]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"legend-header"},[e("i",{staticClass:"material-icons md-14"},[this._v("remove_red_eye")]),this._v("\n\t\t\tzoning\n\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"legend-group off"},[e("div",{staticClass:"legend-header"},[e("i",{staticClass:"material-icons md-14"},[this._v("remove_red_eye")]),this._v("\n\t\t\toverlays\n\t\t")])])}]};var yi=s("VU/8")(gi,Ci,!1,function(t){s("dAe4")},null,null).exports,bi=[{name:"overlays",layers:["overlays-visible","overlays-active","overlays-active-lines","overlays-hover","overlays-hover-lines","overlay-labels-visible"]},{name:"zoning",layers:["zoning","zoning-labels","zoning-lines","zoning-active","zoning-active-lines","zoning-hover-lines"]},{name:"sewer mains",layers:["sewer-mains","sewer-mains-active","sewer-mains-hover"]},{name:"water mains",layers:["water-mains","water-mains-active","water-mains-hover"]}],Ei=(w.a.extend({template:'<div class="mapboxgl-ctrl mapboxgl-ctrl-group"><button class="mapboxgl-ctrl-icon" title="debug lines"><img src="../img/satelliteThumb.png"/></button></div>'}),{poi:{},label:{"zoning-labels":{route:"zoning"},"community-plan-labels":{route:"community-plans"}},feature:{parcels:{route:"parcels"},"water-mains":{route:"water-main"},"sewer-mains":{route:"sewer-main"},"overlays-visible":{state:{visible:"on"},route:"overlay"}}}),wi={name:"mapbox",data:function(){return{mapStyles:I.mapStyles,styleCurrent:"satellite",featuresActive:null,featuresHover:null,featuresVisible:null,labelsActive:null,labelsHover:null}},computed:{deviceType:function(){return this.$store.state.device.type},poi:function(){return this.$store.state.map.poi},poiHove:function(){return this.$store.state.map.poiHover},poiActive:function(){return this.$store.state.map.poiActive},labelHove:function(){return this.$store.state.map.labelHover},labelActive:function(){return this.$store.state.map.labelActive},featureHove:function(){return this.$store.state.map.featureHover},featureActive:function(){return this.$store.state.map.featureActive},featureVisibleOn:function(){return this.$store.state.map.featureVisibleOn},featureVisibleOff:function(){return this.$store.state.map.featureVisibleOff},featureVisibleClear:function(){return this.$store.state.map.featureVisibleClear},featureQuery:function(){return this.$store.state.map.featureQuery},flyTo:function(){return this.$store.state.map.flyTo},fitBounds:function(){return this.$store.state.map.fitBounds},layerGroupsVisible:function(){return this.$store.state.map.layerGroupsVisible},mapClickPoint:function(){return this.$store.state.map.clickPoint},mapLeftMargin:function(){return this.$store.state.map.leftMargin},mapLoaded:function(){return this.$store.state.map.loaded},mapParams:function(){return this.$store.state.map.params}},props:{position:{type:Object}},watch:{mapClickPoint:function(t,e){this.clickPointWatch(t)},poi:function(t,e){return this.poiWatch(t)},poiHove:function(t,e){return this.poiHoverWatch(t)},poiActive:function(t,e){return this.poiActiveWatch(t)},labelHove:function(t,e){return this.labelHoverWatch(t)},labelActive:function(t,e){return this.labelActiveWatch(t)},featureHove:function(t,e){return this.featureHoverWatch(t)},featureActive:function(t,e){return this.featureActiveWatch(t)},featureVisibleOn:function(t,e){return this.featureVisibleOnWatch(t)},featureVisibleOff:function(t,e){return this.featureVisibleOffWatch(t)},featureVisibleClear:function(t,e){return this.featureVisibleClearWatch(t)},featureQuery:function(t,e){return this.featureQueryWatch(t)},layerGroupsVisible:function(t,e){return this.layerGroupsVisibleWatch(t,e)},flyTo:function(t,e){var s=this,a=this.calcZoomOffset();this.map.flyTo({center:t.center,zoom:t.zoom,offset:[a,0]});this.map.on("moveend",function t(){s.map.off("moveend",t);var e=setInterval(function(){s.map.areTilesLoaded()&&(s.$store.dispatch("MAP_FLY_TO_DONE"),clearInterval(e))},100)})},fitBounds:function(t,e){var s=this;if(t){var a=this.calcZoomOffset();if(this.map.fitBounds(t.bounds.bbox||t.bounds,{offset:[a,0],maxZoom:t.maxZoom?t.maxZoom:17,padding:t.padding?t.padding:30}),t.minZoom){this.map.on("moveend",function e(){s.map.getZoom()<t.minZoom&&s.map.zoomTo(t.minZoom),s.map.off("moveend",e);var a=setInterval(function(){s.map.areTilesLoaded()&&(s.$store.dispatch("MAP_FIT_BOUNDS_DONE"),clearInterval(a))},100)})}}},mapParams:function(t,e){e&&lt()(t)===lt()(e)||e&&e.style===t.style||this.mapStyleChange(this.$data.mapStyles[t.style])}},mounted:function(){var t=this;di.a.accessToken="pk.eyJ1IjoiYXJvbGVrIiwiYSI6IkFqeVVOUnMifQ.JPIIcBsgdLn3ZcUNVMMN-g";var e=this,s={container:"map",attributionControl:!1,minZoom:3,maxZoom:19},a="vector",i=function(){function t(){oi()(this,t)}return ci()(t,[{key:"onAdd",value:function(t){this._container=document.createElement("div");var s=new(w.a.extend(hi))({router:e.$router,store:e.$store,propsData:{}}).$mount();return this._container.appendChild(s.$el),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container),this._map=void 0}}]),t}(),r=function(){function t(){oi()(this,t)}return ci()(t,[{key:"onAdd",value:function(t){this._container=document.createElement("div");var s=new(w.a.extend(_i))({router:e.$router,store:e.$store,propsData:{}}).$mount();return this._container.appendChild(s.$el),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container),this._map=void 0}}]),t}();!function(){function t(){oi()(this,t)}ci()(t,[{key:"onAdd",value:function(t){this._container=document.createElement("div");var s=new(w.a.extend(yi))({router:e.$router,store:e.$store,propsData:{}}).$mount();return this._container.appendChild(s.$el),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container),this._map=void 0}}])}();this.mapParams&&(null!==this.mapParams.lng&&null!==this.mapParams.lat&&(s.center=[this.mapParams.lng,this.mapParams.lat]),this.mapParams.zoom&&(s.zoom=this.mapParams.zoom),this.mapParams.pitch&&(s.pitch=this.mapParams.pitch),this.mapParams.bearing&&(s.bearing=this.mapParams.bearing),this.mapParams.style&&(a=this.mapParams.style)),s.style=this.$data.mapStyles[a],this.map=new di.a.Map(s),"mobile"!==this.deviceType&&this.map.addControl(new di.a.NavigationControl({showCompass:!1}),"top-right"),this.map.addControl(new di.a.AttributionControl({compact:!1}),"bottom-right"),this.map.addControl(new r({})),"mobile"===this.deviceType&&this.map.addControl(new i({})),this.map.on("load",function(){t.mapReady()})},methods:{calcZoomOffset:function(){var t=window.innerWidth/2,e=this.mapLeftMargin||0;return(e+(window.innerWidth-e)/2-t)/2},mapReady:function(){var t=this;for(var e in this.setBounds(),this.map.on("moveend",function(e){t.setPosition(),t.setBounds()}),Ei.label)this.map.on("mouseenter",e,function(e){t.labelMouseenter(e)});this.map.on("mouseleave","label-hover",function(e){t.labelMouseleave(e)}),this.map.on("mouseenter","poi",function(e){t.poiMouseenter(e)}),this.map.on("mouseleave","poi-hover",function(e){t.poiMouseleave(e)}),this.map.on("mousemove",function(e){t.mousemoveInteractive(e.point)}),this.map.on("click",function(e){t.mouseClick(e)}),this.poiLayersAdd(),this.labelLayersAdd(),this.$store.dispatch("MAP_LOADED",!0)},mapStyleChange:function(t){var e=this;this.map.setStyle(t);var s=setInterval(function(){e.map.isStyleLoaded()&&(clearInterval(s),e.poiLayersAdd(),e.labelLayersAdd(),e.poiWatch(e.poi),e.poiActiveWatch(e.poiActive),e.featureActiveWatch(e.featureActive),e.layerGroupsVisibleStyleChange())},50)},getInteractive:function(t){var e=[{x:t.x-10,y:t.y+10},{x:t.x+10,y:t.y-10}],s=this.map.queryRenderedFeatures(e),a={poi:[],labels:[],features:[]},i=[];return s&&s.map(function(t){if(t.layer&&"land"!==t.layer.id){var e=t.layer.id,s=e+"-"+t.id;if(-1===i.indexOf(s)&&(i.push(s),Ei.feature[e])){if(Ei.feature[e].state)for(var r in Ei.feature[e].state)if(Ei.feature[e].state[r]!==t.state[r])return;var n={featureId:t.id,styleLayer:e,sourceLayer:t.layer["source-layer"],properties:t.properties,geometry:t.geometry};a.features.push(n)}}}),a},mouseClick:function(t){if(this.over){if(this.over.feature&&this.over.feature.properties&&this.over.feature.properties.route)return void this.$router.push(JSON.parse(this.over.feature.properties.route));if(this.over.feature&&Ei[this.over.level][this.over.feature.styleLayer]&&Ei[this.over.level][this.over.feature.styleLayer].route)return void this.$router.push({name:Ei[this.over.level][this.over.feature.styleLayer].route,params:{id:this.over.feature.properties.resource_id}})}var e=this.map.unproject(t.point);this.$router.push({name:"features",params:{lng:parseFloat(e.lng).toFixed(5),lat:parseFloat(e.lat).toFixed(5)}})},clickPointWatch:function(t){if(this.clickMarker&&this.clickMarker.remove(),null!==t){var e=document.createElement("div");e.innerHTML="",e.className="marker icon-crosshair-active",this.clickMarker=new di.a.Marker(e,{offset:[0,0]}).setLngLat(t).addTo(this.map);var s=this.getInteractive(this.map.project(t));if(s&&s.features)if(1===s.features.length){var a=s.features[0],i=a.featureId;a.properties.resource_id&&(i=a.properties.resource_id),this.$router.replace({name:Ei.feature[a.styleLayer].route,params:{id:i}})}else this.$store.dispatch("FEATURES_SET",{features:s.features})}},mousemoveInteractive:function(t){if(this.over){if(this.over.feature.geometry&&this.over.feature.geometry.coordinates){var e=this.map.project(this.over.feature.geometry.coordinates);Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>100&&(this.over=null)}}else{var s=this.getInteractive(t);if(s.features.length>0)return this.poiUnhover(),this.labelUnhover(),this.featureHover(s.features),void(document.getElementById("map").className="mapboxgl-map cursor-crosshair");this.poiUnhover(),this.labelUnhover(),this.featureUnhover(),document.getElementById("map").className="mapboxgl-map"}},labelMouseenter:function(t){if(t.features&&!(t.features.length<1)){var e=t.features[0],s={featureId:e.id,styleLayer:e.layer.id,sourceLayer:e.layer["source-layer"],properties:e.properties,geometry:e.geometry};this.over={level:"label",feature:s},this.poiUnhover(),this.labelHover([s]),this.featureUnhover(),document.getElementById("map").className="mapboxgl-map cursor-pointer"}},labelMouseleave:function(t){this.over=null},poiMouseenter:function(t){if(t.features&&!(t.features.length<1)){var e=t.features[0],s={featureId:e.id,styleLayer:e.layer.id,sourceLayer:e.layer["source-layer"],properties:e.properties,geometry:e.geometry};this.over={level:"poi",feature:s},this.labelUnhover(),this.poiHover([s]),this.featureUnhover(),document.getElementById("map").className="mapboxgl-map cursor-pointer"}},poiMouseleave:function(t){this.over=null},poiHover:function(t){var e=t.filter(function(t){return"poi-hover"!==t.styleLayer&&"poi-active"!==t.styleLayer});this.$store.dispatch("MAP_POI_HOVER_SET",e)},poiUnhover:function(){this.$store.dispatch("MAP_POI_HOVER_SET",null)},poiWatch:function(t){var e=[];t&&t.map&&t.map(function(t){e.push({type:"Feature",geometry:t.geometry,properties:t.properties})}),this.map.getSource("poi")&&this.map.getSource("poi").setData({type:"FeatureCollection",features:e})},poiHoverWatch:function(t){var e=[];t&&t.map&&t.map(function(t){e.push({type:"Feature",geometry:t.geometry,properties:t.properties})}),this.map.getSource("poi-hover")&&this.map.getSource("poi-hover").setData({type:"FeatureCollection",features:e})},poiActiveWatch:function(t){var e=[];t&&e.push({type:"Feature",geometry:t.geometry,properties:t.properties}),this.map.getSource("poi-active")&&this.map.getSource("poi-active").setData({type:"FeatureCollection",features:e})},poiLayersAdd:function(){this.map.getSource("poi")||this.map.addSource("poi",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.getSource("poi-hover")||this.map.addSource("poi-hover",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.getSource("poi-active")||this.map.addSource("poi-active",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.getLayer("poi")||this.map.addLayer({id:"poi",source:"poi",type:"circle",paint:{"circle-radius":4,"circle-color":"#273237","circle-stroke-width":2,"circle-stroke-color":"#FFF"}}),this.map.getLayer("poi-hover")||this.map.addLayer({id:"poi-hover",source:"poi-hover",type:"circle",paint:{"circle-radius":6,"circle-color":"transparent","circle-stroke-width":3,"circle-stroke-color":"#CC1717"}}),this.map.getLayer("poi-active")||this.map.addLayer({id:"poi-active",source:"poi-active",type:"circle",paint:{"circle-radius":6,"circle-color":"#CC1717","circle-stroke-width":3,"circle-stroke-color":"#FFFFFF"}})},labelHover:function(t){var e=t.filter(function(t){return!(!t||"label-hover"===t.styleLayer||"label-active"===t.styleLayer)});this.$store.dispatch("MAP_LABEL_HOVER_SET",e)},labelUnhover:function(){this.$store.dispatch("MAP_LABEL_HOVER_SET",null)},labelHoverWatch:function(t){var e=[];if(t&&t.length>0){var s=t[0];if("label-hover"===s.styleLayer)return;e.push({type:"Feature",geometry:s.geometry,properties:s.properties})}if(this.map.getSource("label-hover").setData({type:"FeatureCollection",features:e}),this.map.getLayer("label-hover")&&this.map.removeLayer("label-hover"),t&&t.length>0){var a=t[0];this.map.addLayer({id:"label-hover",source:"label-hover",type:"symbol",layout:{"text-field":this.map.getLayoutProperty(a.styleLayer,"text-field"),"text-font":this.map.getLayoutProperty(a.styleLayer,"text-font"),"text-size":this.map.getLayoutProperty(a.styleLayer,"text-size"),"text-allow-overlap":!0,"icon-allow-overlap":!0},paint:{"text-color":"rgb(229,57,53)","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":3,"text-halo-blur":1}})}},labelActiveWatch:function(t){var e=[];t&&e.push({type:"Feature",geometry:t.geometry,properties:t.properties}),this.map.getSource("label-active").setData({type:"FeatureCollection",features:e}),this.map.getLayer("label-active")&&this.map.removeLayer("label-active"),t&&this.map.addLayer({id:"label-active",source:"label-active",type:"symbol",layout:{"text-field":this.map.getLayoutProperty(t.styleLayer,"text-field"),"text-font":this.map.getLayoutProperty(t.styleLayer,"text-font"),"text-size":this.map.getLayoutProperty(t.styleLayer,"text-size")},paint:{"text-color":"rgb(229,57,53)","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":3,"text-halo-blur":1,"icon-opacity":1}})},labelLayersAdd:function(){this.map.getSource("label")||this.map.addSource("label",{type:"geojson",data:{type:"FeatureCollection",features:this.mapPoi||[]}}),this.map.getSource("label-hover")||this.map.addSource("label-hover",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.getSource("label-active")||this.map.addSource("label-active",{type:"geojson",data:{type:"FeatureCollection",features:this.mapPoiActive||[]}})},featureHover:function(t){this.$store.dispatch("MAP_FEATURE_HOVER_SET",t)},featureUnhover:function(){this.$store.dispatch("MAP_FEATURE_HOVER_SET",null)},featureHoverWatch:function(t){var e=this;if(this.featuresHover&&(this.featuresHover.map(function(t){var s=!1;e.featuresActive&&e.featuresActive.map(function(e){e.featureId===t.featureId&&(s=!0)}),s||e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:t.featureId},{state:null})}),this.featuresHover=null),t){var s=[];t.map(function(t){var a=!1;e.featuresActive&&e.featuresActive.map(function(e){e.featureId===t.featureId&&(a=!0)}),a||(e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:t.featureId},{state:"hover"}),s.push(M()({},t)))}),this.featuresHover=s}},featureActiveWatch:function(t){var e=this;if(this.featuresActive&&(this.featuresActive.map(function(t){e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:t.featureId},{state:null})}),this.featuresActive=null),t){if(!t.featureId){var s=["all"];for(var a in t.properties)s.push(["==",["get",a],t.properties[a]]);var i=[];return this.map.querySourceFeatures("scoutred",{sourceLayer:t.sourceLayer,filter:s}).map(function(s){e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:s.id},{state:"active"}),i.push(M()({},t,{featureId:s.id}))}),void(this.featuresActive=i)}this.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:t.featureId},{state:"active"}),this.featuresActive=[t]}},featureVisibleOnWatch:function(t){var e=this;t&&(this.featuresVisible=this.featuresVisible||[],t.map(function(t){if(!t.featureId){var s=["all"];for(var a in t.properties)s.push(["==",["get",a],t.properties[a]]);var i=[];return e.map.querySourceFeatures("scoutred",{sourceLayer:t.sourceLayer,filter:s}).map(function(s){e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:s.id},{visible:"on"}),i.push(M()({},t,{featureId:s.id}))}),void(e.featuresVisible=[].concat(tt()(e.featuresVisible),i))}e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:t.featureId},{visible:"on"}),e.featuresVisible=[].concat(tt()(e.featuresVisible),[t])}))},featureVisibleOffWatch:function(t){var e=this;t&&t.map(function(t){if(!t.featureId){var s=["all"];for(var a in t.properties)s.push(["==",["get",a],t.properties[a]]);var i=e.map.querySourceFeatures("scoutred",{sourceLayer:t.sourceLayer,filter:s}),r=e.featuresVisible?[].concat(tt()(e.featuresVisible)):[];return i.map(function(s){e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:s.id},{visible:null}),r.filter(function(e){return e.featureId!==s.featureId||e.sourceLayer!==t.sourceLayer})}),void(e.featuresVisible=r)}if(e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:t.featureId},{visible:null}),e.featuresVisible){var n=[].concat(tt()(e.featuresVisible));n.filter(function(e){return e.featureId!==t.featureId||e.sourceLayer!==t.sourceLayer}),e.featuresVisible=n}})},featureVisibleClearWatch:function(t){var e=this;"all"===t&&this.featuresVisible&&(this.featuresVisible.map(function(t){e.map.setFeatureState({source:"scoutred",sourceLayer:t.sourceLayer,id:t.featureId},{visible:null})}),this.featuresVisible=null),this.$store.dispatch("MAP_FEATURE_VISIBLE_CLEAR",null)},featureQueryWatch:function(t){if(t){var e=["all"];for(var s in t.properties)e.push(["==",["get",s],t.properties[s]]);for(var a in t.state)e.push(["==",["feature-state",a],t.state[a]]);var i=this.map.querySourceFeatures("scoutred",{sourceLayer:t.sourceLayer,filter:e});this.$store.dispatch("MAP_FEATURE_QUERY",null);var r=[];i.map(function(e){for(var s in r)if(r[s].featureId===e.id)return;var a={featureId:e.id,sourceLayer:t.sourceLayer,properties:M()({},e.properties),geometry:e.geometry};r.push(a)}),this.$store.dispatch("MAP_FEATURE_QUERY_FOUND",r)}},layerGroupsVisibleWatch:function(t,e){var s=this;e.filter(function(e){return!t.includes(e)}).forEach(function(t){var e=bi.find(function(e){return e.name===t});e.layers&&e.layers.forEach(function(t){s.map.getLayer(t)&&s.map.setLayoutProperty(t,"visibility","none")})}),t.forEach(function(t){var e=bi.find(function(e){return e.name===t});e.layers&&e.layers.forEach(function(t){s.map.getLayer(t)&&s.map.setLayoutProperty(t,"visibility","visible")})})},layerGroupsVisibleStyleChange:function(){var t=this.layerGroupsVisible;this.layerGroupsVisibleWatch(t,["zoning"])},renderPopup:function(t){var e=this,s=["zoning","community-plans","parcels","sewer-mains","water-mains"],a=t.filter(function(t){return-1!==s.indexOf(t.layer.id)});return setTimeout(function(){for(var t=0,s=a.length;t<s;t++)if("water-mains"===a[t].layer.id){var i=new(w.a.extend(WaterFeature))({router:e.$router,store:e.$store,propsData:{feature:a[t]}}).$mount();document.getElementById("map-inspect").appendChild(i.$el)}},1),'<div class="map-inspect" id="map-inspect"></div>'},setPosition:function(){var t=this.map.getCenter(),e=this.map.getZoom(),s=this.map.getPitch(),a=this.map.getBearing();this.$store.dispatch("MAP_PARAMS_SET",{lat:t.lat,lng:t.lng,zoom:e,pitch:s,bearing:a})},setBounds:function(){var t=this.map.getBounds(),e={x:this.mapLeftMargin||0,y:window.innerHeight},s=this.map.unproject(e);t._sw=s,this.$store.dispatch("MAP_BOUNDS_SET",{bounds:t})}}},Si={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"map"}})},staticRenderFns:[]};var Ti={name:"route",components:{mapbox:s("VU/8")(wi,Si,!1,function(t){s("wr/j")},null,null).exports},data:function(){return{prevMapPath:null,prevGAPath:null}},created:function(){var t=this.$router.currentRoute,e={loaded:!0};if(t&&t.params&&t.params.map){var s=t.params.map.substr(1).split("&"),a=s[0].split(",");if(a[0]&&a[1]&&(e.lat=Number(a[0]),e.lng=Number(a[1])),a[2]&&(e.zoom=Number(a[2])),a[3]&&(e.pitch=Number(a[3])),a[4]&&(e.bearing=Number(a[4])),s.length>1)for(var i=1,r=s.length;i<r;i++){var n=s[i].split("=");e[n[0]]=n[1]}}this.$store.dispatch("MAP_PARAMS_SET",e),this.GAPageview(t.fullPath)},computed:{mapParams:function(){return this.$store.state.map.params},mapLoaded:function(){return this.$store.state.map.loaded}},methods:{updatePath:function(){if(null!==this.mapParams.lat){var t="@"+parseFloat(this.mapParams.lat).toFixed(4)+","+parseFloat(this.mapParams.lng).toFixed(4)+","+parseFloat(this.mapParams.zoom).toFixed(2);if(this.mapParams.pitch)t+=","+parseFloat(this.mapParams.pitch).toFixed(2);if(this.mapParams.bearing)t+=","+parseFloat(this.mapParams.bearing).toFixed(2);if("vector"!==this.mapParams.style&&(t+="&style="+this.mapParams.style),t!==this.prevMapPath){this.prevMapPath=t;var e=M()({},this.$router.currentRoute.params,{map:t});this.$router.replace({params:e,query:this.$router.currentRoute.query})}}},GAPageview:function(t){var e=t.split("/@")[0];e!==this.prevGAPath&&(window.ga("set","page","/maps"+e),window.ga("send","pageview"),this.prevGAPath=e)}},watch:{mapParams:{deep:!0,handler:function(){this.updatePath()}},$route:function(t,e){if(this.$store.dispatch("ERROR_MESSAGE_CLEAR"),!t.params.map&&e.params.map){var s=M()({},t.params,{map:e.params.map});this.$router.replace({params:s,query:t.query})}else this.GAPageview(t.fullPath)}}},ki={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-100 w-100"},[this.mapParams.loaded?e("mapbox"):this._e(),this._v(" "),e("router-view"),this._v(" "),this.mapLoaded?this._e():e("div",{staticClass:"loading d-flex bg-dk"},[this._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-dots justify-content-center align-self-center"},[e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"})])}]};var Ai=s("VU/8")(Ti,ki,!1,function(t){s("1h+6")},null,null).exports,Li=["January","February","March","April","May","June","July","August","September","October","November","December"],Ii=function(t){if(null===t||"0001-01-01T00:00:00Z"===t)return"-";var e=new Date(t),s=e.getDate(),a=e.getMonth(),i=e.getFullYear();return Li[a]+" "+s+", "+i};w.a.filter("numberWithCommas",function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),w.a.filter("apn",function(t){return t&&10==t.length?t.replace(/(\d{3})(\d{3})(\d{2})(\d{2})/,"$1-$2-$3-$4"):t});var Ri=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0});w.a.filter("currency",function(t){return Ri.format(t)}),w.a.filter("time",function(t){var e=new Date(t),s=e.getHours(),a=e.getMinutes(),i=s>=12?"PM":"AM";return(s=(s%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+i}),w.a.filter("longDate",function(t){return Ii(t)}),w.a.filter("yearShort",function(t){return String(t).substr(2)}),w.a.filter("ago",function(t){var e=new Date(t),s=(new Date).getTime()-e.getTime();return s<2e3?"1 sec ago":s<6e4?Math.round(s/1e3)+" secs ago":s<36e5?Math.round(s/6e4)+" min ago":s<72e5?"1 hr ago":s<864e5?Math.round(s/36e5)+" hrs ago":s<1728e5?"yesterday":s<6048e5?Math.round(s/864e5)+" days ago":s<12096e5?"a week ago":s<2592e6?Math.round(s/6048e5)+" weeks ago":s<5184e6?"a month ago":Ii(t)}),w.a.filter("integerLg",function(t){return Number(t).toLocaleString()}),w.a.filter("address",function(t){var e="";return t.address&&t.address.street&&(null!==t.address.street.number&&(e+=t.address.street.number+" "),null!==t.address.street.numberFraction&&(e+=t.address.street.numberFraction+" "),null!==t.address.street.preDirection&&(e+=t.address.street.preDirection+" "),null!==t.address.street.name&&(e+=t.address.street.name+" "),null!==t.address.street.suffix&&(e+=t.address.street.suffix+" "),null!==t.address.street.postDirection&&(e+=t.address.street.postDirection+" "),null!==t.address.unit&&(e+=" #"+t.address.unit),e=e.replace(/\s+$/,"")),(e.length<1||"0 "===e)&&(e=t.apn.replace(/(\d{3})(\d{3})(\d{2})(\d{2})/,"$1-$2-$3-$4")),e});var xi={name:"app",components:{error:ri,route:Ai},created:function(){var t=void 0;t=window.innerWidth<576||window.innerHeight<576?"mobile":"desktop",this.$store.dispatch("AGENT_INIT"),this.$store.dispatch("PLAN_CURRENT"),this.$store.dispatch("DEVICE_TYPE_SET",t),this.$store.dispatch("SCROLL_MARGIN_TOP_SET",{device:t}),this.scrolling="mobile"===t,ga("create",I.googleAnalytics.trackingId,"auto")},computed:{errorMessage:function(){return this.$store.state.error.message},parcel:function(){return this.$store.state.parcel},token:function(){return this.$store.state.agent.token},planLoaded:function(){return this.$store.state.plan.loaded},deviceType:function(){return this.$store.state.device.type},scrollTop:function(){return this.$store.state.scroll.top}},data:function(){return{scrolling:!1}},methods:{getMainClass:function(){var t=this.deviceType;return t+="mobile"===this.deviceType?" min-h-100":" h-100"},bindScroll:function(){this.scrolling&&window.addEventListener("scroll",this.handleScroll)},handleScroll:function(t){return t.stopPropagation(),!1}},mounted:function(){this.bindScroll()},watch:{scrollTop:function(t){-1!==t&&this.scrolling&&(window.scrollTo(0,t),this.$store.dispatch("SCROLL_TOP_RESET",-1))}}},Mi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"main",class:this.getMainClass(),attrs:{id:"app"}},[this.planLoaded?e("route"):this._e(),this._v(" "),this.errorMessage?e("error"):this._e()],1)},staticRenderFns:[]};var $i=s("VU/8")(xi,Mi,!1,function(t){s("M4CA")},null,null).exports;ai.a.config.autoSetContainer=!0,w.a.use(ai.a),new w.a({el:"#app",store:Rt,router:ei,render:function(t){return t($i)}})},"QC+x":function(t,e){},QJ78:function(t,e){},Qaf8:function(t,e){},R87p:function(t,e){},RaIc:function(t,e,s){t.exports=s.p+"img/satelliteThumb.5fbe832.png"},ST7k:function(t,e){},SpYs:function(t,e){},TeX6:function(t,e){},VkT2:function(t,e){},XERY:function(t,e){},"Ya7/":function(t,e){},Z2Ye:function(t,e,s){t.exports=s.p+"img/kim.e380c3f.png"},Z2hh:function(t,e){},"a9a/":function(t,e){},cYND:function(t,e){},ceXX:function(t,e){},dAe4:function(t,e){},hSxP:function(t,e){},hs8G:function(t,e){},"kc/n":function(t,e){},ktWX:function(t,e){},"lUF+":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjAwcHgiIGhlaWdodD0iMjAwcHgiIHZpZXdCb3g9IjAgMCAyMDAgMjAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0My4yICgzOTA2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+VW50aXRsZWQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgZmlsbC1ydWxlPSJub256ZXJvIiBmaWxsPSIjRjQzRjFEIj4KICAgICAgICAgICAgPHBhdGggZD0iTTgwLjksMTIuMSBDODMuOSwxMS41IDg2LjksMTEgOTAsMTAuNiBDODYuOSwxMC45IDgzLjksMTEuNCA4MC45LDEyLjEgWiBNMTAwLDEwIEMxMDEuNCwxMCAxMDIuOCwxMCAxMDQuMiwxMC4xIEMxMDIuOCwxMCAxMDEuNCwxMCAxMDAsMTAgWiBNMTE1LjgsMTEuNCBDMTE0LjYsMTEuMiAxMTMuMywxMSAxMTIuMSwxMC44IEMxMTMuNSwxMSAxMTQuOCwxMS4yIDExNi4xLDExLjQgTDExNS44LDExLjQgWiBNOTAuMywxMC41IEM5MS43LDEwLjQgOTMuMSwxMC4yIDk0LjUsMTAuMiBDOTMuMSwxMC4zIDkxLjcsMTAuNCA5MC4zLDEwLjUgWiBNMTM0LDEyNi45IEw3Mi4xLDY1IEw3Mi4xLDY1IEw3Mi4xLDY1IEw5OC4yLDM4LjkgTDE2MC4xLDEwMC44IEwxNjcuMiw5My43IEwxMDUuMywzMS44IEwxMDUuMywzMS44IEwxMDQuOSwzMS40IEwxMDUuMywzMS44IEwxMTUuNSwyMS42IEMxMTEuNCwyMC44IDEwNy4xLDIwLjMgMTAyLjgsMjAuMiBMOTguMiwyNC44IEw5My44LDIwLjQgQzg5LjYsMjAuNyA4NS41LDIxLjQgODEuNiwyMi4zIEw5MS4yLDMxLjkgTDk4LjMsMjQuOCBMOTguMywyNC44IEw5MS4yLDMxLjkgTDk4LjMsMzkgTDk4LjMsMzkgTDkxLjIsMzEuOSBMNjUsNTcuOSBMNDcuMSw0MCBDNDQuNiw0Mi4yIDQyLjIsNDQuNiA0MCw0Ny4xIEw1Ny45LDY1IEw2NSw1Ny45IEw2NSw1Ny45IEw1Ny45LDY1IEw1Ny45LDY1IEwyNS40LDk3LjUgTDI0LjcsOTguMiBMMjQuOCw5OC4zIEMyMy41LDEwMC4yIDIzLjcsMTAyLjkgMjUuNCwxMDQuNiBDMjcuMSwxMDYuMyAyOS44LDEwNi41IDMxLjcsMTA1LjIgTDMxLjgsMTA1LjMgTDMyLjUsMTA0LjYgQzMzLDEwNC4xIDMzLjQsMTAzLjQgMzMuNywxMDIuNyBDMzMuNSwxMDMuNCAzMy4xLDEwNCAzMi41LDEwNC42IEw2NSw3MiBMNjUsNzIgTDY1LDcyIEw5My45LDEwMC45IEw5My45LDEwMC45IEw5NS42LDEwMi42IEw5My45LDEwMC45IEw0MC45LDE1My45IEM0My4xLDE1Ni40IDQ1LjYsMTU4LjcgNDguMSwxNjAuOCBMNjcuMiwxNDEuNyBMNjYuMywxNDAuOCBMNjcuMiwxNDEuNyBMNjcuMiwxNDEuNyBMMTA1LjMsMTc5LjggQzEwOS41LDE3OS41IDExMy42LDE3OC45IDExNy43LDE3OCBMNzQuNCwxMzQuNyBMNzQuNCwxMzQuNyBMNzEuMSwxMzEuNCBMNzEuMSwxMzEuNCBMNzQuNCwxMzQuNyBMMTAxLDEwOCBMMTUyLjksMTU5LjkgQzE1NS40LDE1Ny43IDE1Ny44LDE1NS4zIDE2MCwxNTIuOCBMMTQxLjEsMTM0IEwxNjcuMiwxMDcuOSBMMTYwLjEsMTAwLjggTDEzNCwxMjYuOSBaIE0yOSw5NiBDMzAuMyw5NiAzMS42LDk2LjUgMzIuNSw5Ny41IEMzMS42LDk2LjQgMzAuMyw5NiAyOSw5NiBaIE05Ni4xLDk4LjggTDk3LjUsOTcuNCBMOTcuNSw5Ny40IEw5Ni4xLDk4LjggWiBNMTQxLjEsMTM0IEwxNDEuMSwxMzQgTDEzNCwxMjYuOSBMMTMwLDEzMC45IEwxMzAsMTMwLjkgTDEzNCwxMjYuOSBMMTQxLjEsMTM0IEwxNDEuMSwxMzQgWiBNMTg4LjMsODIuNSBDMTg4LDgxIDE4Ny43LDc5LjQgMTg3LjMsNzcuOSBDMTg3LjYsNzkuNCAxODgsODEgMTg4LjMsODIuNSBaIE0xMDAsMCBDNDQuOCwwIDAsNDQuOCAwLDEwMCBDMCwxNTUuMiA0NC44LDIwMCAxMDAsMjAwIEMxNTUuMiwyMDAgMjAwLDE1NS4yIDIwMCwxMDAgQzIwMCw0NC44IDE1NS4yLDAgMTAwLDAgWiBNMTAwLDE5MCBDNTAuMywxOTAgMTAsMTQ5LjcgMTAsMTAwIEMxMCw1MC4zIDUwLjMsMTAgMTAwLDEwIEMxNDkuNywxMCAxOTAsNTAuMyAxOTAsMTAwIEMxOTAsMTQ5LjcgMTQ5LjcsMTkwIDEwMCwxOTAgWiBNMTc4LjEsODIuOCBMMTY3LjIsOTMuNyBMMTY3LjIsOTMuNyBMMTYwLjEsMTAwLjggTDE2Ny4yLDEwNy45IEwxNjcuMiwxMDcuOSBMMTc3LjgsMTE4LjUgQzE3OC43LDExNC41IDE3OS40LDExMC40IDE3OS43LDEwNi4zIEwxNzQuMiwxMDAuOCBMMTc0LjIsMTAwLjggTDE3NC4yLDEwMC44IEwxNzkuOCw5NS4yIEMxNzkuNiw5MC45IDE3OSw4Ni44IDE3OC4xLDgyLjggWiBNNjQuMyw5OC42IEM2MCw5OC42IDU2LjUsMTAyLjEgNTYuNSwxMDYuNCBMNjQuMywxMTguNSBMNzIuMSwxMDYuNCBDNzIuMiwxMDIuMSA2OC43LDk4LjYgNjQuMyw5OC42IFogTTY0LjMsMTA5LjQgQzYyLjMsMTA5LjQgNjAuNywxMDcuOCA2MC43LDEwNS44IEM2MC43LDEwMy44IDYyLjMsMTAyLjIgNjQuMywxMDIuMiBDNjYuMywxMDIuMiA2Ny45LDEwMy44IDY3LjksMTA1LjggQzY3LjksMTA3LjggNjYuMywxMDkuNCA2NC4zLDEwOS40IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},prsL:function(t,e){},qb6w:function(t,e){},tJvc:function(t,e){},uJ5Q:function(t,e){},"wr/j":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a843a622c1a067b4b864.js.map